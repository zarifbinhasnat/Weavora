/*! For license information please see main.555d8aad.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Se(e){if(e=mi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=yi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ee)&&(Ne(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Ue=!1,Fe=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,_t,xt,Et,St=!1,Tt=[],It=null,Ct=null,Nt=null,At=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Ft(){St=!1,null!==It&&jt(It)&&(It=null),null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),At.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),At.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=yt,a=Bt.transition;Bt.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=i,Bt.transition=a}}function Ht(e,t,n,r){var i=yt,a=Bt.transition;Bt.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)Br(e,t,r,Wt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&bt(a),null===(a=Gt(e,t,n,r))&&Br(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Wt=null;function Gt(e,t,n,r){if(Wt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,$t=null;function Jt(){if($t)return $t;var e,t,n=Yt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=nn(sn),cn=j({},sn,{view:0,detail:0}),ln=nn(cn),fn=j({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(j({},fn,{dataTransfer:0})),pn=nn(j({},cn,{relatedTarget:0})),vn=nn(j({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=j({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gn=nn(mn),yn=nn(j({},sn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function xn(){return _n}var En=j({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=nn(En),Tn=nn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=nn(j({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Cn=nn(j({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=nn(Nn),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Dn=l&&"TextEvent"in window&&!On,Ln=l&&(!Pn||On&&8<On&&11>=On),Mn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Wn(e){Mr(e,0)}function Gn(e){if(G(gi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Yn;if(l){var $n="oninput"in document;if(!$n){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),$n="function"===typeof Jn.oninput}Yn=$n}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Hn&&(Hn.detachEvent("onpropertychange",er),Kn=Hn=null)}function er(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];qn(t,Kn,e,we(e)),Re(Wn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,gr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},_r={};function xr(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return wr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Er=xr("animationend"),Sr=xr("animationiteration"),Tr=xr("animationstart"),Ir=xr("transitionend"),Cr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Cr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Pr=Nr[Rr];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(Er,"onAnimationEnd"),Ar(Sr,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Ue||(Ue=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function jr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Fr]){e[Fr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Cr.get(e);if(void 0!==s){var u=un,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":c="focus",u=pn;break;case"focusout":c="blur",u=pn;break;case"beforeblur":case"afterblur":u=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Er:case Sr:case Tr:u=vn;break;case Ir:u=Cn;break;case"scroll":u=ln;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:gi(u),d=null==c?s:gi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Wr(o,s,u,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(u=(s=r?gi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Qn;else if(Bn(s))if(Xn)m=ir;else{m=nr;var g=tr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?gi(r):window,e){case"focusin":(Bn(g)||"true"===g.contentEditable)&&(pr=g,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,yr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":yr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Vn&&(y=Jt()):(Yt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(g=Hr(r,k)).length&&(k=new yn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Fn(n))&&(k.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(jn=!0,Mn);case"textInput":return(e=t.data)===Mn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Pn&&Un(e,t)?(e=Jt(),$t=Yt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(qr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(qr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),ci="__reactFiber$"+ui,li="__reactProps$"+ui,fi="__reactContainer$"+ui,hi="__reactEvents$"+ui,di="__reactListeners$"+ui,pi="__reactHandles$"+ui;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[ci])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function yi(e){return e[li]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function _i(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function xi(e,t){bi++,ki[bi]=e.current,e.current=t}var Ei={},Si=wi(Ei),Ti=wi(!1),Ii=Ei;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){_i(Ti),_i(Si)}function Ri(e,t,n){if(Si.current!==Ei)throw Error(a(168));xi(Si,t),xi(Ti,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ii=Si.current,xi(Si,e),xi(Ti,Ti.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,_i(Ti),_i(Si),xi(Si,e)):_i(Ti),xi(Ti,n)}var Li=null,Mi=!1,ji=!1;function Ui(e){null===Li?Li=[e]:Li.push(e)}function Fi(){if(!ji&&null!==Li){ji=!0;var e=0,t=yt;try{var n=Li;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Ze,Fi),i}finally{yt=t,ji=!1}}return null}var Vi=b.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Hi=null,Ki=null;function Wi(){Ki=Hi=qi=null}function Gi(e){var t=Bi.current;_i(Bi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){qi=e,Ki=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(gs=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===qi)throw Error(a(308));Hi=e,qi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var $i=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==yu&&0!==(1&e.mode)&&0===(2&gu)?(null===(e=n.interleaved)?(t.next=t,null===$i?$i=[n]:$i.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Ji=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Ji=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Su|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var sa=(new r.Component).refs;function ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bu(),i=qu(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Hu(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bu(),i=qu(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Hu(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bu(),r=qu(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Hu(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Ei,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ni(t)?Ii:Si.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=sa,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ni(t)?Ii:Si.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ga=0,ya=[],ka=0,ba=null,wa=1,_a="";function xa(e,t){pa[va++]=ga,pa[va++]=ma,ma=e,ga=t}function Ea(e,t,n){ya[ka++]=wa,ya[ka++]=_a,ya[ka++]=ba,ba=e;var r=wa;e=_a;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,_a=a+e}else wa=1<<a|n<<i|r,_a=e}function Sa(e){null!==e.return&&(xa(e,1),Ea(e,1,0))}function Ta(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ga=pa[--va],pa[va]=null;for(;e===ba;)ba=ya[--ka],ya[ka]=null,_a=ya[--ka],ya[ka]=null,wa=ya[--ka],ya[ka]=null}var Ia=null,Ca=null,Na=!1,Aa=null;function Ra(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ia=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ia=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:_a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ia=e,Ca=null,!0);default:return!1}}function Oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Da(e){if(Na){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(Oa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ia;t&&Pa(e,t)?Ra(r,n):(e.flags=-4097&e.flags|2,Na=!1,Ia=e)}}else{if(Oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Na=!1,Ia=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function Ma(e){if(e!==Ia)return!1;if(!Na)return La(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Oa(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Ra(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ia?oi(e.stateNode.nextSibling):null;return!0}function ja(){Ca=Ia=null,Na=!1}function Ua(e){null===Aa?Aa=[e]:Aa.push(e)}function Fa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===sa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&za(a)===t.type)?((r=i(t,n.props)).ref=Fa(e,t,n),r.return=e,r):((r=xc(n.type,n.key,n.props,null,e.mode,r)).ref=Fa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ec(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=xc(t.type,t.key,t.props,null,e.mode,n)).ref=Fa(e,null,t),n.return=e,n;case _:return(t=Ic(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ec(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),Na&&xa(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Na&&xa(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Na&&xa(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),Na&&xa(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return Na&&xa(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),Na&&xa(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Fa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Ec(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=xc(o.type,o.key,o.props,null,r.mode,u)).ref=Fa(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ic(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Tc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var qa=Ba(!0),Ha=Ba(!1),Ka={},Wa=wi(Ka),Ga=wi(Ka),Qa=wi(Ka);function Xa(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(xi(Qa,t),xi(Ga,e),xi(Wa,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Wa),xi(Wa,t)}function $a(){_i(Wa),_i(Ga),_i(Qa)}function Ja(e){Xa(Qa.current);var t=Xa(Wa.current),n=ue(t,e.type);t!==n&&(xi(Ga,e),xi(Wa,n))}function Za(e){Ga.current===e&&(_i(Wa),_i(Ga))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,so=null,uo=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(oo=o,so=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:es,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=uo=null,t.updateQueue=null,io.current=ts,e=n(r,i)}while(fo)}if(io.current=Jo,t=null!==uo&&null!==uo.next,oo=0,co=uo=so=null,lo=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?so.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===uo){var e=so.alternate;e=null!==e?e.memoizedState:null}else e=uo.next;var t=null===co?so.memoizedState:co.next;if(null!==t)co=t,uo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(uo=e).memoizedState,baseState:uo.baseState,baseQueue:uo.baseQueue,queue:uo.queue,next:null},null===co?so.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=uo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,so.lanes|=f,Su|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,ar(r,t.memoizedState)||(gs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,so.lanes|=o,Su|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(gs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Eo(){}function So(e,t){var n=so,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,gs=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ro(9,Io.bind(null,n,r,i,t),void 0,null),null===yu)throw Error(a(349));0!==(30&oo)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=so.updateQueue)?(t={lastEffect:null,stores:null},so.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Hu(e,1,-1)}function Co(e,t,n){return n((function(){No(t)&&Hu(e,1,-1)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,so,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=so.updateQueue)?(t={lastEffect:null,stores:null},so.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Oo(e,t,n,r){var i=ko();so.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==uo){var o=uo.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,a,r))}so.flags|=e,i.memoizedState=Ro(1|t,n,a,r)}function Lo(e,t){return Oo(8390656,8,e,t)}function Mo(e,t){return Do(2048,8,e,t)}function jo(e,t){return Do(4,2,e,t)}function Uo(e,t){return Do(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Fo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{yt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Wo(e,t,n){var r=qu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?Xo(t,n):(Yo(e,t,n),null!==(e=Hu(e,r,n=Bu()))&&$o(e,t,r))}function Go(e,t,n){var r=qu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ar(s,o))return}catch(u){}null!==(e=Hu(e,r,n=Bu()))&&$o(e,t,r)}}function Qo(e){var t=e.alternate;return e===so||null!==t&&t===so}function Xo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==yu&&0!==(1&e.mode)&&0===(2&gu)?(null===(e=t.interleaved)?(n.next=n,null===$i?$i=[t]:$i.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Jo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,so,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Ao,useDebugValue:zo,useDeferredValue:function(e){var t=Ao(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ao(!1),t=e[0];return e=Ho.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=so,i=ko();if(Na){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===yu)throw Error(a(349));0!==(30&oo)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=yu.identifierPrefix;if(Na){var n=_a;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:jo,useLayoutEffect:Uo,useMemo:qo,useReducer:_o,useRef:Po,useState:function(){return _o(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:jo,useLayoutEffect:Uo,useMemo:qo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function ns(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function rs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var is,as,os,ss="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pu||(Pu=!0,Ou=r),rs(0,t)},n}function cs(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){rs(0,t),"function"!==typeof r&&(null===Du?Du=new Set([this]):Du.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ls(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ss;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ds(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ps(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vs(e,t,n){var r=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(t),null;case 1:case 17:return Ni(t.type)&&Ai(),ps(t),null;case 3:return r=t.stateNode,$a(),_i(Ti),_i(Si),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Aa&&(Xu(Aa),Aa=null))),ps(t),null;case 5:Za(t);var i=Xa(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)as(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ps(t),null}if(e=Xa(Wa.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)jr(Or[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ci]=t,e[li]=r,is(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)jr(Or[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ps(t),null;case 6:if(e&&null!=t.stateNode)os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Qa.current),Xa(Wa.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ia))switch(u=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,u);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,u)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return ps(t),null;case 13:if(_i(eo),r=t.memoizedState,Na&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return ja(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else ja(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ps(t),null}return null!==Aa&&(Xu(Aa),Aa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===xu&&(xu=3):ic())),null!==t.updateQueue&&(t.flags|=4),ps(t),null);case 4:return $a(),null===e&&Vr(t.stateNode.containerInfo),ps(t),null;case 10:return Gi(t.type._context),ps(t),null;case 19:if(_i(eo),null===(o=t.memoizedState))return ps(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ds(o,!1);else{if(0!==xu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=to(e))){for(t.flags|=128,ds(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Ru&&(t.flags|=128,r=!0,ds(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ds(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Na)return ps(t),null}else 2*$e()-o.renderingStartTime>Ru&&1073741824!==n&&(t.flags|=128,r=!0,ds(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=eo.current,xi(eo,r?1&n|2:1&n),t):(ps(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&wu)&&(ps(t),6&t.subtreeFlags&&(t.flags|=8192)):ps(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},as=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Wa.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},os=function(e,t,n,r){n!==r&&(t.flags|=4)};var ms=b.ReactCurrentOwner,gs=!1;function ys(e,t,n,r){t.child=null===e?Ha(t,null,n,r):qa(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var a=t.ref;return Xi(t,i),r=go(e,t,n,r,a,i),n=yo(),null===e||gs?(Na&&n&&Sa(t),t.flags|=1,ys(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fs(e,t,i))}function bs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ws(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Fs(e,t,i)}return t.flags|=1,(e=_c(a,r)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(gs=!1,0===(e.lanes&i))return t.lanes=e.lanes,Fs(e,t,i);0!==(131072&e.flags)&&(gs=!0)}return Es(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},xi(_u,wu),wu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,xi(_u,wu),wu|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,xi(_u,wu),wu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xi(_u,wu),wu|=r;return ys(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var a=Ni(n)?Ii:Si.current;return a=Ci(t,a),Xi(t,i),n=go(e,t,n,r,a,i),r=yo(),null===e||gs?(Na&&r&&Sa(t),t.flags|=1,ys(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fs(e,t,i))}function Ss(e,t,n,r,i){if(Ni(n)){var a=!0;Oi(t)}else a=!1;if(Xi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ci(t,c=Ni(n)?Ii:Si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ha(t,o,r,c),Ji=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ti.current||Ji?("function"===typeof l&&(ua(t,n,l,r),u=t.memoizedState),(s=Ji||la(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:zi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Yi(u):u=Ci(t,u=Ni(n)?Ii:Si.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ha(t,o,r,u),Ji=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ti.current||Ji?("function"===typeof d&&(ua(t,n,d,r),p=t.memoizedState),(c=Ji||la(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){xs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Fs(e,t,a);r=t.stateNode,ms.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,s,a)):ys(e,t,s,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Ya(e,t.containerInfo)}function Cs(e,t,n,r,i){return ja(),Ua(i),t.flags|=256,ys(e,t,n,r),t.child}var Ns={dehydrated:null,treeContext:null,retryLane:0};function As(e){return{baseLanes:e,cachePool:null}}function Rs(e,t,n){var r,i=t.pendingProps,o=eo.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(eo,1&o),null===e)return Da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Sc(o,i,0,null),e=Ec(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=As(n),t.memoizedState=Ns,e):Ps(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Ls(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Sc({mode:"visible",children:i.children},o,0,null),(s=Ec(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=As(n),t.memoizedState=Ns,s);if(0===(1&t.mode))t=Ls(e,t,n,null);else if("$!"===r.data)t=Ls(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),gs||i){if(null!==(i=yu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Hu(e,i,-1))}ic(),t=Ls(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ia=t,Na=!0,Aa=null,null!==n&&(ya[ka++]=wa,ya[ka++]=_a,ya[ka++]=ba,wa=n.id,_a=n.overflow,ba=t),(t=Ps(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Ds(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?As(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i):(n=Os(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Ds(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?As(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i):(n=Os(e,t,i.children,n),t.memoizedState=null,n)}function Ps(e,t){return(t=Sc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Os(e,t,n,r){var i=e.child;return e=i.sibling,n=_c(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ds(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=_c(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=_c(o,r):(r=Ec(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ls(e,t,n,r){return null!==r&&Ua(r),qa(t,e.child,null,n),(e=Ps(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ms(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function js(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ys(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ms(e,n,t);else if(19===e.tag)Ms(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Su|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){switch(Ta(t),t.tag){case 1:return Ni(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $a(),_i(Ti),_i(Si),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(_i(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ja()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(eo),null;case 4:return $a(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zs=!1,Bs=!1,qs="function"===typeof WeakSet?WeakSet:Set,Hs=null;function Ks(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Ws(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Gs=!1;function Qs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Ws(t,n,a)}i=i.next}while(i!==r)}}function Xs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ys(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function $s(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Ws(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ks(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ks(t,n);break;case 4:iu(e,t,n)}}function Js(e){var t=e.alternate;null!==t&&(e.alternate=null,Js(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zs(e){return 5===e.tag||3===e.tag||4===e.tag}function eu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function tu(e){e:{for(var t=e.return;null!==t;){if(Zs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),ru(e,n=eu(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,nu(e,n=eu(e),t);break;default:throw Error(a(161))}}function nu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(nu(e,t,n),e=e.sibling;null!==e;)nu(e,t,n),e=e.sibling}function ru(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ru(e,t,n),e=e.sibling;null!==e;)ru(e,t,n),e=e.sibling}function iu(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,f=c;;)if($s(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(u=r,c=o.stateNode,8===u.nodeType?ai(u.parentNode,c):1===u.nodeType&&ai(u,c),zt(u)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if($s(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function au(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qs(3,t,t.return),Xs(3,t),void Qs(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&$(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?me(n,u):"dangerouslySetInnerHTML"===s?fe(n,u):"children"===s?he(n,u):k(n,s,u,t)}switch(e){case"input":J(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void ou(t)}throw Error(a(163))}function ou(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qs),t.forEach((function(t){var r=gc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function su(e,t,n){Hs=e,uu(e,t,n)}function uu(e,t,n){for(var r=0!==(1&e.mode);null!==Hs;){var i=Hs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Bs;s=zs;var c=Bs;if(zs=o,(Bs=u)&&!c)for(Hs=i;null!==Hs;)u=(o=Hs).child,22===o.tag&&null!==o.memoizedState?fu(i):null!==u?(u.return=o,Hs=u):fu(i);for(;null!==a;)Hs=a,uu(a,t,n),a=a.sibling;Hs=i,zs=s,Bs=c}cu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Hs=a):cu(e)}}function cu(e){for(;null!==Hs;){var t=Hs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bs||Xs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Bs||512&t.flags&&Ys(t)}catch(d){dc(t,t.return,d)}}if(t===e){Hs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Hs=n;break}Hs=t.return}}function lu(e){for(;null!==Hs;){var t=Hs;if(t===e){Hs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Hs=n;break}Hs=t.return}}function fu(e){for(;null!==Hs;){var t=Hs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xs(4,t)}catch(u){dc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){dc(t,i,u)}}var a=t.return;try{Ys(t)}catch(u){dc(t,a,u)}break;case 5:var o=t.return;try{Ys(t)}catch(u){dc(t,o,u)}}}catch(u){dc(t,t.return,u)}if(t===e){Hs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Hs=s;break}Hs=t.return}}var hu,du=Math.ceil,pu=b.ReactCurrentDispatcher,vu=b.ReactCurrentOwner,mu=b.ReactCurrentBatchConfig,gu=0,yu=null,ku=null,bu=0,wu=0,_u=wi(0),xu=0,Eu=null,Su=0,Tu=0,Iu=0,Cu=null,Nu=null,Au=0,Ru=1/0,Pu=!1,Ou=null,Du=null,Lu=!1,Mu=null,ju=0,Uu=0,Fu=null,Vu=-1,zu=0;function Bu(){return 0!==(6&gu)?$e():-1!==Vu?Vu:Vu=$e()}function qu(e){return 0===(1&e.mode)?1:0!==(2&gu)&&0!==bu?bu&-bu:null!==Vi.transition?(0===zu&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zu=e),zu):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Hu(e,t,n){if(50<Uu)throw Uu=0,Fu=null,Error(a(185));var r=Ku(e,t);return null===r?null:(mt(r,t,n),0!==(2&gu)&&r===yu||(r===yu&&(0===(2&gu)&&(Tu|=t),4===xu&&Yu(r,bu)),Wu(r,n),1===t&&0===gu&&0===(1&e.mode)&&(Ru=$e()+500,Mi&&Fi())),r)}function Ku(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Wu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===yu?bu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,Ui(e)}($u.bind(null,e)):Ui($u.bind(null,e)),ri((function(){0===gu&&Fi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=yc(n,Gu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gu(e,t){if(Vu=-1,zu=0,0!==(6&gu))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===yu?bu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=gu;gu|=2;var o=rc();for(yu===e&&bu===t||(Ru=$e()+500,tc(e,t));;)try{sc();break}catch(u){nc(e,u)}Wi(),pu.current=o,gu=i,null!==ku?t=0:(yu=null,bu=0,t=xu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Qu(e,i))),1===t)throw n=Eu,tc(e,0),Yu(e,r),Wu(e,$e()),n;if(6===t)Yu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Qu(e,o))),1===t))throw n=Eu,tc(e,0),Yu(e,r),Wu(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Nu);break;case 3:if(Yu(e,r),(130023424&r)===r&&10<(t=Au+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Nu),t);break}lc(e,Nu);break;case 4:if(Yu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*du(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Nu),r);break}lc(e,Nu);break;default:throw Error(a(329))}}}return Wu(e,$e()),e.callbackNode===n?Gu.bind(null,e):null}function Qu(e,t){var n=Cu;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Nu,Nu=n,null!==t&&Xu(t)),e}function Xu(e){null===Nu?Nu=e:Nu.push.apply(Nu,e)}function Yu(e,t){for(t&=~Iu,t&=~Tu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function $u(e){if(0!==(6&gu))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Wu(e,$e()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Qu(e,r))}if(1===n)throw n=Eu,tc(e,0),Yu(e,t),Wu(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Nu),Wu(e,$e()),null}function Ju(e,t){var n=gu;gu|=1;try{return e(t)}finally{0===(gu=n)&&(Ru=$e()+500,Mi&&Fi())}}function Zu(e){null!==Mu&&0===Mu.tag&&0===(6&gu)&&fc();var t=gu;gu|=1;var n=mu.transition,r=yt;try{if(mu.transition=null,yt=1,e)return e()}finally{yt=r,mu.transition=n,0===(6&(gu=t))&&Fi()}}function ec(){wu=_u.current,_i(_u)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ku)for(n=ku.return;null!==n;){var r=n;switch(Ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:$a(),_i(Ti),_i(Si),ro();break;case 5:Za(r);break;case 4:$a();break;case 13:case 19:_i(eo);break;case 10:Gi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(yu=e,ku=e=_c(e.current,null),bu=wu=t,xu=0,Eu=null,Iu=Tu=Su=0,Nu=Cu=null,null!==$i){for(t=0;t<$i.length;t++)if(null!==(r=(n=$i[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}$i=null}return e}function nc(e,t){for(;;){var n=ku;try{if(Wi(),io.current=Jo,lo){for(var r=so.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=uo=so=null,fo=!1,ho=0,vu.current=null,null===n||null===n.return){xu=1,Eu=t,ku=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=bu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fs(s);if(null!==p){p.flags&=-257,hs(p,s,u,0,t),1&p.mode&&ls(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ls(o,l,t),ic();break e}c=Error(a(426))}else if(Na&&1&u.mode){var g=fs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),hs(g,s,u,0,t),Ua(c);break e}}o=c,4!==xu&&(xu=2),null===Cu?Cu=[o]:Cu.push(o),c=ns(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,ia(u,us(0,c,t));break e;case 1:o=c;var y=u.type,k=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Du||!Du.has(k)))){u.flags|=65536,t&=-t,u.lanes|=t,ia(u,cs(u,o,t));break e}}u=u.return}while(null!==u)}cc(n)}catch(b){t=b,ku===n&&null!==n&&(ku=n=n.return);continue}break}}function rc(){var e=pu.current;return pu.current=Jo,null===e?Jo:e}function ic(){0!==xu&&3!==xu&&2!==xu||(xu=4),null===yu||0===(268435455&Su)&&0===(268435455&Tu)||Yu(yu,bu)}function ac(e,t){var n=gu;gu|=2;var r=rc();for(yu===e&&bu===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Wi(),gu=n,pu.current=r,null!==ku)throw Error(a(261));return yu=null,bu=0,xu}function oc(){for(;null!==ku;)uc(ku)}function sc(){for(;null!==ku&&!Xe();)uc(ku)}function uc(e){var t=hu(e.alternate,e,wu);e.memoizedProps=e.pendingProps,null===t?cc(e):ku=t,vu.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vs(n,t,wu)))return void(ku=n)}else{if(null!==(n=Vs(n,t)))return n.flags&=32767,void(ku=n);if(null===e)return xu=6,void(ku=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ku=t);ku=t=e}while(null!==t);0===xu&&(xu=5)}function lc(e,t){var n=yt,r=mu.transition;try{mu.transition=null,yt=1,function(e,t,n){do{fc()}while(null!==Mu);if(0!==(6&gu))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===yu&&(ku=yu=null,bu=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Lu||(Lu=!0,yc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=mu.transition,mu.transition=null;var s=yt;yt=1;var u=gu;gu|=4,vu.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Hs=t;null!==Hs;)if(e=(t=Hs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Hs=e;else for(;null!==Hs;){t=Hs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(_){dc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Hs=e;break}Hs=t.return}v=Gs,Gs=!1}(e,r),function(e,t){for(Hs=t;null!==Hs;){var n=(t=Hs).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{iu(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(E){dc(i,t,E)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Hs=n;else for(;null!==Hs;){t=Hs;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var s=t.alternate;if(null!==s){var u=s.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Au=$e())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var g=p.stateNode,y=p.memoizedProps.style,k=void 0!==y&&null!==y&&y.hasOwnProperty("display")?y.display:null;g.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Hs=n;for(var b=n.child;null!==b;){for(n=Hs=b;null!==Hs;){var w=(r=Hs).child;switch(r.tag){case 0:case 11:case 14:case 15:Qs(4,r,r.return);break;case 1:Ks(r,r.return);var _=r.stateNode;if("function"===typeof _.componentWillUnmount){var x=r.return;try{_.props=r.memoizedProps,_.state=r.memoizedState,_.componentWillUnmount()}catch(E){dc(r,x,E)}}break;case 5:Ks(r,r.return);break;case 22:if(null!==r.memoizedState){lu(n);continue}}null!==w?(w.return=r,Hs=w):lu(n)}b=b.sibling}}}switch(4102&o){case 2:tu(t),t.flags&=-3;break;case 6:tu(t),t.flags&=-3,au(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,au(t.alternate,t);break;case 4:au(t.alternate,t)}}catch(E){dc(t,t.return,E)}if(null!==(n=t.sibling)){n.return=t.return,Hs=n;break}Hs=t.return}}}(e,r),hr(Jr),Jr=null,e.current=r,su(r,e,i),Ye(),gu=u,yt=s,mu.transition=o}else e.current=r;if(Lu&&(Lu=!1,Mu=e,ju=i),0===(o=e.pendingLanes)&&(Du=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Wu(e,$e()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Pu)throw Pu=!1,e=Ou,Ou=null,e;0!==(1&ju)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Fu?Uu++:(Uu=0,Fu=e):Uu=0,Fi()}(e,t,n)}finally{mu.transition=r,yt=n}return null}function fc(){if(null!==Mu){var e=kt(ju),t=mu.transition,n=yt;try{if(mu.transition=null,yt=16>e?16:e,null===Mu)var r=!1;else{if(e=Mu,Mu=null,ju=0,0!==(6&gu))throw Error(a(331));var i=gu;for(gu|=4,Hs=e.current;null!==Hs;){var o=Hs,s=o.child;if(0!==(16&Hs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Hs=l;null!==Hs;){var f=Hs;switch(f.tag){case 0:case 11:case 15:Qs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Hs=h;else for(;null!==Hs;){var d=(f=Hs).sibling,p=f.return;if(Js(f),f===l){Hs=null;break}if(null!==d){d.return=p,Hs=d;break}Hs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Hs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Hs=s;else e:for(;null!==Hs;){if(0!==(2048&(o=Hs).flags))switch(o.tag){case 0:case 11:case 15:Qs(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Hs=y;break e}Hs=o.return}}var k=e.current;for(Hs=k;null!==Hs;){var b=(s=Hs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Hs=b;else e:for(s=k;null!==Hs;){if(0!==(2048&(u=Hs).flags))try{switch(u.tag){case 0:case 11:case 15:Xs(9,u)}}catch(_){dc(u,u.return,_)}if(u===s){Hs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Hs=w;break e}Hs=u.return}}if(gu=i,Fi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{yt=n,mu.transition=t}}return!1}function hc(e,t,n){na(e,t=us(0,t=ns(n,t),1)),t=Bu(),null!==(e=Ku(e,1))&&(mt(e,1,t),Wu(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Du||!Du.has(r))){na(t,e=cs(t,e=ns(n,e),1)),e=Bu(),null!==(t=Ku(t,1))&&(mt(t,1,e),Wu(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bu(),e.pingedLanes|=e.suspendedLanes&n,yu===e&&(bu&n)===n&&(4===xu||3===xu&&(130023424&bu)===bu&&500>$e()-Au?tc(e,0):Iu|=n),Wu(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bu();null!==(e=Ku(e,t))&&(mt(e,t,n),Wu(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function gc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function yc(e,t){return Ge(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,r){return new kc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)wc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Ec(n.children,i,o,t);case E:s=8,i|=8;break;case S:return(e=bc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=bc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=bc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Sc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ec(e,t,n,r){return(e=bc(7,e,r,t)).lanes=n,e}function Sc(e,t,n,r){return(e=bc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Tc(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nc(e,t,n,r,i,a,o,s,u){return e=new Cc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Ac(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Rc(e){if(!e)return Ei;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,s,u){return(e=Nc(n,r,!0,e,0,a,0,s,u)).context=Rc(null),n=e.current,(a=ta(r=Bu(),i=qu(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Wu(e,r),e}function Oc(e,t,n,r){var i=t.current,a=Bu(),o=qu(i);return n=Rc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Hu(i,o,a))&&ra(e,i,o),o}function Dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}hu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)gs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return gs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),ja();break;case 5:Ja(t);break;case 1:Ni(t.type)&&Oi(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Rs(e,t,n):(xi(eo,1&eo.current),null!==(e=Fs(e,t,n))?e.sibling:null);xi(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Fs(e,t,n)}(e,t,n);gs=0!==(131072&e.flags)}else gs=!1,Na&&0!==(1048576&t.flags)&&Ea(t,ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Si.current);Xi(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,Na&&o&&Sa(t),ys(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=zi(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=bs(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cs(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cs(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ia=t,Na=!0,Aa=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ja(),r===i){t=Fs(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&Da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Zr(r,i)?s=null:null!==o&&Zr(r,o)&&(t.flags|=32),xs(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&Da(t),null;case 13:return Rs(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,xi(Bi,r._currentValue),r._currentValue=s,null!==o)if(ar(o.value,s)){if(o.children===i.children&&!Ti.current){t=Fs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Qi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ys(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),r=r(i=Yi(i)),t.flags|=1,ys(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),bs(e,t,r,i=zi(r.type,i),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Oi(t)):e=!1,Xi(t,n),fa(t,r,i),da(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return _s(e,t,n)}throw Error(a(156,t.tag))};var jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Uc(e){this._internalRoot=e}function Fc(e){this._internalRoot=e}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Dc(o);s.call(e)}}Oc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Dc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,Vr(8===e.nodeType?e.parentNode:e),Zu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Dc(u);s.call(e)}}var u=Nc(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=u,e[fi]=u.current,Vr(8===e.nodeType?e.parentNode:e),Zu((function(){Oc(t,u,n,r)})),u}(n,t,e,i,r);return Dc(o)}Fc.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Oc(e,t,null,null)},Fc.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zu((function(){Oc(null,e,null,null)})),t[fi]=null}},Fc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),Wu(t,$e()),0===(6&gu)&&(Ru=$e()+500,Fi()))}break;case 13:var r=Bu();Zu((function(){return Hu(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Hu(e,134217728,Bu()),Mc(e,134217728))},_t=function(e){if(13===e.tag){var t=Bu(),n=qu(e);Hu(e,n,t),Mc(e,n)}},xt=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Ju,Ne=Zu;var Hc={usingClientEntryPoint:!1,Events:[mi,gi,yi,Te,Ie,Ju]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Wc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{it=Gc.inject(Wc),at=Gc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(a(200));return Ac(e,t,null,n)},t.createRoot=function(e,t){if(!Vc(e))throw Error(a(299));var n=!1,r="",i=jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Uc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zu(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,s),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zu((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Ju,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=y.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return g.prototype=y,u(_,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,T=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,x=function(){P.postMessage(null)}}else x=function(){g(A,0)};function O(e){S=e,E||(E=!0,x())}function D(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(T),T=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},318:function(e,t,n){"use strict";e.exports=n.p+"static/media/google.e4a85a2088b406e83caf.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".1257cef4.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="react-login-signup-ui-template:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkreact_login_signup_ui_template=self.webpackChunkreact_login_signup_ui_template||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(250);function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u,c=n(757),l=n.n(c);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(u||(u={}));var h=function(e){return e};var d="beforeunload",p="popstate";function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var b=(0,e.createContext)(null);var w=(0,e.createContext)(null);var _=(0,e.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function E(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=S(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=N(i[o],r);return a}function S(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=O([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),S(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:s})})),t}var T=/^:\w+$/,I=function(e){return"*"===e};function C(e,t){var n=e.split("/"),r=n.length;return n.some(I)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!I(e)})).reduce((function(e,t){return e+(T.test(t)?3:""===t?1:10)}),r)}function N(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:O([i,l.pathname]),pathnameBase:D(O([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=O([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],c=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function R(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:L(a),hash:M(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},L=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},M=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function j(){return null!=(0,e.useContext)(w)}function U(){return j()||x(!1),(0,e.useContext)(w).location}function F(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(_.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function V(t){var n=t.to,r=t.replace,i=t.state;j()||x(!1);var a=function(){j()||x(!1);var t=(0,e.useContext)(b),n=t.basename,r=t.navigator,i=(0,e.useContext)(_).matches,a=U().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);return(0,e.useEffect)((function(){s.current=!0})),(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=R(e,JSON.parse(o),a);"/"!==n&&(i.pathname=O([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a])}();return(0,e.useEffect)((function(){a(n,{replace:r,state:i})})),null}function z(e){x(!1)}function B(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,c=void 0===s?u.Pop:s,l=t.navigator,f=t.static,h=void 0!==f&&f;j()&&x(!1);var d=D(r),p=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=k(o));var v=o,m=v.pathname,g=void 0===m?"/":m,y=v.search,_=void 0===y?"":y,E=v.hash,S=void 0===E?"":E,T=v.state,I=void 0===T?null:T,C=v.key,N=void 0===C?"default":C,A=(0,e.useMemo)((function(){var e=P(g,d);return null==e?null:{pathname:e,search:_,hash:S,state:I,key:N}}),[d,g,_,S,I,N]);return null==A?null:(0,e.createElement)(b.Provider,{value:p},(0,e.createElement)(w.Provider,{children:a,value:{location:A,navigationType:c}}))}function q(t){var n=t.children,r=t.location;return function(t,n){j()||x(!1);var r,i=(0,e.useContext)(_).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,U());if(n){var c,l="string"===typeof n?k(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||x(!1),r=l}else r=u;var f=r.pathname||"/",h=E(t,{pathname:"/"===s?f:f.slice(s.length)||"/"});return F(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:O([s,e.pathnameBase])})})),i)}(H(n),r)}function H(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==z&&x(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=H(t.props.children)),n.push(r)}else n.push.apply(n,H(t.props.children))})),n}function K(t){var n=t.basename,r=t.children,i=t.window,a=(0,e.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,h({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(p,(function(){if(a)w.call(a),a=null;else{var e=u.Pop,t=i(),n=t[0],r=t[1];if(w.length){if(null!=n){var o=c-n;o&&(a={action:e,location:r,retry:function(){I(-1*o)}},I(o))}}else T(e)}}));var o=u.Pop,s=i(),c=s[0],l=s[1],b=m(),w=m();function _(e){return"string"===typeof e?e:y(e)}function x(e,t){return void 0===t&&(t=null),h(f({pathname:l.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:g()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function S(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){o=e;var t=i();c=t[0],l=t[1],b.call({action:o,location:l})}function I(e){r.go(e)}null==c&&(c=0,r.replaceState(f({},r.state,{idx:c}),""));var C={get action(){return o},get location(){return l},createHref:_,push:function e(t,i){var a=u.Push,o=x(t,i);if(S(a,o,(function(){e(t,i)}))){var s=E(o,c+1),l=s[0],f=s[1];try{r.pushState(l,"",f)}catch(h){n.location.assign(f)}T(a)}},replace:function e(t,n){var i=u.Replace,a=x(t,n);if(S(i,a,(function(){e(t,n)}))){var o=E(a,c),s=o[0],l=o[1];r.replaceState(s,"",l),T(i)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&n.addEventListener(d,v),function(){t(),w.length||n.removeEventListener(d,v)}}};return C}({window:i}));var o=a.current,c=s((0,e.useState)({action:o.action,location:o.location}),2),l=c[0],b=c[1];return(0,e.useLayoutEffect)((function(){return o.listen(b)}),[o]),(0,e.createElement)(B,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function G(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}function Q(){return Q="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=G(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Q.apply(this,arguments)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){return Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Y(e,t)}function $(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}function J(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function ee(e,t){if(t&&("object"===Z(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function te(e){var t=J();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee(this,n)}}function ne(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oe(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t,n){return ue=J()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Y(i,n.prototype),i},ue.apply(null,arguments)}function ce(e){var t="function"===typeof Map?new Map:void 0;return ce=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ue(e,arguments,W(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Y(r,e)},ce(e)}var le=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(le(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new he;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},he=function(e){$(n,e);var t=te(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return ae(n)}(ce(Error)),de=function(e){return function(e){var t=le(e);return fe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},pe=function(e){try{return fe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var ve=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},me=function(){try{return ve()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&pe(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ge=function(e){var t,n;return null===(n=null===(t=me())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ye=function(e){var t=ge(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},ke=function(){var e;return null===(e=me())||void 0===e?void 0:e.config},be=function(e){var t;return null===(t=me())||void 0===t?void 0:t["_".concat(e)]},we=function(){function e(){var t=this;re(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ae(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _e(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(a)),""].join(".")}function xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return!function(){var e,t=null===(e=me())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Te=function(e){$(n,e);var t=te(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(X(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(X(a),Ie.prototype.create),a}return ae(n)}(ce(Error)),Ie=function(){function e(t,n,r){re(this,e),this.service=t,this.serviceName=n,this.errors=r}return ae(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ce(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Te(n,a,t);return o}}]),e}();function Ce(e,t){return e.replace(Ne,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ne=/\{\$([^}]+)}/g;function Ae(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Re(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Pe(s)&&Pe(u)){if(!Re(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Pe(e){return null!==e&&"object"===typeof e}function Oe(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function De(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Le(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Me=function(){function e(t,n){var r=this;re(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ae(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ne(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=je),void 0===r.error&&(r.error=je),void 0===r.complete&&(r.complete=je);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function je(){}function Ue(e){return e&&e._delegate?e._delegate:e}var Fe=function(){function e(t,n,r){re(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ae(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ve="[DEFAULT]",ze=function(){function e(t,n){re(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ae(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new we;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch(c){}var t,n=ne(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=i(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(oe(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),oe(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ne(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ne(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ve?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.component?this.component.multipleInstances?e:Ve:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Be,qe,He=function(){function e(t){re(this,e),this.name=t,this.providers=new Map}return ae(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ze(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ke=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(qe||(qe={}));var We={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Ge=qe.INFO,Qe=(se(Be={},qe.DEBUG,"log"),se(Be,qe.VERBOSE,"log"),se(Be,qe.INFO,"info"),se(Be,qe.WARN,"warn"),se(Be,qe.ERROR,"error"),Be),Xe=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Qe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ye=function(){function e(t){re(this,e),this.name=t,this._logLevel=Ge,this._logHandler=Xe,this._userLogHandler=null,Ke.push(this)}return ae(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in qe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?We[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.DEBUG].concat(t)),this._logHandler.apply(this,[this,qe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,qe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.INFO].concat(t)),this._logHandler.apply(this,[this,qe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.WARN].concat(t)),this._logHandler.apply(this,[this,qe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.ERROR].concat(t)),this._logHandler.apply(this,[this,qe.ERROR].concat(t))}}]),e}();function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze,et;var tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,at=new WeakMap;var ot={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return nt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||rt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ct(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function st(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(et||(et=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(lt(this),n),ct(tt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ct(e.apply(lt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[lt(this),t].concat(r));return rt.set(a,t.sort?t.sort():[t]),ct(a)}}function ut(e){return"function"===typeof e?st(e):(e instanceof IDBTransaction&&function(e){if(!nt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));nt.set(e,t)}}(e),t=e,(Ze||(Ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,ot):e);var t}function ct(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ct(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&tt.set(t,e)})).catch((function(){})),at.set(t,e),t}(e);if(it.has(e))return it.get(e);var t=ut(e);return t!==e&&(it.set(e,t),at.set(t,e)),t}var lt=function(e){return at.get(e)};var ft,ht,dt=["get","getKey","getAll","getAllKeys","count"],pt=["put","add","delete","clear"],vt=new Map;function mt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(vt.get(t))return vt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,a=pt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(a||dt.includes(n))){var o=function(){var e=i(c.mark((function e(t){var i,o,s,u,l,f,h=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,a?"readwrite":"readonly"),s=o.store,u=h.length,l=new Array(u>1?u-1:0),f=1;f<u;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(i=s)[n].apply(i,l),a&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return vt.set(t,o),o}}}ot=function(e){return Je(Je({},e),{},{get:function(t,n,r){return mt(t,n)||e.get(t,n,r)},has:function(t,n){return!!mt(t,n)||e.has(t,n)}})}(ot);var gt=function(){function e(t){re(this,e),this.container=t}return ae(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var yt="@firebase/app",kt="0.10.0",bt=new Ye("@firebase/app"),wt="[DEFAULT]",_t=(se(ft={},yt,"fire-core"),se(ft,"@firebase/app-compat","fire-core-compat"),se(ft,"@firebase/analytics","fire-analytics"),se(ft,"@firebase/analytics-compat","fire-analytics-compat"),se(ft,"@firebase/app-check","fire-app-check"),se(ft,"@firebase/app-check-compat","fire-app-check-compat"),se(ft,"@firebase/auth","fire-auth"),se(ft,"@firebase/auth-compat","fire-auth-compat"),se(ft,"@firebase/database","fire-rtdb"),se(ft,"@firebase/database-compat","fire-rtdb-compat"),se(ft,"@firebase/functions","fire-fn"),se(ft,"@firebase/functions-compat","fire-fn-compat"),se(ft,"@firebase/installations","fire-iid"),se(ft,"@firebase/installations-compat","fire-iid-compat"),se(ft,"@firebase/messaging","fire-fcm"),se(ft,"@firebase/messaging-compat","fire-fcm-compat"),se(ft,"@firebase/performance","fire-perf"),se(ft,"@firebase/performance-compat","fire-perf-compat"),se(ft,"@firebase/remote-config","fire-rc"),se(ft,"@firebase/remote-config-compat","fire-rc-compat"),se(ft,"@firebase/storage","fire-gcs"),se(ft,"@firebase/storage-compat","fire-gcs-compat"),se(ft,"@firebase/firestore","fire-fst"),se(ft,"@firebase/firestore-compat","fire-fst-compat"),se(ft,"fire-js","fire-js"),se(ft,"firebase","fire-js-all"),ft),xt=new Map,Et=new Map,St=new Map;function Tt(e,t){try{e.container.addComponent(t)}catch(n){bt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function It(e){var t=e.name;if(St.has(t))return bt.debug("There were multiple attempts to register component ".concat(t,".")),!1;St.set(t,e);var n,r=ne(xt.values());try{for(r.s();!(n=r.n()).done;){Tt(n.value,e)}}catch(o){r.e(o)}finally{r.f()}var i,a=ne(Et.values());try{for(a.s();!(i=a.n()).done;){Tt(i.value,e)}}catch(o){a.e(o)}finally{a.f()}return!0}function Ct(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Nt(e){return void 0!==e.settings}var At=(se(ht={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),se(ht,"bad-app-name","Illegal App name: '{$appName}'"),se(ht,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),se(ht,"app-deleted","Firebase App named '{$appName}' already deleted"),se(ht,"server-app-deleted","Firebase Server App has been deleted"),se(ht,"no-options","Need to provide options, when not being deployed to hosting via source."),se(ht,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),se(ht,"invalid-log-argument","First argument to `onLog` must be null or a function."),se(ht,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),se(ht,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),se(ht,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),se(ht,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),se(ht,"finalization-registry-not-supported","FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry."),se(ht,"invalid-server-app-environment","FirebaseServerApp is not for use in browser environments."),ht),Rt=new Ie("app","Firebase",At),Pt=function(){function e(t,n,r){var i=this;re(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fe("app",(function(){return i}),"PUBLIC"))}return ae(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}]),e}(),Ot="10.10.0";function Dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:wt,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Rt.create("bad-app-name",{appName:String(a)});if(n||(n=ke()),!n)throw Rt.create("no-options");var o=xt.get(a);if(o){if(Re(n,o.options)&&Re(i,o.config))return o;throw Rt.create("duplicate-app",{appName:a})}var s,u=new He(a),c=ne(St.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Pt(n,i,u);return xt.set(a,f),f}function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=xt.get(e);if(!t&&e===wt&&ke())return Dt();if(!t)throw Rt.create("no-app",{appName:e});return t}function Mt(e,t,n){var r,i=null!==(r=_t[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void bt.warn(s.join(" "))}It(new Fe("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var jt="firebase-heartbeat-store",Ut=null;function Ft(){return Ut||(Ut=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ct(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ct(s.result),e.oldVersion,e.newVersion,ct(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(jt)}catch(n){console.warn(n)}}}).catch((function(e){throw Rt.create("idb-open",{originalErrorMessage:e.message})}))),Ut}function Vt(e){return zt.apply(this,arguments)}function zt(){return zt=i(c.mark((function e(t){var n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ft();case 3:return n=e.sent,r=n.transaction(jt),e.next=7,r.objectStore(jt).get(Ht(t));case 7:return i=e.sent,e.next=10,r.done;case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),e.t0 instanceof Te?bt.warn(e.t0.message):(a=Rt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),bt.warn(a.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),zt.apply(this,arguments)}function Bt(e,t){return qt.apply(this,arguments)}function qt(){return qt=i(c.mark((function e(t,n){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ft();case 3:return r=e.sent,i=r.transaction(jt,"readwrite"),a=i.objectStore(jt),e.next=8,a.put(n,Ht(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Te?bt.warn(e.t0.message):(o=Rt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),bt.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),qt.apply(this,arguments)}function Ht(e){return"".concat(e.name,"!").concat(e.options.appId)}var Kt=function(){function e(t){var n=this;re(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Xt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ae(e,[{key:"triggerHeartbeat",value:function(){var e=i(c.mark((function e(){var t,n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=Wt(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=i(c.mark((function e(){var t,n,r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=Wt(),r=Gt(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=de(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wt(){return(new Date).toISOString().substring(0,10)}function Gt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ne(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Yt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Yt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Qt,Xt=function(){function e(t){re(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ae(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=i(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Se()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=i(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Vt(this.app);case 9:if(!(null===(t=e.sent)||void 0===t?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=i(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=i(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(oe(r.heartbeats),oe(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Yt(e){return de(JSON.stringify({version:2,heartbeats:e})).length}Qt="",It(new Fe("platform-logger",(function(e){return new gt(e)}),"PRIVATE")),It(new Fe("heartbeat",(function(e){return new Kt(e)}),"PRIVATE")),Mt(yt,kt,Qt),Mt(yt,kt,"esm2017"),Mt("fire-js","");function $t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Jt;Object.create;function Zt(){return se({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var en=Zt,tn=new Ie("auth","Firebase",Zt()),nn=new Ye("@firebase/auth");function rn(e){if(nn.logLevel<=qe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nn.warn.apply(nn,["Auth (".concat(Ot,"): ").concat(e)].concat(n))}}function an(e){if(nn.logLevel<=qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nn.error.apply(nn,["Auth (".concat(Ot,"): ").concat(e)].concat(n))}}function on(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw fn.apply(void 0,[e].concat(n))}function sn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fn.apply(void 0,[e].concat(n))}function un(e,t,n){var r=Object.assign(Object.assign({},en()),se({},t,n));return new Ie("auth","Firebase",r).create(t,{appName:e.name})}function cn(e){return un(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ln(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&on(e,"argument-error"),un(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=oe(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(oe(o)))}return tn.create.apply(tn,[e].concat(n))}function hn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw fn.apply(void 0,[t].concat(r))}}function dn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw an(t),new Error(t)}function pn(e,t){e||dn(t)}function vn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mn(){return"http:"===gn()||"https:"===gn()}function gn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function yn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mn()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var kn=function(){function e(t,n){re(this,e),this.shortDelay=t,this.longDelay=n,pn(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())||"object"===typeof navigator&&"ReactNative"===navigator.product}return ae(e,[{key:"get",value:function(){return yn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function bn(e,t){pn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var wn=function(){function e(){re(this,e)}return ae(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),_n=(se(Jt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),se(Jt,"MISSING_CUSTOM_TOKEN","internal-error"),se(Jt,"INVALID_IDENTIFIER","invalid-email"),se(Jt,"MISSING_CONTINUE_URI","internal-error"),se(Jt,"INVALID_PASSWORD","wrong-password"),se(Jt,"MISSING_PASSWORD","missing-password"),se(Jt,"INVALID_LOGIN_CREDENTIALS","invalid-credential"),se(Jt,"EMAIL_EXISTS","email-already-in-use"),se(Jt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),se(Jt,"INVALID_IDP_RESPONSE","invalid-credential"),se(Jt,"INVALID_PENDING_TOKEN","invalid-credential"),se(Jt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),se(Jt,"MISSING_REQ_TYPE","internal-error"),se(Jt,"EMAIL_NOT_FOUND","user-not-found"),se(Jt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),se(Jt,"EXPIRED_OOB_CODE","expired-action-code"),se(Jt,"INVALID_OOB_CODE","invalid-action-code"),se(Jt,"MISSING_OOB_CODE","internal-error"),se(Jt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),se(Jt,"INVALID_ID_TOKEN","invalid-user-token"),se(Jt,"TOKEN_EXPIRED","user-token-expired"),se(Jt,"USER_NOT_FOUND","user-token-expired"),se(Jt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),se(Jt,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),se(Jt,"INVALID_CODE","invalid-verification-code"),se(Jt,"INVALID_SESSION_INFO","invalid-verification-id"),se(Jt,"INVALID_TEMPORARY_PROOF","invalid-credential"),se(Jt,"MISSING_SESSION_INFO","missing-verification-id"),se(Jt,"SESSION_EXPIRED","code-expired"),se(Jt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),se(Jt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),se(Jt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),se(Jt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),se(Jt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),se(Jt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),se(Jt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),se(Jt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),se(Jt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),se(Jt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),se(Jt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),se(Jt,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),se(Jt,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),se(Jt,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),se(Jt,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),se(Jt,"MISSING_CLIENT_TYPE","missing-client-type"),se(Jt,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),se(Jt,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),se(Jt,"INVALID_REQ_TYPE","invalid-req-type"),Jt),xn=new kn(3e4,6e4);function En(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Sn(e,t,n,r){return Tn.apply(this,arguments)}function Tn(){return Tn=i(l().mark((function e(t,n,r,a){var o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.abrupt("return",In(t,o,i(l().mark((function e(){var i,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},o={},a&&("GET"===n?o=a:i={body:JSON.stringify(a)}),s=Oe(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",wn.fetch()(Rn(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},i)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Tn.apply(this,arguments)}function In(e,t,n){return Cn.apply(this,arguments)}function Cn(){return Cn=i(l().mark((function e(t,n,r){var i,a,o,u,c,f,h,d,p,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},_n),n),e.prev=2,a=new On(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Dn(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,f=c.split(" : "),h=s(f,2),d=h[0],p=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Dn(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Dn(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Dn(t,"user-disabled",u);case 29:if(v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw un(t,v,p);case 34:on(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Te)){e.next=41;break}throw e.t0;case 41:on(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Cn.apply(this,arguments)}function Nn(e,t,n,r){return An.apply(this,arguments)}function An(){return An=i(l().mark((function e(t,n,r,i){var a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Sn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&on(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),An.apply(this,arguments)}function Rn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?bn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Pn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var On=function(){function e(t){var n=this;re(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(sn(n.auth,"network-request-failed"))}),xn.get())}))}return ae(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Dn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=sn(e,t,r);return i.customData._tokenResponse=n,i}function Ln(e){return void 0!==e&&void 0!==e.enterprise}var Mn=function(){function e(t){if(re(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return ae(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=ne(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return Pn(r.enforcementState)}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}]),e}();function jn(e,t){return Un.apply(this,arguments)}function Un(){return Un=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"GET","/v2/recaptchaConfig",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),Un.apply(this,arguments)}function Fn(e,t){return Vn.apply(this,arguments)}function Vn(){return Vn=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}function zn(e,t){return Bn.apply(this,arguments)}function Bn(){return Bn=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Bn.apply(this,arguments)}function qn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Hn(){return Hn=i(l().mark((function e(t){var n,r,i,a,o,s,u=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ue(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,hn((a=Wn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:qn(Kn(a.auth_time)),issuedAtTime:qn(Kn(a.iat)),expirationTime:qn(Kn(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Hn.apply(this,arguments)}function Kn(e){return 1e3*Number(e)}function Wn(e){var t=s(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return an("JWT malformed, contained fewer than 3 sections"),null;try{var a=pe(r);return a?JSON.parse(a):(an("Failed to decode base64 JWT payload"),null)}catch(o){return an("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Gn(e){var t=Wn(e);return hn(t,"internal-error"),hn("undefined"!==typeof t.exp,"internal-error"),hn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}function Qn(e,t){return Xn.apply(this,arguments)}function Xn(){return Xn=i(l().mark((function e(t,n){var r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Te&&Yn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Xn.apply(this,arguments)}function Yn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var $n=function(){function e(t){re(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ae(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(i(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Jn=function(){function e(t,n){re(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ae(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Zn(e){return er.apply(this,arguments)}function er(){return er=i(l().mark((function e(t){var n,r,i,a,o,s,u,c,f,h,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Qn(t,zn(r,{idToken:i}));case 6:hn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?rr(o.providerUserInfo):[],u=nr(t.providerData,s),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&f,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jn(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}function tr(){return(tr=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue(t),e.next=3,Zn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(oe(n),oe(t))}function rr(e){return e.map((function(e){var t=e.providerId,n=$t(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ir(e,t){return ar.apply(this,arguments)}function ar(){return ar=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,In(t,{},i(l().mark((function e(){var r,i,a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Rn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",wn.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ar.apply(this,arguments)}function or(e,t){return sr.apply(this,arguments)}function sr(){return sr=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v2/accounts:revokeToken",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}var ur=function(){function e(){re(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ae(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){hn(e.idToken,"internal-error"),hn("undefined"!==typeof e.idToken,"internal-error"),hn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Gn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"updateFromIdToken",value:function(e){hn(0!==e.length,"internal-error");var t=Gn(e);this.updateTokensAndExpiration(e,null,t)}},{key:"getToken",value:function(){var e=i(l().mark((function e(t){var n=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>1&&void 0!==n[1]&&n[1]||!this.accessToken||this.isExpired){e.next=3;break}return e.abrupt("return",this.accessToken);case 3:if(hn(this.refreshToken,t,"user-token-expired"),!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=i(l().mark((function e(t,n){var r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return dn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(hn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(hn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(hn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function cr(e,t){hn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var lr=function(){function e(t){re(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=$t(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?oe(a.providerData):[],this.metadata=new Jn(a.createdAt||void 0,a.lastLoginAt||void 0)}return ae(e,[{key:"getIdToken",value:function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(hn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Hn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return tr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(hn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){hn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=i(l().mark((function e(t){var n,r,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Zn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=i(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nt(this.auth.app)){e.next=2;break}return e.abrupt("return",Promise.reject(cn(this.auth)));case 2:return e.next=4,this.getIdToken();case 4:return t=e.sent,e.next=7,Qn(this,Fn(this.auth,{idToken:t}));case 7:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;hn(k&&x,t,"internal-error");var E=ur.fromJSON(this.name,x);hn("string"===typeof k,t,"internal-error"),cr(f,t.name),cr(h,t.name),hn("boolean"===typeof b,t,"internal-error"),hn("boolean"===typeof w,t,"internal-error"),cr(d,t.name),cr(p,t.name),cr(v,t.name),cr(m,t.name),cr(g,t.name),cr(y,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=i(l().mark((function t(n,r){var i,a,o,s=arguments;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new ur).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Zn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"_fromGetAccountInfoResponse",value:function(){var t=i(l().mark((function t(n,r,i){var a,o,s,u,c,f;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return hn(void 0!==(a=r.users[0]).localId,"internal-error"),o=void 0!==a.providerUserInfo?rr(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),(u=new ur).updateFromIdToken(i),c=new e({uid:a.localId,auth:n,stsTokenManager:u,isAnonymous:s}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Jn(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length)},Object.assign(c,f),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}(),fr=new Map;function hr(e){pn(e instanceof Function,"Expected a class definition");var t=fr.get(e);return t?(pn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fr.set(e,t),t)}var dr=function(){function e(){re(this,e),this.type="NONE",this.storage={}}return ae(e,[{key:"_isAvailable",value:function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();dr.type="NONE";var pr=dr;function vr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var mr=function(){function e(t,n,r){re(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=vr(this.userKey,a.apiKey,o),this.fullPersistenceKey=vr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ae(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=i(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?lr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=i(l().mark((function t(n,r){var a,o,s,u,c,f,h,d,p,v,m,g=arguments;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(hr(pr),n,a));case 3:return t.next=5,Promise.all(r.map(function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=t.sent.filter((function(e){return e})),s=o[0]||hr(pr),u=vr(a,n.config.apiKey,n.name),c=null,f=ne(r),t.prev=10,f.s();case 12:if((h=f.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(u);case 17:if(!(p=t.sent)){t.next=23;break}return v=lr._fromJSON(n,p),d!==s&&(c=v),s=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(m=o.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(s,n,a));case 40:if(s=m[0],!c){t.next=44;break}return t.next=44,s._set(u,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(s,n,a));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function gr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xr(t))return"Blackberry";if(Er(t))return"Webos";if(kr(t))return"Safari";if((t.includes("chrome/")||br(t))&&!t.includes("edge/"))return"Chrome";if(_r(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function yr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/firefox\//i.test(e)}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/crios\//i.test(e)}function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/iemobile/i.test(e)}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/android/i.test(e)}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/blackberry/i.test(e)}function Er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/webos/i.test(e)}function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Tr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return Sr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ir(){return function(){var e=xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return Sr(e)||_r(e)||Er(e)||xr(e)||/windows phone/i.test(e)||wr(e)}function Nr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gr(xe());break;case"Worker":t="".concat(gr(xe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ot,"/").concat(r)}var Ar=function(){function e(t){re(this,e),this.auth=t,this.queue=[]}return ae(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=i(l().mark((function e(t){var n,r,i,a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=ne(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=ne(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(l_){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Rr(e){return Pr.apply(this,arguments)}function Pr(){return Pr=i(l().mark((function e(t){var n,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Sn(t,"GET","/v2/passwordPolicy",En(t,n)));case 2:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}var Or=function(){function e(t){var n,r,i,a;re(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return ae(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),Dr=function(){function e(t,n,r,i){re(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mr(this),this.idTokenSubscription=new Mr(this),this.beforeStateQueue=new Ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return ae(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=hr(t)),this._initializationPromise=this.queue(i(l().mark((function r(){var i,a;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,mr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=i(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUserFromIdToken",value:function(){var e=i(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zn(this,{idToken:t});case 3:return n=e.sent,e.next=6,lr._fromGetAccountInfoResponse(this,n,t);case 6:return r=e.sent,e.next=9,this.directlySetCurrentUser(r);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e.t0),e.next=16,this.directlySetCurrentUser(null);case 16:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=i(l().mark((function e(t){var n,r,i,a,o,s,u,c,f=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nt(this.app)){e.next=7;break}if(!(r=this.app.settings.authIdToken)){e.next=6;break}return e.abrupt("return",new Promise((function(e){setTimeout((function(){return f.initializeCurrentUserFromIdToken(r).then(e,e)}))})));case 6:return e.abrupt("return",this.directlySetCurrentUser(null));case 7:return e.next=9,this.assertedPersistence.getCurrentUser();case 9:if(i=e.sent,a=i,o=!1,!t||!this.config.authDomain){e.next=21;break}return e.next=15,this.getOrInitRedirectPersistenceManager();case 15:return s=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===a||void 0===a?void 0:a._redirectEventId,e.next=19,this.tryRedirectSignIn(t);case 19:c=e.sent,s&&s!==u||!(null===c||void 0===c?void 0:c.user)||(a=c.user,o=!0);case 21:if(a){e.next=23;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 23:if(a._redirectEventId){e.next=39;break}if(!o){e.next=34;break}return e.prev=25,e.next=28,this.beforeStateQueue.runMiddleware(a);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(25),a=i,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 34:if(!a){e.next=38;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:return e.abrupt("return",this.directlySetCurrentUser(null));case 39:return hn(this._popupRedirectResolver,this,"argument-error"),e.next=42,this.getOrInitRedirectPersistenceManager();case 42:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=44;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 44:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 45:case"end":return e.stop()}}),e,this,[[25,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nt(this.app)){e.next=2;break}return e.abrupt("return",Promise.reject(cn(this)));case 2:return(n=t?Ue(t):null)&&hn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=i(l().mark((function e(t){var n,r=this,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&hn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nt(this.app)){e.next=2;break}return e.abrupt("return",Promise.reject(cn(this)));case 2:return e.next=4,this.beforeStateQueue.runMiddleware(null);case 4:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=7;break}return e.next=7,this._setRedirectUser(null);case 7:return e.abrupt("return",this._updateCurrentUser(null,!0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return Nt(this.app)?Promise.reject(cn(this)):this.queue(i(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(hr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=i(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr(this);case 2:t=e.sent,n=new Or(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ie("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"revokeAccessToken",value:function(){var e=i(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return n=e.sent,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.next=8,or(this,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return hn(n=t&&hr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,mr.create(this,[hr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=i(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=i(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(hn(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return hn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=i(l().mark((function e(){var t,n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=se({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=i(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&rn("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Lr(e){return Ue(e)}var Mr=function(){function e(t){var n=this;re(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Me(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return ae(e,[{key:"next",get:function(){return hn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}(),jr={loadJS:function(){return i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Unable to load external scripts");case 1:case"end":return e.stop()}}),e)})))()},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ur(e){return jr.loadJS(e)}function Fr(){return jr.recaptchaEnterpriseScript}function Vr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var zr="NO_RECAPTCHA",Br=function(){function e(t){re(this,e),this.type="recaptcha-enterprise",this.auth=Lr(t)}return ae(e,[{key:"verify",value:function(){var e=i(l().mark((function e(){var t,n,r,a,o,s=this,u=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,n,r){var i=window.grecaptcha;Ln(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n(zr)}))})):r(Error("No reCAPTCHA enterprise script loaded."))},a=function(){return a=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=i(l().mark((function e(n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Mn(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},r=function(e){return a.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(s.auth).then((function(r){if(!n&&Ln(window.grecaptcha))o(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));var i=Fr();0!==i.length&&(i+=r),Ur(i).then((function(){o(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qr(e,t,n){return Hr.apply(this,arguments)}function Hr(){return Hr=i(l().mark((function e(t,n,r){var i,a,o,s,u=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Br(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Hr.apply(this,arguments)}function Kr(e,t,n,r){return Wr.apply(this,arguments)}function Wr(){return Wr=i(l().mark((function e(t,n,r,a){var o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(o=t._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,qr(t,n,r,"getOobCode"===r);case 3:return s=e.sent,e.abrupt("return",a(t,s));case 7:return e.abrupt("return",a(t,n).catch(function(){var e=i(l().mark((function e(i){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,qr(t,n,r,"getOobCode"===r);case 4:return o=e.sent,e.abrupt("return",a(t,o));case 8:return e.abrupt("return",Promise.reject(i));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Gr(e,t){var n=Ct(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Re(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;on(r,"already-initialized")}return n.initialize({options:t})}function Qr(e,t,n){var r=Lr(e);hn(r._canInitEmulator,r,"emulator-config-failed"),hn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Xr(t),o=function(e){var t=Xr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Yr(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:Yr(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var $r=function(){function e(t,n){re(this,e),this.providerId=t,this.signInMethod=n}return ae(e,[{key:"toJSON",value:function(){return dn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return dn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return dn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return dn("not implemented")}}]),e}();function Jr(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:signUp",n));case 1:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v1/accounts:signInWithPassword",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v1/accounts:signInWithEmailLink",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v1/accounts:signInWithEmailLink",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}var oi=function(e){$(n,e);var t=te(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return re(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ae(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",Kr(t,n,"signInWithPassword",ei));case 5:return e.abrupt("return",ni(t,{email:this._email,oobCode:this._password}));case 6:on(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",Kr(t,r,"signUpPassword",Jr));case 5:return e.abrupt("return",ii(t,{idToken:n,email:this._email,oobCode:this._password}));case 6:on(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}($r);function si(e,t){return ui.apply(this,arguments)}function ui(){return ui=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v1/accounts:signInWithIdp",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),ui.apply(this,arguments)}var ci=function(e){$(n,e);var t=te(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ae(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return si(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,si(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,si(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Oe(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):on("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=$t(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}($r);function li(e,t){return fi.apply(this,arguments)}function fi(){return fi=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn(t,"POST","/v1/accounts:sendVerificationCode",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function hi(){return hi=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v1/accounts:signInWithPhoneNumber",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}function di(){return di=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn(t,"POST","/v1/accounts:signInWithPhoneNumber",En(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Dn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),di.apply(this,arguments)}var pi=se({},"USER_NOT_FOUND","user-not-found");function vi(){return vi=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Nn(t,"POST","/v1/accounts:signInWithPhoneNumber",En(t,r),pi));case 2:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}var mi=function(e){$(n,e);var t=te(n);function n(e){var r;return re(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ae(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return hi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return di.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return vi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}($r);var gi=function(){function e(t){var n,r,i,a,o,s;re(this,e);var u=De(Le(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);hn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ae(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=De(Le(e)).link,n=t?De(Le(t)).deep_link_id:null,r=De(Le(e)).deep_link_id;return(r?De(Le(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var yi=function(){function e(){re(this,e),this.providerId=e.PROVIDER_ID}return ae(e,null,[{key:"credential",value:function(e,t){return oi._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=gi.parseLink(t);return hn(n,"argument-error"),oi._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();yi.PROVIDER_ID="password",yi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",yi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ki=function(){function e(t){re(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ae(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),bi=function(e){$(n,e);var t=te(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ae(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return oe(this.scopes)}}]),n}(ki),wi=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.call(this,"facebook.com")}return ae(n,null,[{key:"credential",value:function(e){return ci._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(bi);wi.FACEBOOK_SIGN_IN_METHOD="facebook.com",wi.PROVIDER_ID="facebook.com";var _i=function(e){$(n,e);var t=te(n);function n(){var e;return re(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ae(n,null,[{key:"credential",value:function(e,t){return ci._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(bi);_i.GOOGLE_SIGN_IN_METHOD="google.com",_i.PROVIDER_ID="google.com";var xi=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.call(this,"github.com")}return ae(n,null,[{key:"credential",value:function(e){return ci._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(bi);xi.GITHUB_SIGN_IN_METHOD="github.com",xi.PROVIDER_ID="github.com";var Ei=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.call(this,"twitter.com")}return ae(n,null,[{key:"credential",value:function(e,t){return ci._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(bi);function Si(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nn(t,"POST","/v1/accounts:signUp",En(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}Ei.TWITTER_SIGN_IN_METHOD="twitter.com",Ei.PROVIDER_ID="twitter.com";var Ii=function(){function e(t){re(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ae(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=i(l().mark((function t(n,r,i){var a,o,s,u,c=arguments;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,lr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ci(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=i(l().mark((function t(n,r,i){var a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ci(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ci(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Ni=function(e){$(n,e);var t=te(n);function n(e,r,i,a){var o,s;return re(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(X(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ae(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Te);function Ai(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ni._fromErrorAndOperation(e,n,t,r);throw n}))}function Ri(e,t){return Pi.apply(this,arguments)}function Pi(){return Pi=i(l().mark((function e(t,n){var r,i,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Qn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ii._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Oi(e,t){return Di.apply(this,arguments)}function Di(){return Di=i(l().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]&&c[2],!Nt((i=t.auth).app)){e.next=4;break}return e.abrupt("return",Promise.reject(cn(i)));case 4:return a="reauthenticate",e.prev=5,e.next=8,Qn(t,Ai(i,a,n,t),r);case 8:return hn((o=e.sent).idToken,i,"internal-error"),hn(s=Wn(o.idToken),i,"internal-error"),u=s.sub,hn(t.uid===u,i,"user-mismatch"),e.abrupt("return",Ii._forOperation(t,a,o));case 17:throw e.prev=17,e.t0=e.catch(5),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&on(i,"user-mismatch"),e.t0;case 21:case"end":return e.stop()}}),e,null,[[5,17]])}))),Di.apply(this,arguments)}function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=i(l().mark((function e(t,n){var r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]&&s[2],!Nt(t.app)){e.next=3;break}return e.abrupt("return",Promise.reject(cn(t)));case 3:return i="signIn",e.next=6,Ai(t,i,n);case 6:return a=e.sent,e.next=9,Ii._fromIdTokenResponse(t,i,a);case 9:if(o=e.sent,r){e.next=13;break}return e.next=13,t._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function ji(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Li(Lr(t),n));case 1:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function Fi(e){return Vi.apply(this,arguments)}function Vi(){return Vi=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Lr(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}function zi(e,t,n){return Bi.apply(this,arguments)}function Bi(){return Bi=i(l().mark((function e(t,n,r){var i,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nt(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(cn(t)));case 2:return i=Lr(t),a=Kr(i,{returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Si),e.next=7,a.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Fi(t),e}));case 7:return o=e.sent,e.next=10,Ii._fromIdTokenResponse(i,"signIn",o);case 10:return s=e.sent,e.next=13,i._updateCurrentUser(s.user);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function qi(e,t,n){return Nt(e.app)?Promise.reject(cn(e)):ji(Ue(e),yi.credential(t,n)).catch(function(){var t=i(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Fi(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function Hi(e,t,n,r){return Ue(e).onIdTokenChanged(t,n,r)}function Ki(e,t,n){return Ue(e).beforeAuthStateChanged(t,n)}function Wi(e){return Ue(e).signOut()}function Gi(e,t){return Sn(e,"POST","/v2/accounts/mfaEnrollment:start",En(e,t))}function Qi(e,t){return Sn(e,"POST","/v2/accounts/mfaEnrollment:start",En(e,t))}function Xi(e,t){return Sn(e,"POST","/v2/accounts/mfaEnrollment:finalize",En(e,t))}new WeakMap;var Yi="__sak",$i=function(){function e(t,n){re(this,e),this.storageRetriever=t,this.type=n}return ae(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Yi,"1"),this.storage.removeItem(Yi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ji=function(e){$(n,e);var t=te(n);function n(){var e;return re(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=xe();return kr(e)||Sr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Cr(),e._shouldAllowMigration=!0,e}return ae(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ir()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=i(l().mark((function e(t,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(W(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=i(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(W(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(W(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}($i);Ji.type="LOCAL";var Zi=Ji,ea=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ae(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}($i);ea.type="SESSION";var ta=ea;function na(e){return Promise.all(e.map(function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ra=function(){function e(t){re(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ae(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=i(l().mark((function e(t){var n,r,a,o,s,u,c,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,a=r.eventId,o=r.eventType,s=r.data,null===(u=this.handlersMap[o])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:o}),c=Array.from(u).map(function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,na(c);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ia(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ra.receivers=[];var aa=function(){function e(t){re(this,e),this.target=t,this.handlers=new Set}return ae(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=i(l().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ia("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function oa(){return window}function sa(e){oa().location.href=e}function ua(){return"undefined"!==typeof oa().WorkerGlobalScope&&"function"===typeof oa().importScripts}function ca(){return la.apply(this,arguments)}function la(){return(la=i(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function fa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ha="firebaseLocalStorageDb",da="firebaseLocalStorage",pa="fbase_key",va=function(){function e(t){re(this,e),this.request=t}return ae(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ma(e,t){return e.transaction([da],t?"readwrite":"readonly").objectStore(da)}function ga(){var e=indexedDB.deleteDatabase(ha);return new va(e).toPromise()}function ya(){var e=indexedDB.open(ha,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(da,{keyPath:pa})}catch(r){n(r)}})),e.addEventListener("success",i(l().mark((function n(){var r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(da)){n.next=12;break}return r.close(),n.next=5,ga();case 5:return n.t0=t,n.next=8,ya();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ka(e,t,n){return ba.apply(this,arguments)}function ba(){return ba=i(l().mark((function e(t,n,r){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ma(t,!0).put((se(i={},pa,n),se(i,"value",r),i)),e.abrupt("return",new va(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function wa(e,t){return _a.apply(this,arguments)}function _a(){return _a=i(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ma(t,!1).get(n),e.next=3,new va(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function xa(e,t){var n=ma(e,!0).delete(t);return new va(n).toPromise()}var Ea=function(){function e(){re(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ae(e,[{key:"_openDb",value:function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ya();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=i(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ua()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=i(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ra._getInstance(ua()?self:null),this.receiver._subscribe("keyChanged",function(){var e=i(l().mark((function e(n,r){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=i(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new aa(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&fa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=i(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ya();case 5:return t=e.sent,e.next=8,ka(t,Yi,"1");case 8:return e.next=10,xa(t,Yi);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=i(l().mark((function e(t,n){var r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ka(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return wa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=i(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return xa(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=i(l().mark((function e(){var t,n,r,i,a,o,s,u,c,f,h;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ma(e,!1).getAll();return new va(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:if(n=[],r=new Set,0!==t.length){i=ne(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(l){i.e(l)}finally{i.f()}}for(c=0,f=Object.keys(this.localCache);c<f.length;c++)h=f[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(i(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ea.type="LOCAL";var Sa=Ea;function Ta(e,t){return Sn(e,"POST","/v2/accounts/mfaSignIn:start",En(e,t))}function Ia(e,t){return Sn(e,"POST","/v2/accounts/mfaSignIn:finalize",En(e,t))}Vr("rcb"),new kn(3e4,6e4);var Ca="recaptcha";function Na(e,t,n){return Aa.apply(this,arguments)}function Aa(){return Aa=i(l().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,hn("string"===typeof a,t,"argument-error"),hn(r.type===Ca,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return hn("enroll"===s.type,t,"internal-error"),e.next=13,Gi(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return hn("signin"===s.type,t,"internal-error"),hn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ta(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,li(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Aa.apply(this,arguments)}var Ra=function(){function e(t){re(this,e),this.providerId=e.PROVIDER_ID,this.auth=Lr(t)}return ae(e,[{key:"verifyPhoneNumber",value:function(e,t){return Na(this.auth,e,Ue(t))}}],[{key:"credential",value:function(e,t){return mi._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?mi._fromTokenResponse(n,r):null}}]),e}();function Pa(e,t){return t?hr(t):(hn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ra.PROVIDER_ID="phone",Ra.PHONE_SIGN_IN_METHOD="phone";var Oa=function(e){$(n,e);var t=te(n);function n(e){var r;return re(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ae(n,[{key:"_getIdTokenResponse",value:function(e){return si(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return si(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return si(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}($r);function Da(e){return Li(e.auth,new Oa(e),e.bypassAuthState)}function La(e){var t=e.auth,n=e.user;return hn(n,t,"internal-error"),Oi(n,new Oa(e),e.bypassAuthState)}function Ma(e){return ja.apply(this,arguments)}function ja(){return ja=i(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,hn(r=t.user,n,"internal-error"),e.abrupt("return",Ri(r,new Oa(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}var Ua=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];re(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ae(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=i(l().mark((function t(n,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=i(l().mark((function e(t){var n,r,i,a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Da;case"linkViaPopup":case"linkViaRedirect":return Ma;case"reauthViaPopup":case"reauthViaRedirect":return La;default:on(this.auth,"internal-error")}}},{key:"resolve",value:function(e){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Fa=new kn(2e3,1e4);function Va(){return Va=i(l().mark((function e(t,n,r){var i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nt(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(sn(t,"operation-not-supported-in-this-environment")));case 2:return i=Lr(t),ln(t,n,ki),a=Pa(i,r),o=new za(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 7:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}var za=function(e){$(n,e);var t=te(n);function n(e,r,i,a,o){var s;return re(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=X(s),s}return ae(n,[{key:"executeNotNull",value:function(){var e=i(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return hn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=i(l().mark((function e(){var t,n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pn(1===this.filter.length,"Popup operations only handle one event"),t=ia(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(sn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(sn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(sn(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Fa.get())}()}}]),n}(Ua);za.currentPopupAction=null;var Ba=new Map,qa=function(e){$(n,e);var t=te(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return re(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ae(n,[{key:"execute",value:function(){var e=i(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ba.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ha(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Q(W(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ba.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ba.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=i(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Q(W(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Q(W(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ua);function Ha(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=i(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qa(n),i=Ga(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Wa(e,t){Ba.set(e._key(),t)}function Ga(e){return hr(e._redirectPersistence)}function Qa(e){return vr("pendingRedirect",e.config.apiKey,e.name)}function Xa(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=i(l().mark((function e(t,n){var r,i,a,o,s,u=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]&&u[2],!Nt(t.app)){e.next=3;break}return e.abrupt("return",Promise.reject(cn(t)));case 3:return i=Lr(t),a=Pa(i,n),o=new qa(i,a,r),e.next=8,o.execute();case 8:if(!(s=e.sent)||r){e.next=15;break}return delete s.user._redirectEventId,e.next=13,i._persistUserIfCurrent(s.user);case 13:return e.next=15,i._setRedirectUser(null,n);case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}var $a=function(){function e(t){re(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ae(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Za(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Za(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ja(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ja(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ja(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Za(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function eo(e){return to.apply(this,arguments)}function to(){return to=i(l().mark((function e(t){var n,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Sn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}var no=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ro=/^https?/;function io(){return io=i(l().mark((function e(t){var n,r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,eo(t);case 4:n=e.sent,r=n.authorizedDomains,i=ne(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ao(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:on(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),io.apply(this,arguments)}function ao(e){var t=vn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ro.test(r))return!1;if(no.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var oo=new kn(3e4,6e4);function so(){var e=oa().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=oe(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}function uo(e){return new Promise((function(t,n){var r,i,a;function o(){so(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){so(),n(sn(e,"network-request-failed"))},timeout:oo.get()})}if(null===(i=null===(r=oa().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=oa().gapi)||void 0===a?void 0:a.load)){var s=Vr("iframefcb");return oa()[s]=function(){gapi.load?o():n(sn(e,"network-request-failed"))},Ur("".concat(jr.gapiScript,"?onload=").concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw co=null,e}))}var co=null;function lo(e){return co=co||uo(e)}var fo=new kn(5e3,15e3),ho={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},po=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vo(e){var t=e.config;hn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?bn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ot},i=po.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Oe(r).slice(1))}function mo(e){return go.apply(this,arguments)}function go(){return go=i(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(t);case 2:return n=e.sent,hn(r=oa().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:vo(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ho,dontclear:!0},(function(e){return new Promise(function(){var n=i(l().mark((function n(r,i){var a,o,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){oa().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=sn(t,"network-request-failed"),o=oa().setTimeout((function(){i(a)}),fo.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}var yo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ko="_blank",bo="http://localhost",wo=function(){function e(t){re(this,e),this.window=t,this.associatedEvent=null}return ae(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function _o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},yo),{width:r.toString(),height:i.toString(),top:a,left:o}),l=xe().toLowerCase();n&&(u=br(l)?ko:n),yr(l)&&(t=t||bo,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Tr(l)&&"_self"!==u)return xo(t||"",u),new wo(null);var h=window.open(t||"",u,f);hn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new wo(h)}function xo(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Eo=encodeURIComponent("fac");function So(e,t,n,r,i,a){return To.apply(this,arguments)}function To(){return To=i(l().mark((function e(t,n,r,i,a,o){var u,c,f,h,d,p,v,m,g,y,k,b,w;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hn(t.config.authDomain,t,"auth-domain-config-required"),hn(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Ot,eventId:a},n instanceof ki)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Ae(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),c=0,f=Object.entries(o||{});c<f.length;c++)h=s(f[c],2),d=h[0],p=h[1],u[d]=p;for(n instanceof bi&&(v=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=v.join(",")),t.tenantId&&(u.tid=t.tenantId),m=u,g=0,y=Object.keys(m);g<y.length;g++)k=y[g],void 0===m[k]&&delete m[k];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,w=b?"#".concat(Eo,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(Io(t),"?").concat(Oe(m).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Io(e){var t=e.config;return t.emulator?bn(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}var Co="webStorageSupport",No=function(){function e(){re(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ta,this._completeRedirectFn=Xa,this._overrideRedirectResult=Wa}return ae(e,[{key:"_openPopup",value:function(){var e=i(l().mark((function e(t,n,r,i){var a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,So(t,n,r,vn(),i);case 3:return o=e.sent,e.abrupt("return",_o(t,o,ia()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=i(l().mark((function e(t,n,r,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,So(t,n,r,vn(),i);case 4:return sa(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(pn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=i(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mo(t);case 2:return n=e.sent,r=new $a(t),n.register("authEvent",(function(e){return hn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Co,{type:Co},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),on(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return io.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Cr()||kr()||Sr()}}]),e}(),Ao=No,Ro=function(){function e(t){re(this,e),this.factorId=t}return ae(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return dn("unexpected MultiFactorSessionType")}}}]),e}(),Po=function(e){$(n,e);var t=te(n);function n(e){var r;return re(this,n),(r=t.call(this,"phone")).credential=e,r}return ae(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Sn(e,"POST","/v2/accounts/mfaEnrollment:finalize",En(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Sn(e,"POST","/v2/accounts/mfaSignIn:finalize",En(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ro);(function(){function e(){re(this,e)}return ae(e,null,[{key:"assertion",value:function(e){return Po._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Oo=function(){function e(){re(this,e)}return ae(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Do._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Do._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=i(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hn("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Qi(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Lo._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Oo.FACTOR_ID="totp";var Do=function(e){$(n,e);var t=te(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return ae(n,[{key:"_finalizeEnroll",value:function(){var e=i(l().mark((function e(t,n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hn("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Xi(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hn(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Ia(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Ro),Lo=function(){function e(t,n,r,i,a,o,s){re(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return ae(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Mo(e)||Mo(t))&&(r=!0),r&&(Mo(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Mo(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Mo(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var jo="@firebase/auth",Uo="1.7.0",Fo=function(){function e(t){re(this,e),this.auth=t,this.internalListeners=new Map}return ae(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){hn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Vo,zo=be("authIdTokenMaxAge")||300,Bo=null,qo=function(e){return function(){var t=i(l().mark((function t(n){var r,i,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>zo)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Bo!==a){t.next=12;break}return t.abrupt("return");case 12:return Bo=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};!function(e){jr=e}({loadJS:function(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=sn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Vo="Browser",It(new Fe("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;hn(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Vo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nr(Vo)},l=new Dr(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),It(new Fe("auth-internal",(function(e){return function(e){return new Fo(e)}(Lr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Mt(jo,Uo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Vo)),Mt(jo,Uo,"esm2017");Mt("firebase","10.10.0","app");var Ho,Ko="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Wo={},Go=Go||{},Qo=Ko||self;function Xo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Yo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $o="closure_uid_"+(1e9*Math.random()>>>0),Jo=0;function Zo(e,t,n){return e.call.apply(e.bind,arguments)}function es(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ts(e,t,n){return(ts=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zo:es).apply(null,arguments)}function ns(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function rs(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function is(){this.s=this.s,this.o=this.o}is.prototype.s=!1,is.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,$o)&&e[$o]||(e[$o]=++Jo))},is.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var as=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function os(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ss(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Xo(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function us(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}us.prototype.h=function(){this.defaultPrevented=!0};var cs=function(){if(!Qo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};Qo.addEventListener("test",n,t),Qo.removeEventListener("test",n,t)}catch(n){}return e}();function ls(e){return/^[\s\xa0]*$/.test(e)}function fs(){var e=Qo.navigator;return e&&(e=e.userAgent)?e:""}function hs(e){return-1!=fs().indexOf(e)}function ds(e){return ds[" "](e),e}ds[" "]=function(){};var ps,vs,ms=hs("Opera"),gs=hs("Trident")||hs("MSIE"),ys=hs("Edge"),ks=ys||gs,bs=hs("Gecko")&&!(-1!=fs().toLowerCase().indexOf("webkit")&&!hs("Edge"))&&!(hs("Trident")||hs("MSIE"))&&!hs("Edge"),ws=-1!=fs().toLowerCase().indexOf("webkit")&&!hs("Edge");function _s(){var e=Qo.document;return e?e.documentMode:void 0}e:{var xs="",Es=function(){var e=fs();return bs?/rv:([^\);]+)(\)|;)/.exec(e):ys?/Edge\/([\d\.]+)/.exec(e):gs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ws?/WebKit\/(\S+)/.exec(e):ms?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Es&&(xs=Es?Es[1]:""),gs){var Ss=_s();if(null!=Ss&&Ss>parseFloat(xs)){ps=String(Ss);break e}}ps=xs}if(Qo.document&&gs){var Ts=_s();vs=Ts||(parseInt(ps,10)||void 0)}else vs=void 0;var Is=vs;function Cs(e,t){if(us.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(bs){e:{try{ds(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ns[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Cs.$.h.call(this)}}rs(Cs,us);var Ns={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var As="closure_listenable_"+(1e6*Math.random()|0),Rs=0;function Ps(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Rs,this.fa=this.ia=!1}function Os(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ds(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ls(e){var t={};for(var n in e)t[n]=e[n];return t}var Ms="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function js(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ms.length;a++)n=Ms[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Us(e){this.src=e,this.g={},this.h=0}function Fs(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=as(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Os(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Vs(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Us.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Vs(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ps(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var zs="closure_lm_"+(1e6*Math.random()|0),Bs={};function qs(e,t,n,r,i){if(r&&r.once)return Ks(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)qs(e,t[a],n,r,i);return null}return n=Js(n),e&&e[As]?e.O(t,n,Yo(r)?!!r.capture:!!r,i):Hs(e,t,n,!1,r,i)}function Hs(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Yo(i)?!!i.capture:!!i,s=Ys(e);if(s||(e[zs]=s=new Us(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Xs;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)cs||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ks(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ks(e,t[a],n,r,i);return null}return n=Js(n),e&&e[As]?e.P(t,n,Yo(r)?!!r.capture:!!r,i):Hs(e,t,n,!0,r,i)}function Ws(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ws(e,t[a],n,r,i);else r=Yo(r)?!!r.capture:!!r,n=Js(n),e&&e[As]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Vs(a=e.g[t],n,r,i))&&(Os(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ys(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Vs(t,n,r,i)),(n=-1<e?t[e]:null)&&Gs(n))}function Gs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[As])Fs(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ys(t))?(Fs(n,e),0==n.h&&(n.src=null,t[zs]=null)):Os(e)}}}function Qs(e){return e in Bs?Bs[e]:Bs[e]="on"+e}function Xs(e,t){if(e.fa)e=!0;else{t=new Cs(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Gs(e),e=n.call(r,t)}return e}function Ys(e){return(e=e[zs])instanceof Us?e:null}var $s="__closure_events_fn_"+(1e9*Math.random()>>>0);function Js(e){return"function"===typeof e?e:(e[$s]||(e[$s]=function(t){return e.handleEvent(t)}),e[$s])}function Zs(){is.call(this),this.i=new Us(this),this.S=this,this.J=null}function eu(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new us(t,e);else if(t instanceof us)t.target=t.target||e;else{var i=t;js(t=new us(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=tu(o,r,!0,t)&&i}if(i=tu(o=t.g=e,r,!0,t)&&i,i=tu(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=tu(o=t.g=n[a],r,!1,t)&&i}function tu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Fs(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}rs(Zs,is),Zs.prototype[As]=!0,Zs.prototype.removeEventListener=function(e,t,n,r){Ws(this,e,t,n,r)},Zs.prototype.N=function(){if(Zs.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Os(n[r]);delete t.g[e],t.h--}}this.J=null},Zs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Zs.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var nu=Qo.JSON.stringify,ru=function(){function e(t,n){re(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ae(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function iu(){var e=hu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var au=function(){function e(){re(this,e),this.h=this.g=null}return ae(e,[{key:"add",value:function(e,t){var n=ou.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ou=new ru((function(){return new su}),(function(e){return e.reset()})),su=function(){function e(){re(this,e),this.next=this.g=this.h=null}return ae(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function uu(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function cu(e){Qo.setTimeout((function(){throw e}),0)}var lu,fu=!1,hu=new au,du=function(){var e=Qo.Promise.resolve(void 0);lu=function(){e.then(pu)}},pu=function(){for(var e;e=iu();){try{e.h.call(e.g)}catch($w){cu($w)}var t=ou;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fu=!1};function vu(e,t){Zs.call(this),this.h=e||1,this.g=t||Qo,this.j=ts(this.qb,this),this.l=Date.now()}function mu(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function gu(e,t,n){if("function"===typeof e)n&&(e=ts(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ts(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qo.setTimeout(e,t||0)}function yu(e){e.g=gu((function(){e.g=null,e.i&&(e.i=!1,yu(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}rs(vu,Zs),(Ho=vu.prototype).ga=!1,Ho.T=null,Ho.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),eu(this,"tick"),this.ga&&(mu(this),this.start()))}},Ho.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ho.N=function(){vu.$.N.call(this),mu(this),delete this.g};var ku=function(e){$(n,e);var t=te(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ae(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:yu(this)}},{key:"N",value:function(){Q(W(n.prototype),"N",this).call(this),this.g&&(Qo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(is);function bu(e){is.call(this),this.h=e,this.g={}}rs(bu,is);var wu=[];function _u(e,t,n,r){Array.isArray(n)||(n&&(wu[0]=n.toString()),n=wu);for(var i=0;i<n.length;i++){var a=qs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function xu(e){Ds(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Gs(e)}),e),e.g={}}function Eu(){this.g=!0}function Su(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return nu(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}bu.prototype.N=function(){bu.$.N.call(this),xu(this)},bu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Eu.prototype.Ea=function(){this.g=!1},Eu.prototype.info=function(){};var Tu={},Iu=null;function Cu(){return Iu=Iu||new Zs}function Nu(e){us.call(this,Tu.Ta,e)}function Au(e){var t=Cu();eu(t,new Nu(t))}function Ru(e,t){us.call(this,Tu.STAT_EVENT,e),this.stat=t}function Pu(e){var t=Cu();eu(t,new Ru(t,e))}function Ou(e,t){us.call(this,Tu.Ua,e),this.size=t}function Du(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qo.setTimeout((function(){e()}),t)}Tu.Ta="serverreachability",rs(Nu,us),Tu.STAT_EVENT="statevent",rs(Ru,us),Tu.Ua="timingevent",rs(Ou,us);var Lu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Mu={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ju(){}function Uu(e){return e.h||(e.h=e.i())}function Fu(){}ju.prototype.h=null;var Vu,zu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bu(){us.call(this,"d")}function qu(){us.call(this,"c")}function Hu(){}function Ku(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new bu(this),this.P=Gu,e=ks?125:void 0,this.V=new vu(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Wu}function Wu(){this.i=null,this.g="",this.h=!1}rs(Bu,us),rs(qu,us),rs(Hu,ju),Hu.prototype.g=function(){return new XMLHttpRequest},Hu.prototype.i=function(){return{}},Vu=new Hu;var Gu=45e3,Qu={},Xu={};function Yu(e,t,n){e.L=1,e.A=vc(lc(t)),e.u=n,e.S=!0,$u(e,null)}function $u(e,t){e.G=Date.now(),tc(e),e.B=lc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Cc(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Wu,e.g=Nl(e.l,n?t:null,!e.u),0<e.O&&(e.M=new ku(ts(e.Pa,e,e.g),e.O)),_u(e.U,e.g,"readystatechange",e.nb),t=e.I?Ls(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Au(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Ju(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Zu(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=ec(e,n))==Xu){4==t&&(e.s=4,Pu(14),i=!1),Su(e.j,e.m,null,"[Incomplete Response]");break}if(r==Qu){e.s=4,Pu(15),Su(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Su(e.j,e.m,r,null),oc(e,r)}Ju(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Pu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),wl(t),t.M=!0,Pu(11))):(Su(e.j,e.m,n,"[Invalid Chunked Response]"),ac(e),ic(e))}function ec(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Xu:(n=Number(t.substring(n,r)),isNaN(n)?Qu:(r+=1)+n>t.length?Xu:(t=t.slice(r,r+n),e.o=r+n,t))}function tc(e){e.Y=Date.now()+e.P,nc(e,e.P)}function nc(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Du(ts(e.lb,e),t)}function rc(e){e.C&&(Qo.clearTimeout(e.C),e.C=null)}function ic(e){0==e.l.H||e.J||El(e.l,e)}function ac(e){rc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,mu(e.V),xu(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function oc(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Lc(n.i,e)))if(!e.K&&Lc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;xl(n),dl(n)}bl(n),Pu(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Du(ts(n.ib,n),6e3));if(1>=Dc(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Tl(n,11)}else if((e.K||n.g==e)&&xl(n),!ls(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Mc(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,pc(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Cl(r,r.J?r.pa:null,r.Y),d.K){jc(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.C&&(rc(p),tc(p)),r.g=d}else kl(r);0<n.j.length&&vl(n)}else"stop"!=a[0]&&"close"!=a[0]||Tl(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Tl(n,7):hl(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Au()}catch(a){}}function sc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Xo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Xo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Xo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ho=Ku.prototype).setTimeout=function(e){this.P=e},Ho.nb=function(e){e=e.target;var t=this.M;t&&3==ol(e)?t.l():this.Pa(e)},Ho.Pa=function(e){try{if(e==this.g)e:{var t=ol(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ks||this.g&&(this.h.h||this.g.ja()||sl(this.g)))){this.J||4!=t||7==n||Au(),rc(this);var r=this.g.da();this.ca=r;t:if(Ju(this)){var i=sl(this.g);e="";var a=i.length,o=4==ol(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ac(this),ic(this);var s="";break t}this.h.i=new Qo.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.v,this.B,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ls(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.s=3,Pu(12),ac(this),ic(this);break e}Su(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oc(this,r)}this.S?(Zu(this,t,s),ks&&this.i&&3==t&&(_u(this.U,this.V,"tick",this.mb),this.V.start())):(Su(this.j,this.m,s,null),oc(this,s)),4==t&&ac(this),this.i&&!this.J&&(4==t?El(this.l,this):(this.i=!1,tc(this)))}else(function(e){var t={};e=(e.g&&2<=ol(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!ls(e[n])){var r=uu(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.s=3,Pu(12)):(this.s=0,Pu(13)),ac(this),ic(this)}}}catch(t){}},Ho.mb=function(){if(this.g){var e=ol(this.g),t=this.g.ja();this.o<t.length&&(rc(this),Zu(this,e,t),this.i&&4!=e&&tc(this))}},Ho.cancel=function(){this.J=!0,ac(this)},Ho.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Au(),Pu(17)),ac(this),this.s=2,ic(this)):nc(this,this.Y-e)};var uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof cc){this.h=e.h,fc(this,e.j),this.s=e.s,this.g=e.g,hc(this,e.m),this.l=e.l;var t=e.i,n=new Ec;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),dc(this,n),this.o=e.o}else e&&(t=String(e).match(uc))?(this.h=!1,fc(this,t[1]||"",!0),this.s=mc(t[2]||""),this.g=mc(t[3]||"",!0),hc(this,t[4]),this.l=mc(t[5]||"",!0),dc(this,t[6]||"",!0),this.o=mc(t[7]||"")):(this.h=!1,this.i=new Ec(null,this.h))}function lc(e){return new cc(e)}function fc(e,t,n){e.j=n?mc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function dc(e,t,n){t instanceof Ec?(e.i=t,function(e,t){t&&!e.j&&(Sc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tc(this,t),Cc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=gc(t,_c)),e.i=new Ec(t,e.h))}function pc(e,t,n){e.i.set(t,n)}function vc(e){return pc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}cc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gc(t,kc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(gc(t,kc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(gc(n,"/"==n.charAt(0)?wc:bc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",gc(n,xc)),e.join("")};var kc=/[#\/\?@]/g,bc=/[#\?:]/g,wc=/[#\?]/g,_c=/[#\?@]/g,xc=/#/g;function Ec(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tc(e,t){Sc(e),t=Nc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ic(e,t){return Sc(e),t=Nc(e,t),e.g.has(t)}function Cc(e,t,n){Tc(e,t),0<n.length&&(e.i=null,e.g.set(Nc(e,t),os(n)),e.h+=n.length)}function Nc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ho=Ec.prototype).add=function(e,t){Sc(this),this.i=null,e=Nc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ho.forEach=function(e,t){Sc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ho.ta=function(){Sc(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ho.Z=function(e){Sc(this);var t=[];if("string"===typeof e)Ic(this,e)&&(t=t.concat(this.g.get(Nc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ho.set=function(e,t){return Sc(this),this.i=null,Ic(this,e=Nc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ho.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ho.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ac=ae((function e(t,n){re(this,e),this.g=t,this.map=n}));function Rc(e){this.l=e||Pc,Qo.PerformanceNavigationTiming?e=0<(e=Qo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qo.g&&Qo.g.Ka&&Qo.g.Ka()&&Qo.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pc=10;function Oc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Dc(e){return e.h?1:e.g?e.g.size:0}function Lc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Mc(e,t){e.g?e.g.add(t):e.h=t}function jc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Uc(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ne(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return os(e.i)}Rc.prototype.cancel=function(){if(this.i=Uc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ne(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Fc,Vc=function(){function e(){re(this,e)}return ae(e,[{key:"stringify",value:function(e){return Qo.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Qo.JSON.parse(e,void 0)}}]),e}();function zc(){this.g=new Vc}function Bc(e,t,n){var r=n||"";try{sc(e,(function(e,n){var i=e;Yo(e)&&(i=nu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function qc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Hc(e){this.l=e.ec||null,this.j=e.ob||!1}function Kc(e,t){Zs.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Wc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rs(Hc,ju),Hc.prototype.g=function(){return new Kc(this.l,this.j)},Hc.prototype.i=(Fc={},function(){return Fc}),rs(Kc,Zs);var Wc=0;function Gc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Qc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xc(e)}function Xc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ho=Kc.prototype).open=function(e,t){if(this.readyState!=Wc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xc(this)},Ho.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Qo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ho.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qc(this)),this.readyState=Wc},Ho.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xc(this)),this.g&&(this.readyState=3,Xc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Qo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ho.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Qc(this):Xc(this),3==this.readyState&&Gc(this)}},Ho.Za=function(e){this.g&&(this.response=this.responseText=e,Qc(this))},Ho.Ya=function(e){this.g&&(this.response=e,Qc(this))},Ho.ka=function(){this.g&&Qc(this)},Ho.setRequestHeader=function(e,t){this.v.append(e,t)},Ho.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ho.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Yc=Qo.JSON.parse;function $c(e){Zs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Jc,this.L=this.M=!1}rs($c,Zs);var Jc="",Zc=/^https?$/i,el=["POST","PUT"];function tl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,nl(e),il(e)}function nl(e){e.F||(e.F=!0,eu(e,"complete"),eu(e,"error"))}function rl(e){if(e.h&&"undefined"!=typeof Go&&(!e.C[1]||4!=ol(e)||2!=e.da()))if(e.v&&4==ol(e))gu(e.La,0,e);else if(eu(e,"readystatechange"),4==ol(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(uc)[1]||null;!a&&Qo.self&&Qo.self.location&&(a=Qo.self.location.protocol.slice(0,-1)),i=!Zc.test(a?a.toLowerCase():"")}t=i}if(t)eu(e,"complete"),eu(e,"success");else{e.m=6;try{var o=2<ol(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",nl(e)}}finally{il(e)}}}function il(e,t){if(e.g){al(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||eu(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function al(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Qo.clearTimeout(e.A),e.A=null)}function ol(e){return e.g?e.g.readyState:0}function sl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Jc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(vf){return null}}function ul(e){var t="";return Ds(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function cl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ul(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):pc(e,t,n))}function ll(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fl(e){this.Ga=0,this.j=[],this.l=new Eu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ll("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ll("baseRetryDelayMs",5e3,e),this.hb=ll("retryDelaySeedMs",1e4,e),this.eb=ll("forwardChannelMaxRetries",2,e),this.xa=ll("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Rc(e&&e.concurrentRequestLimit),this.Ja=new zc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function hl(e){if(pl(e),3==e.H){var t=e.W++,n=lc(e.I);if(pc(n,"SID",e.K),pc(n,"RID",t),pc(n,"TYPE","terminate"),gl(e,n),(t=new Ku(e,e.l,t)).L=2,t.A=vc(lc(n)),n=!1,Qo.navigator&&Qo.navigator.sendBeacon)try{n=Qo.navigator.sendBeacon(t.A.toString(),"")}catch(Jw){}!n&&Qo.Image&&((new Image).src=t.A,n=!0),n||(t.g=Nl(t.l,null),t.g.ha(t.A)),t.G=Date.now(),tc(t)}Il(e)}function dl(e){e.g&&(wl(e),e.g.cancel(),e.g=null)}function pl(e){dl(e),e.u&&(Qo.clearTimeout(e.u),e.u=null),xl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qo.clearTimeout(e.m),e.m=null)}function vl(e){if(!Oc(e.i)&&!e.m){e.m=!0;var t=e.Na;lu||du(),fu||(lu(),fu=!0),hu.add(t,e),e.C=0}}function ml(e,t){var n;n=t?t.m:e.W++;var r=lc(e.I);pc(r,"SID",e.K),pc(r,"RID",n),pc(r,"AID",e.V),gl(e,r),e.o&&e.s&&cl(r,e.o,e.s),n=new Ku(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=yl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Mc(e.i,n),Yu(n,r,t)}function gl(e,t){e.na&&Ds(e.na,(function(e,n){pc(t,n,e)})),e.h&&sc({},(function(e,n){pc(t,n,e)}))}function yl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ts(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Bc(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function kl(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;lu||du(),fu||(lu(),fu=!0),hu.add(t,e),e.A=0}}function bl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Du(ts(e.Ma,e),Sl(e,e.A)),e.A++,!0)}function wl(e){null!=e.B&&(Qo.clearTimeout(e.B),e.B=null)}function _l(e){e.g=new Ku(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=lc(e.wa);pc(t,"RID","rpc"),pc(t,"SID",e.K),pc(t,"AID",e.V),pc(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&pc(t,"TO",e.qa),pc(t,"TYPE","xmlhttp"),gl(e,t),e.o&&e.s&&cl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=vc(lc(t)),n.u=null,n.S=!0,$u(n,e)}function xl(e){null!=e.v&&(Qo.clearTimeout(e.v),e.v=null)}function El(e,t){var n=null;if(e.g==t){xl(e),wl(e),e.g=null;var r=2}else{if(!Lc(e.i,t))return;n=t.F,jc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;eu(r=Cu(),new Ou(r,n)),vl(e)}else kl(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Dc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Du(ts(e.Na,e,t),Sl(e,e.C)),e.C++,!0))}(e,t)||2==r&&bl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Tl(e,5);break;case 4:Tl(e,10);break;case 3:Tl(e,6);break;default:Tl(e,2)}}function Sl(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Tl(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ts(e.pb,e);n||(n=new cc("//www.google.com/images/cleardot.gif"),Qo.location&&"http"==Qo.location.protocol||fc(n,"https"),vc(n)),function(e,t){var n=new Eu;if(Qo.Image){var r=new Image;r.onload=ns(qc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ns(qc,n,r,"TestLoadImage: error",!1,t),r.onabort=ns(qc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ns(qc,n,r,"TestLoadImage: timeout",!1,t),Qo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Pu(2);e.H=0,e.h&&e.h.za(t),Il(e),pl(e)}function Il(e){if(e.H=0,e.ma=[],e.h){var t=Uc(e.i);0==t.length&&0==e.j.length||(ss(e.ma,t),ss(e.ma,e.j),e.i.i.length=0,os(e.j),e.j.length=0),e.h.ya()}}function Cl(e,t,n){var r=n instanceof cc?lc(n):new cc(n);if(""!=r.g)t&&(r.g=t+"."+r.g),hc(r,r.m);else{var i=Qo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new cc(null);r&&fc(a,r),t&&(a.g=t),i&&hc(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&pc(r,n,t),pc(r,"VER",e.ra),gl(e,r),r}function Nl(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new $c(new Hc({ob:n})):new $c(e.va)).Oa(e.J),t}function Al(){}function Rl(){if(gs&&!(10<=Number(Is)))throw Error("Environmental error: no available transport.")}function Pl(e,t){Zs.call(this),this.g=new fl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ls(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ls(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ll(this)}function Ol(e){Bu.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Dl(){qu.call(this),this.status=1}function Ll(e){this.g=e}function Ml(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Ul(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Ho=$c.prototype).Oa=function(e){this.M=e},Ho.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vu.g(),this.C=this.u?Uu(this.u):Uu(Vu),this.g.onreadystatechange=ts(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void tl(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=ne(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Qo.FormData&&e instanceof Qo.FormData,!(0<=as(el,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=ne(n);try{for(l.s();!(c=l.n()).done;){var f=s(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{al(this),0<this.B&&((this.L=function(e){return gs&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ts(this.ua,this)):this.A=gu(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){tl(this,u)}},Ho.ua=function(){"undefined"!=typeof Go&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eu(this,"timeout"),this.abort(8))},Ho.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,eu(this,"complete"),eu(this,"abort"),il(this))},Ho.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),il(this,!0)),$c.$.N.call(this)},Ho.La=function(){this.s||(this.G||this.v||this.l?rl(this):this.kb())},Ho.kb=function(){rl(this)},Ho.isActive=function(){return!!this.g},Ho.da=function(){try{return 2<ol(this)?this.g.status:-1}catch(Fc){return-1}},Ho.ja=function(){try{return this.g?this.g.responseText:""}catch(Fc){return""}},Ho.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Yc(t)}},Ho.Ia=function(){return this.m},Ho.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ho=fl.prototype).ra=8,Ho.H=1,Ho.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Ku(this,this.l,e),n=this.s;if(this.U&&(n?js(n=Ls(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=yl(this,t,r),pc(i=lc(this.I),"RID",e),pc(i,"CVER",22),this.F&&pc(i,"X-HTTP-Session-Id",this.F),gl(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(ul(n)))+"&"+r:this.o&&cl(i,this.o,n)),Mc(this.i,t),this.bb&&pc(i,"TYPE","init"),this.P?(pc(i,"$req",r),pc(i,"SID","null"),t.aa=!0,Yu(t,i,null)):Yu(t,i,r),this.H=2}}else 3==this.H&&(e?ml(this,e):0==this.j.length||Oc(this.i)||ml(this))},Ho.Ma=function(){if(this.u=null,_l(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Du(ts(this.jb,this),e)}},Ho.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pu(10),dl(this),_l(this))},Ho.ib=function(){null!=this.v&&(this.v=null,dl(this),bl(this),Pu(19))},Ho.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Pu(2)):(this.l.info("Failed to ping google.com"),Pu(1))},Ho.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ho=Al.prototype).Ba=function(){},Ho.Aa=function(){},Ho.za=function(){},Ho.ya=function(){},Ho.isActive=function(){return!0},Ho.Va=function(){},Rl.prototype.g=function(e,t){return new Pl(e,t)},rs(Pl,Zs),Pl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Pu(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Cl(e,null,e.Y),vl(e)},Pl.prototype.close=function(){hl(this.g)},Pl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=nu(e),e=n);t.j.push(new Ac(t.fb++,e)),3==t.H&&vl(t)},Pl.prototype.N=function(){this.g.h=null,delete this.j,hl(this.g),delete this.g,Pl.$.N.call(this)},rs(Ol,Bu),rs(Dl,qu),rs(Ll,Al),Ll.prototype.Ba=function(){eu(this.g,"a")},Ll.prototype.Aa=function(e){eu(this.g,new Ol(e))},Ll.prototype.za=function(e){eu(this.g,new Dl)},Ll.prototype.ya=function(){eu(this.g,"b")},rs(Ml,(function(){this.blockSize=-1})),Ml.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ml.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)jl(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){jl(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){jl(this,r),i=0;break}}this.h=i,this.i+=t},Ml.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Fl={};function Vl(e){return-128<=e&&128>e?function(e,t){var n=Fl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ul([0|e],0>e?-1:0)})):new Ul([0|e],0>e?-1:0)}function zl(e){if(isNaN(e)||!isFinite(e))return ql;if(0>e)return Ql(zl(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Bl;return new Ul(t,0)}var Bl=4294967296,ql=Vl(0),Hl=Vl(1),Kl=Vl(16777216);function Wl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Gl(e){return-1==e.h}function Ql(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ul(n,~e.h).add(Hl)}function Xl(e,t){return e.add(Ql(t))}function Yl(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function $l(e,t){this.g=e,this.h=t}function Jl(e,t){if(Wl(t))throw Error("division by zero");if(Wl(e))return new $l(ql,ql);if(Gl(e))return t=Jl(Ql(e),t),new $l(Ql(t.g),Ql(t.h));if(Gl(t))return t=Jl(e,Ql(t)),new $l(Ql(t.g),t.h);if(30<e.g.length){if(Gl(e)||Gl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Hl,r=t;0>=r.X(e);)n=Zl(n),r=Zl(r);var i=ef(n,1),a=ef(r,1);for(r=ef(r,2),n=ef(n,2);!Wl(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=ef(r,1),n=ef(n,1)}return t=Xl(e,i.R(t)),new $l(i,t)}for(i=ql;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=zl(n)).R(t);Gl(o)||0<o.X(e);)o=(a=zl(n-=r)).R(t);Wl(a)&&(a=Hl),i=i.add(a),e=Xl(e,o)}return new $l(i,e)}function Zl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ul(n,e.h)}function ef(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Ul(i,e.h)}(Ho=Ul.prototype).ea=function(){if(Gl(this))return-Ql(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Bl+r)*t,t*=Bl}return e},Ho.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Wl(this))return"0";if(Gl(this))return"-"+Ql(this).toString(e);for(var t=zl(Math.pow(e,6)),n=this,r="";;){var i=Jl(n,t).g,a=((0<(n=Xl(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Wl(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ho.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ho.X=function(e){return Gl(e=Xl(this,e))?-1:Wl(e)?0:1},Ho.abs=function(){return Gl(this)?Ql(this):this},Ho.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Ul(n,-2147483648&n[n.length-1]?-1:0)},Ho.R=function(e){if(Wl(this)||Wl(e))return ql;if(Gl(this))return Gl(e)?Ql(this).R(Ql(e)):Ql(Ql(this).R(e));if(Gl(e))return Ql(this.R(Ql(e)));if(0>this.X(Kl)&&0>e.X(Kl))return zl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Yl(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Yl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Yl(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Yl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ul(n,0)},Ho.gb=function(e){return Jl(this,e).h},Ho.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ul(n,this.h&e.h)},Ho.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ul(n,this.h|e.h)},Ho.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ul(n,this.h^e.h)},Rl.prototype.createWebChannel=Rl.prototype.g,Pl.prototype.send=Pl.prototype.u,Pl.prototype.open=Pl.prototype.m,Pl.prototype.close=Pl.prototype.close,Lu.NO_ERROR=0,Lu.TIMEOUT=8,Lu.HTTP_ERROR=6,Mu.COMPLETE="complete",Fu.EventType=zu,zu.OPEN="a",zu.CLOSE="b",zu.ERROR="c",zu.MESSAGE="d",Zs.prototype.listen=Zs.prototype.O,$c.prototype.listenOnce=$c.prototype.P,$c.prototype.getLastError=$c.prototype.Sa,$c.prototype.getLastErrorCode=$c.prototype.Ia,$c.prototype.getStatus=$c.prototype.da,$c.prototype.getResponseJson=$c.prototype.Wa,$c.prototype.getResponseText=$c.prototype.ja,$c.prototype.send=$c.prototype.ha,$c.prototype.setWithCredentials=$c.prototype.Oa,Ml.prototype.digest=Ml.prototype.l,Ml.prototype.reset=Ml.prototype.reset,Ml.prototype.update=Ml.prototype.j,Ul.prototype.add=Ul.prototype.add,Ul.prototype.multiply=Ul.prototype.R,Ul.prototype.modulo=Ul.prototype.gb,Ul.prototype.compare=Ul.prototype.X,Ul.prototype.toNumber=Ul.prototype.ea,Ul.prototype.toString=Ul.prototype.toString,Ul.prototype.getBits=Ul.prototype.D,Ul.fromNumber=zl,Ul.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ql(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=zl(Math.pow(n,8)),i=ql,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=zl(Math.pow(n,o)),i=i.R(o).add(zl(s))):i=(i=i.R(r)).add(zl(s))}return i};var tf=Wo.createWebChannelTransport=function(){return new Rl},nf=Wo.getStatEventTarget=function(){return Cu()},rf=Wo.ErrorCode=Lu,af=Wo.EventType=Mu,of=Wo.Event=Tu,sf=Wo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uf=(Wo.FetchXmlHttpFactory=Hc,Wo.WebChannel=Fu),cf=Wo.XhrIo=$c,lf=Wo.Md5=Ml,ff=Wo.Integer=Ul,hf="@firebase/firestore",df=function(){function e(t){re(this,e),this.uid=t}return ae(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();df.UNAUTHENTICATED=new df(null),df.GOOGLE_CREDENTIALS=new df("google-credentials-uid"),df.FIRST_PARTY=new df("first-party-uid"),df.MOCK_USER=new df("mock-user");var pf="10.10.0",vf=new Ye("@firebase/firestore");function mf(){return vf.logLevel}function gf(e){if(vf.logLevel<=qe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bf);vf.debug.apply(vf,["Firestore (".concat(pf,"): ").concat(e)].concat(oe(i)))}}function yf(e){if(vf.logLevel<=qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bf);vf.error.apply(vf,["Firestore (".concat(pf,"): ").concat(e)].concat(oe(i)))}}function kf(e){if(vf.logLevel<=qe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bf);vf.warn.apply(vf,["Firestore (".concat(pf,"): ").concat(e)].concat(oe(i)))}}function bf(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function wf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(pf,") INTERNAL ASSERTION FAILED: ")+e;throw yf(t),new Error(t)}function _f(e,t){e||wf()}function xf(e,t){return e}var Ef={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sf=function(e){$(n,e);var t=te(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ae(n)}(Te),Tf=ae((function e(){var t=this;re(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),If=ae((function e(t,n){re(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Cf=function(){function e(){re(this,e)}return ae(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(df.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Nf=function(){function e(t){re(this,e),this.token=t,this.changeListener=null}return ae(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Af=function(){function e(t){re(this,e),this.t=t,this.currentUser=df.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ae(e,[{key:"start",value:function(e,t){var n=this,r=this.i,a=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new Tf;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new Tf,e.enqueueRetryable((function(){return a(n.currentUser)}))};var s=function(){var t=o;e.enqueueRetryable(i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,a(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){gf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(gf("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tf)}}),0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(gf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_f("string"==typeof n.accessToken),new If(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return _f(null===e||"string"==typeof e),new df(e)}}]),e}(),Rf=function(){function e(t,n,r){re(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=df.FIRST_PARTY,this.I=new Map}return ae(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Pf=function(){function e(t,n,r){re(this,e),this.l=t,this.h=n,this.P=r}return ae(e,[{key:"getToken",value:function(){return Promise.resolve(new Rf(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(df.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Of=ae((function e(t){re(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Df=function(){function e(t){re(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return ae(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&gf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,gf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){gf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):gf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(_f("string"==typeof t.token),e.R=t.token,new Of(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Lf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Mf=function(){function e(){re(this,e)}return ae(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Lf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function jf(e,t){return e<t?-1:e>t?1:0}function Uf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Ff=function(){function e(t,n){if(re(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Sf(Ef.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Sf(Ef.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Sf(Ef.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sf(Ef.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ae(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?jf(this.nanoseconds,e.nanoseconds):jf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Vf=function(){function e(t){re(this,e),this.timestamp=t}return ae(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ff(0,0))}},{key:"max",value:function(){return new e(new Ff(253402300799,999999999))}}]),e}(),zf=function(){function e(t,n,r){re(this,e),void 0===n?n=0:n>t.length&&wf(),void 0===r?r=t.length-n:r>t.length-n&&wf(),this.segments=t,this.offset=n,this.len=r}return ae(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Bf=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"toUriEncodedString",value:function(){return this.toArray().map(encodeURIComponent).join("/")}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,oe(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zf),qf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hf=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return qf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Sf(Ef.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Sf(Ef.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Sf(Ef.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zf),Kf=function(){function e(t){re(this,e),this.path=t}return ae(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Bf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Bf.fromString(t))}},{key:"fromName",value:function(t){return new e(Bf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Bf.emptyPath())}},{key:"comparator",value:function(e,t){return Bf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Bf(t.slice()))}}]),e}(),Wf=ae((function e(t,n,r,i){re(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Wf.UNKNOWN_ID=-1;function Gf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vf.fromTimestamp(1e9===r?new Ff(n+1,0):new Ff(n,r));return new Xf(i,Kf.empty(),t)}function Qf(e){return new Xf(e.readTime,e.key,-1)}var Xf=function(){function e(t,n,r){re(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ae(e,null,[{key:"min",value:function(){return new e(Vf.min(),Kf.empty(),-1)}},{key:"max",value:function(){return new e(Vf.max(),Kf.empty(),-1)}}]),e}();function Yf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Kf.comparator(e.documentKey,t.documentKey))?n:jf(e.largestBatchId,t.largestBatchId)}var $f="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jf=function(){function e(){re(this,e),this.onCommittedListeners=[]}return ae(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Zf(e){return eh.apply(this,arguments)}function eh(){return(eh=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ef.FAILED_PRECONDITION&&t.message===$f){e.next=2;break}throw t;case 2:gf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var th=function(){function e(t){var n=this;re(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ae(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&wf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ne(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),nh=function(){function e(t,n){var r=this;re(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new Tf,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new ah(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=lh(e.target.error);r.V.reject(new ah(t,n))}}return ae(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(gf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new sh(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ah(n,t)}}}]),e}(),rh=function(){function e(t,n,r){re(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(xe())&&yf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ae(e,[{key:"O",value:function(){var e=i(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return gf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ah(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Sf(Ef.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Sf(Ef.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ah(t,n))},i.onupgradeneeded=function(e){gf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){gf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=i(l().mark((function e(t,n,r,i){var a,o,s,u,c,f=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(l().mark((function e(){var n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.O(t);case 2:return f.db=e.sent,n=nh.open(f.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),th.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.m;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,gf("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return gf("SimpleDb","Removing database:",e),uh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Se())return!1;if(e.C())return!0;var t=xe(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ih=function(){function e(t){re(this,e),this.k=t,this.q=!1,this.K=null}return ae(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return uh(this.k.delete())}}]),e}(),ah=function(e){$(n,e);var t=te(n);function n(e,r){var i;return re(this,n),(i=t.call(this,Ef.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ae(n)}(Sf);function oh(e){return"IndexedDbTransactionError"===e.name}var sh=function(){function e(t){re(this,e),this.store=t}return ae(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(gf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),uh(n)}},{key:"add",value:function(e){return gf("SimpleDb","ADD",this.store.name,e,e),uh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return uh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),gf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return gf("SimpleDb","DELETE",this.store.name,e),uh(this.store.delete(e))}},{key:"count",value:function(){return gf("SimpleDb","COUNT",this.store.name),uh(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){var i=r.getAll(n.range);return new th((function(e,t){i.onerror=function(e){t(e.target.error)},i.onsuccess=function(t){e(t.target.result)}}))}var a=this.cursor(n),o=[];return this.G(a,(function(e,t){o.push(t)})).next((function(){return o}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new th((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){gf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new th((function(n,r){t.onerror=function(e){var t=lh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new th((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ih(i),o=t(i.primaryKey,i.value,a);if(o instanceof th){var s=o.catch((function(e){return a.done(),th.reject(e)}));n.push(s)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return th.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function uh(e){return new th((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=lh(e.target.error);n(t)}}))}var ch=!1;function lh(e){var t=rh.S(xe());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Sf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ch||(ch=!0,setTimeout((function(){throw r}),0)),r}}return e}var fh=function(){function e(t,n){var r=this;re(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return ae(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function hh(e){return null==e}function dh(e){return 0===e&&1/e==-1/0}function ph(e){return"number"==typeof e&&Number.isInteger(e)&&!dh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}fh._e=-1;var vh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),mh=([].concat(oe(vh),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),gh=mh;[].concat(gh,["indexConfiguration","indexState","indexEntries"]);function yh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var wh=function(){function e(t,n){re(this,e),this.comparator=t,this.root=n||xh.EMPTY}return ae(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xh.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xh.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new _h(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new _h(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new _h(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new _h(this.root,e,this.comparator,!0)}}]),e}(),_h=function(){function e(t,n,r,i){re(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ae(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),xh=function(){function e(t,n,r,i,a){re(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ae(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw wf();if(this.right.isRed())throw wf();var e=this.left.check();if(e!==this.right.check())throw wf();return e+(this.isRed()?0:1)}}]),e}();xh.EMPTY=null,xh.RED=!0,xh.BLACK=!1,xh.EMPTY=new(function(){function e(){re(this,e),this.size=0}return ae(e,[{key:"key",get:function(){throw wf()}},{key:"value",get:function(){throw wf()}},{key:"color",get:function(){throw wf()}},{key:"left",get:function(){throw wf()}},{key:"right",get:function(){throw wf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new xh(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Eh=function(){function e(t){re(this,e),this.comparator=t,this.data=new wh(this.comparator)}return ae(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sh=function(){function e(t){re(this,e),this.iter=t}return ae(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Th=function(){function e(t){re(this,e),this.fields=t,t.sort(Hf.comparator)}return ae(e,[{key:"unionWith",value:function(t){var n,r=new Eh(Hf.comparator),i=ne(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=ne(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ne(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Uf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ih=function(e){$(n,e);var t=te(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return ae(n)}(ce(Error));var Ch=function(e){function t(e){re(this,t),this.binaryString=e}return ae(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return jf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ih("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ch.EMPTY_BYTE_STRING=new Ch("");var Nh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ah(e){if(_f(!!e),"string"==typeof e){var t=0,n=Nh.exec(e);if(_f(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Rh(e.seconds),nanos:Rh(e.nanos)}}function Rh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ph(e){return"string"==typeof e?Ch.fromBase64String(e):Ch.fromUint8Array(e)}function Oh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dh(e){var t=e.mapValue.fields.__previous_value__;return Oh(t)?Dh(t):t}function Lh(e){var t=Ah(e.mapValue.fields.__local_write_time__.timestampValue);return new Ff(t.seconds,t.nanos)}var Mh=ae((function e(t,n,r,i,a,o,s,u,c){re(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),jh=function(){function e(t,n){re(this,e),this.projectId=t,this.database=n||"(default)"}return ae(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Uh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oh(e)?4:Zh(e)?9007199254740991:10:wf()}function Vh(e,t){if(e===t)return!0;var n=Fh(e);if(n!==Fh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lh(e).isEqual(Lh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ah(e.timestampValue),r=Ah(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ph(e.bytesValue).isEqual(Ph(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rh(e.geoPointValue.latitude)===Rh(t.geoPointValue.latitude)&&Rh(e.geoPointValue.longitude)===Rh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rh(e.integerValue)===Rh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Rh(e.doubleValue),r=Rh(t.doubleValue);return n===r?dh(n)===dh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Uf(e.arrayValue.values||[],t.arrayValue.values||[],Vh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yh(n)!==yh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vh(n[i],r[i])))return!1;return!0}(e,t);default:return wf()}}function zh(e,t){return void 0!==(e.values||[]).find((function(e){return Vh(e,t)}))}function Bh(e,t){if(e===t)return 0;var n=Fh(e),r=Fh(t);if(n!==r)return jf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Rh(e.integerValue||e.doubleValue),r=Rh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qh(e.timestampValue,t.timestampValue);case 4:return qh(Lh(e),Lh(t));case 5:return jf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ph(e),r=Ph(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=jf(n[i],r[i]);if(0!==a)return a}return jf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=jf(Rh(e.latitude),Rh(t.latitude));return 0!==n?n:jf(Rh(e.longitude),Rh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bh(n[i],r[i]);if(a)return a}return jf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Uh.mapValue&&t===Uh.mapValue)return 0;if(e===Uh.mapValue)return 1;if(t===Uh.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=jf(r[o],a[o]);if(0!==s)return s;var u=Bh(n[r[o]],i[a[o]]);if(0!==u)return u}return jf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw wf()}}function qh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return jf(e,t);var n=Ah(e),r=Ah(t),i=jf(n.seconds,r.seconds);return 0!==i?i:jf(n.nanos,r.nanos)}function Hh(e){return Kh(e)}function Kh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ah(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ph(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Kf.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ne(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Kh(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ne(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Kh(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):wf()}function Wh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gh(e){return!!e&&"integerValue"in e}function Qh(e){return!!e&&"arrayValue"in e}function Xh(e){return!!e&&"nullValue"in e}function Yh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $h(e){return!!e&&"mapValue"in e}function Jh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return kh(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Jh(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Jh(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Zh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var ed=function(){function e(t){re(this,e),this.value=t}return ae(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$h(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jh(t)}},{key:"setAll",value:function(e){var t=this,n=Hf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Jh(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$h(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){kh(t,(function(t,n){return e[t]=n}));var r,i=ne(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Jh(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function td(e){var t=[];return kh(e.fields,(function(e,n){var r=new Hf([e]);if($h(n)){var i=td(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ne(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Th(t)}var nd=function(){function e(t,n,r,i,a,o,s){re(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return ae(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Vf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ed.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ed.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Vf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Vf.min(),Vf.min(),Vf.min(),ed.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Vf.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vf.min(),Vf.min(),ed.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vf.min(),Vf.min(),ed.empty(),2)}}]),e}(),rd=ae((function e(t,n){re(this,e),this.position=t,this.inclusive=n}));function id(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Kf.comparator(Kf.fromName(o.referenceValue),n.key):Bh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ad(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vh(e.position[n],t.position[n]))return!1;return!0}var od=ae((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";re(this,e),this.field=t,this.dir=n}));function sd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ud=ae((function e(){re(this,e)})),cd=function(e){$(n,e);var t=te(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ae(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bh(t,this.value)):null!==t&&Fh(this.value)===Fh(t)&&this.matchesComparison(Bh(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wf()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new gd(e,t,r):"array-contains"===t?new wd(e,r):"in"===t?new _d(e,r):"not-in"===t?new xd(e,r):"array-contains-any"===t?new Ed(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new yd(e,n):new kd(e,n)}}]),n}(ud),ld=function(e){$(n,e);var t=te(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return ae(n,[{key:"matches",value:function(e){return fd(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ud);function fd(e){return"and"===e.op}function hd(e){return dd(e)&&fd(e)}function dd(e){var t,n=ne(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ld)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function pd(e){if(e instanceof cd)return e.field.canonicalString()+e.op.toString()+Hh(e.value);if(hd(e))return e.filters.map((function(e){return pd(e)})).join(",");var t=e.filters.map((function(e){return pd(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function vd(e,t){return e instanceof cd?function(e,t){return t instanceof cd&&e.op===t.op&&e.field.isEqual(t.field)&&Vh(e.value,t.value)}(e,t):e instanceof ld?function(e,t){return t instanceof ld&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&vd(n,t.filters[r])}),!0)}(e,t):void wf()}function md(e){return e instanceof cd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Hh(e.value))}(e):e instanceof ld?function(e){return e.op.toString()+" {"+e.getFilters().map(md).join(" ,")+"}"}(e):"Filter"}var gd=function(e){$(n,e);var t=te(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,e,r,i)).key=Kf.fromName(i.referenceValue),a}return ae(n,[{key:"matches",value:function(e){var t=Kf.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(cd),yd=function(e){$(n,e);var t=te(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,"in",r)).keys=bd("in",r),i}return ae(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cd),kd=function(e){$(n,e);var t=te(n);function n(e,r){var i;return re(this,n),(i=t.call(this,e,"not-in",r)).keys=bd("not-in",r),i}return ae(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cd);function bd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Kf.fromName(e.referenceValue)}))}var wd=function(e){$(n,e);var t=te(n);function n(e,r){return re(this,n),t.call(this,e,"array-contains",r)}return ae(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Qh(t)&&zh(t.arrayValue,this.value)}}]),n}(cd),_d=function(e){$(n,e);var t=te(n);function n(e,r){return re(this,n),t.call(this,e,"in",r)}return ae(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zh(this.value.arrayValue,t)}}]),n}(cd),xd=function(e){$(n,e);var t=te(n);function n(e,r){return re(this,n),t.call(this,e,"not-in",r)}return ae(n,[{key:"matches",value:function(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zh(this.value.arrayValue,t)}}]),n}(cd),Ed=function(e){$(n,e);var t=te(n);function n(e,r){return re(this,n),t.call(this,e,"array-contains-any",r)}return ae(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Qh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zh(t.value.arrayValue,e)}))}}]),n}(cd),Sd=ae((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;re(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ce=null}));function Td(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Sd(e,t,n,r,i,a,o)}function Id(e){var t=xf(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return pd(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),hh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Hh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Hh(e)})).join(",")),t.ce=n}return t.ce}function Cd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!sd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!vd(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ad(e.startAt,t.startAt)&&ad(e.endAt,t.endAt)}function Nd(e){return Kf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ad=ae((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;re(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function Rd(e,t,n,r,i,a,o,s){return new Ad(e,t,n,r,i,a,o,s)}function Pd(e){return new Ad(e)}function Od(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Dd(e){return null!==e.collectionGroup}function Ld(e){var t=xf(e);if(null===t.le){t.le=[];var n,r=new Set,i=ne(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new Eh(Hf.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new od(e,o))})),r.has(Hf.keyField().canonicalString())||t.le.push(new od(Hf.keyField(),o))}return t.le}function Md(e){var t=xf(e);return t.he||(t.he=jd(t,Ld(e))),t.he}function jd(e,t){if("F"===e.limitType)return Td(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new od(e.field,t)}));var n=e.endAt?new rd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new rd(e.startAt.position,e.startAt.inclusive):null;return Td(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Ud(e,t){var n=e.filters.concat([t]);return new Ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Fd(e,t,n){return new Ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vd(e,t){return Cd(Md(e),Md(t))&&e.limitType===t.limitType}function zd(e){return"".concat(Id(Md(e)),"|lt:").concat(e.limitType)}function Bd(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return md(e)})).join(", "),"]")),hh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Hh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Hh(e)})).join(",")),"Target(".concat(t,")")}(Md(e)),"; limitType=").concat(e.limitType,")")}function qd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Kf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ne(Ld(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ne(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=id(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ld(e),t))&&!(e.endAt&&!function(e,t,n){var r=id(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ld(e),t))}(e,t)}function Hd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kd(e){return function(t,n){var r,i=!1,a=ne(Ld(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Wd(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Wd(e,t,n){var r=e.field.isKeyField()?Kf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bh(r,i):wf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wf()}}var Gd=function(){function e(t,n){re(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ae(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ne(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){kh(this.inner,(function(t,n){var r,i=ne(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return bh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Qd=new wh(Kf.comparator);function Xd(){return Qd}var Yd=new wh(Kf.comparator);function $d(){for(var e=Yd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Jd(e){var t=Yd;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Zd(){return tp()}function ep(){return tp()}function tp(){return new Gd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var np=new wh(Kf.comparator),rp=new Eh(Kf.comparator);function ip(){for(var e=rp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ap=new Eh(jf);function op(){return ap}function sp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function up(e){return{integerValue:""+e}}function cp(e,t){return ph(t)?up(t):sp(e,t)}var lp=ae((function e(){re(this,e),this._=void 0}));function fp(e,t,n){return e instanceof pp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Oh(t)&&(t=Dh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vp?mp(e,t):e instanceof gp?yp(e,t):function(e,t){var n=dp(e,t),r=bp(n)+bp(e.Ie);return Gh(n)&&Gh(e.Ie)?up(r):sp(e.serializer,r)}(e,t)}function hp(e,t,n){return e instanceof vp?mp(e,t):e instanceof gp?yp(e,t):n}function dp(e,t){return e instanceof kp?function(e){return Gh(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var pp=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n)}(lp),vp=function(e){$(n,e);var t=te(n);function n(e){var r;return re(this,n),(r=t.call(this)).elements=e,r}return ae(n)}(lp);function mp(e,t){var n,r=wp(t),i=ne(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gp=function(e){$(n,e);var t=te(n);function n(e){var r;return re(this,n),(r=t.call(this)).elements=e,r}return ae(n)}(lp);function yp(e,t){var n,r=wp(t),i=ne(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var kp=function(e){$(n,e);var t=te(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return ae(n)}(lp);function bp(e){return Rh(e.integerValue||e.doubleValue)}function wp(e){return Qh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var _p=ae((function e(t,n){re(this,e),this.version=t,this.transformResults=n})),xp=function(){function e(t,n){re(this,e),this.updateTime=t,this.exists=n}return ae(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ep(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Sp=ae((function e(){re(this,e)}));function Tp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Up(e.key,xp.none()):new Rp(e.key,e.data,xp.none());var n,r=e.data,i=ed.empty(),a=new Eh(Hf.comparator),o=ne(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Pp(e.key,i,new Th(a.toArray()),xp.none())}function Ip(e,t,n){e instanceof Rp?function(e,t,n){var r=e.value.clone(),i=Dp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pp?function(e,t,n){if(Ep(e.precondition,t)){var r=Dp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Op(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Cp(e,t,n,r){return e instanceof Rp?function(e,t,n,r){if(!Ep(e.precondition,t))return n;var i=e.value.clone(),a=Lp(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pp?function(e,t,n,r){if(!Ep(e.precondition,t))return n;var i=Lp(e.fieldTransforms,r,t),a=t.data;return a.setAll(Op(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Ep(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Np(e,t){var n,r=null,i=ne(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=dp(a.transform,o||null);null!=s&&(null===r&&(r=ed.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Ap(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Uf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vp&&t instanceof vp||e instanceof gp&&t instanceof gp?Uf(e.elements,t.elements,Vh):e instanceof kp&&t instanceof kp?Vh(e.Ie,t.Ie):e instanceof pp&&t instanceof pp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Rp=function(e){$(n,e);var t=te(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return re(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ae(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sp),Pp=function(e){$(n,e);var t=te(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return re(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return ae(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Sp);function Op(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Dp(e,t,n){var r=new Map;_f(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,hp(o,s,n[i]))}return r}function Lp(e,t,n){var r,i=new Map,a=ne(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,fp(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Mp,jp,Up=function(e){$(n,e);var t=te(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ae(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sp),Fp=function(e){$(n,e);var t=te(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ae(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sp),Vp=function(){function e(t,n,r,i){re(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ae(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ip(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ne(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Cp(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=ne(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Cp(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=ep();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Tp(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Vf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ip())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Uf(this.mutations,e.mutations,(function(e,t){return Ap(e,t)}))&&Uf(this.baseMutations,e.baseMutations,(function(e,t){return Ap(e,t)}))}}]),e}(),zp=function(){function e(t,n,r,i){re(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ae(e,null,[{key:"from",value:function(t,n,r){_f(t.mutations.length===r.length);for(var i=np,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Bp=function(){function e(t,n){re(this,e),this.largestBatchId=t,this.mutation=n}return ae(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),qp=ae((function e(t,n){re(this,e),this.count=t,this.unchangedNames=n}));function Hp(e){switch(e){default:return wf();case Ef.CANCELLED:case Ef.UNKNOWN:case Ef.DEADLINE_EXCEEDED:case Ef.RESOURCE_EXHAUSTED:case Ef.INTERNAL:case Ef.UNAVAILABLE:case Ef.UNAUTHENTICATED:return!1;case Ef.INVALID_ARGUMENT:case Ef.NOT_FOUND:case Ef.ALREADY_EXISTS:case Ef.PERMISSION_DENIED:case Ef.FAILED_PRECONDITION:case Ef.ABORTED:case Ef.OUT_OF_RANGE:case Ef.UNIMPLEMENTED:case Ef.DATA_LOSS:return!0}}function Kp(e){if(void 0===e)return yf("GRPC error has no .code"),Ef.UNKNOWN;switch(e){case Mp.OK:return Ef.OK;case Mp.CANCELLED:return Ef.CANCELLED;case Mp.UNKNOWN:return Ef.UNKNOWN;case Mp.DEADLINE_EXCEEDED:return Ef.DEADLINE_EXCEEDED;case Mp.RESOURCE_EXHAUSTED:return Ef.RESOURCE_EXHAUSTED;case Mp.INTERNAL:return Ef.INTERNAL;case Mp.UNAVAILABLE:return Ef.UNAVAILABLE;case Mp.UNAUTHENTICATED:return Ef.UNAUTHENTICATED;case Mp.INVALID_ARGUMENT:return Ef.INVALID_ARGUMENT;case Mp.NOT_FOUND:return Ef.NOT_FOUND;case Mp.ALREADY_EXISTS:return Ef.ALREADY_EXISTS;case Mp.PERMISSION_DENIED:return Ef.PERMISSION_DENIED;case Mp.FAILED_PRECONDITION:return Ef.FAILED_PRECONDITION;case Mp.ABORTED:return Ef.ABORTED;case Mp.OUT_OF_RANGE:return Ef.OUT_OF_RANGE;case Mp.UNIMPLEMENTED:return Ef.UNIMPLEMENTED;case Mp.DATA_LOSS:return Ef.DATA_LOSS;default:return wf()}}(jp=Mp||(Mp={}))[jp.OK=0]="OK",jp[jp.CANCELLED=1]="CANCELLED",jp[jp.UNKNOWN=2]="UNKNOWN",jp[jp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jp[jp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jp[jp.NOT_FOUND=5]="NOT_FOUND",jp[jp.ALREADY_EXISTS=6]="ALREADY_EXISTS",jp[jp.PERMISSION_DENIED=7]="PERMISSION_DENIED",jp[jp.UNAUTHENTICATED=16]="UNAUTHENTICATED",jp[jp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jp[jp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jp[jp.ABORTED=10]="ABORTED",jp[jp.OUT_OF_RANGE=11]="OUT_OF_RANGE",jp[jp.UNIMPLEMENTED=12]="UNIMPLEMENTED",jp[jp.INTERNAL=13]="INTERNAL",jp[jp.UNAVAILABLE=14]="UNAVAILABLE",jp[jp.DATA_LOSS=15]="DATA_LOSS";var Wp=null;function Gp(){return new TextEncoder}var Qp=new ff([4294967295,4294967295],0);function Xp(e){var t=Gp().encode(e),n=new lf;return n.update(t),new Uint8Array(n.digest())}function Yp(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ff([n,r],0),new ff([i,a],0)]}var $p=function(){function e(t,n,r){if(re(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jp("Invalid padding: ".concat(n));if(r<0)throw new Jp("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Jp("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Jp("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=ff.fromNumber(this.Te)}return ae(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(ff.fromNumber(n)));return 1===r.compare(Qp)&&(r=new ff([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=s(Yp(Xp(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=s(Yp(Xp(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Jp=function(e){$(n,e);var t=te(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return ae(n)}(ce(Error)),Zp=function(){function e(t,n,r,i,a){re(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ae(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,ev.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Vf.min(),i,new wh(jf),Xd(),ip())}}]),e}(),ev=function(){function e(t,n,r,i,a){re(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ae(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ip(),ip(),ip())}}]),e}(),tv=ae((function e(t,n,r,i){re(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),nv=ae((function e(t,n){re(this,e),this.targetId=t,this.fe=n})),rv=ae((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ch.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;re(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),iv=function(){function e(){re(this,e),this.ge=0,this.pe=sv(),this.ye=Ch.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return ae(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=ip(),t=ip(),n=ip();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wf()}})),new ev(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=sv()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1,_f(this.ge>=0)}},{key:"Le",value:function(){this.Se=!0,this.we=!0}}]),e}(),av=function(){function e(t){re(this,e),this.Be=t,this.ke=new Map,this.qe=Xd(),this.Qe=ov(),this.Ke=new wh(jf)}return ae(e,[{key:"$e",value:function(e){var t,n=ne(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(s){n.e(s)}finally{n.f()}var i,a=ne(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:wf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(Nd(i))if(0===n){var a=new Kf(i.path);this.We(t,a,nd.newNoDocument(a,Vf.min()))}else _f(1===n);else{var o=this.Ze(t);if(o!==n){var s=this.Xe(e),u=s?this.et(s,e,o):1;if(0!==u){this.He(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}null==Wp||Wp.tt(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.fe,this.Be.nt(),s,u))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=Ph(o).toUint8Array()}catch(e){if(e instanceof Ih)return kf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new $p(n,u,l)}catch(e){return kf(e instanceof Jp?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Be.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Be.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&Nd(a.target)){var o=new Kf(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,nd.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=ip();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new Zp(e,n,this.Ke,this.qe,r);return this.qe=Xd(),this.Qe=ov(),this.Ke=new wh(jf),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new iv,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new Eh(jf),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||gf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new iv),this.Be.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}]),e}();function ov(){return new wh(Kf.comparator)}function sv(){return new wh(Kf.comparator)}var uv={asc:"ASCENDING",desc:"DESCENDING"},cv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lv={and:"AND",or:"OR"},fv=ae((function e(t,n){re(this,e),this.databaseId=t,this.useProto3Json=n}));function hv(e,t){return e.useProto3Json||hh(t)?t:{value:t}}function dv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function pv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vv(e,t){return dv(e,t.toTimestamp())}function mv(e){return _f(!!e),Vf.fromTimestamp(function(e){var t=Ah(e);return new Ff(t.seconds,t.nanos)}(e))}function gv(e,t){return yv(e,t).canonicalString()}function yv(e,t){var n=function(e){return new Bf(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function kv(e){var t=Bf.fromString(e);return _f(Fv(t)),t}function bv(e,t){return gv(e.databaseId,t.path)}function wv(e,t){var n=kv(t);if(n.get(1)!==e.databaseId.projectId)throw new Sf(Ef.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Sf(Ef.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Kf(Sv(n))}function _v(e,t){return gv(e.databaseId,t)}function xv(e){var t=kv(e);return 4===t.length?Bf.emptyPath():Sv(t)}function Ev(e){return new Bf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sv(e){return _f(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tv(e,t,n){return{name:bv(e,t),fields:n.value.mapValue.fields}}function Iv(e,t){var n;if(t instanceof Rp)n={update:Tv(e,t.key,t.value)};else if(t instanceof Up)n={delete:bv(e,t.key)};else if(t instanceof Pp)n={update:Tv(e,t.key,t.data),updateMask:Uv(t.fieldMask)};else{if(!(t instanceof Fp))return wf();n={verify:bv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof pp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kp)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw wf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wf()}(e,t.precondition)),n}function Cv(e,t){return{documents:[_v(e,t.path)]}}function Nv(e,t){var n,r={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n=i,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=_v(e,n);var a=function(e){if(0!==e.length)return jv(ld.create(e,"and"))}(t.filters);a&&(r.structuredQuery.where=a);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Lv(e.field),direction:Pv(e.dir)}}(e)}))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);var s=hv(e,t.limit);return null!==s&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:r,parent:n}}function Av(e){var t=xv(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_f(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Rv(e);return t instanceof ld&&hd(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new od(Mv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return hh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new rd(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new rd(n,t)}(n.endAt)),Rd(t,i,s,o,u,"F",c,l)}function Rv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Mv(e.unaryFilter.field);return cd.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Mv(e.unaryFilter.field);return cd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Mv(e.unaryFilter.field);return cd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Mv(e.unaryFilter.field);return cd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wf()}}(e):void 0!==e.fieldFilter?function(e){return cd.create(Mv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ld.create(e.compositeFilter.filters.map((function(e){return Rv(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wf()}}(e.compositeFilter.op))}(e):wf()}function Pv(e){return uv[e]}function Ov(e){return cv[e]}function Dv(e){return lv[e]}function Lv(e){return{fieldPath:e.canonicalString()}}function Mv(e){return Hf.fromServerFormat(e.fieldPath)}function jv(e){return e instanceof cd?function(e){if("=="===e.op){if(Yh(e.value))return{unaryFilter:{field:Lv(e.field),op:"IS_NAN"}};if(Xh(e.value))return{unaryFilter:{field:Lv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yh(e.value))return{unaryFilter:{field:Lv(e.field),op:"IS_NOT_NAN"}};if(Xh(e.value))return{unaryFilter:{field:Lv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lv(e.field),op:Ov(e.op),value:e.value}}}(e):e instanceof ld?function(e){var t=e.getFilters().map((function(e){return jv(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Dv(e.op),filters:t}}}(e):wf()}function Uv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Fv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Vv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vf.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ch.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;re(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return ae(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),zv=ae((function e(t){re(this,e),this.ct=t}));function Bv(e){var t=Av({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fd(t,t.limit,"L"):t}var qv=function(){function e(){re(this,e)}return ae(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Rh(e.integerValue));else if("doubleValue"in e){var n=Rh(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),dh(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ph(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Zh(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):wf()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=ne(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Kf.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();qv.bt=new qv;var Hv=function(){function e(){re(this,e),this._n=new Kv}return ae(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),th.resolve()}},{key:"getCollectionParents",value:function(e,t){return th.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return th.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return th.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return th.resolve()}},{key:"createTargetIndexes",value:function(e,t){return th.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return th.resolve(null)}},{key:"getIndexType",value:function(e,t){return th.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return th.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return th.resolve(null)}},{key:"getMinOffset",value:function(e,t){return th.resolve(Xf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return th.resolve(Xf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return th.resolve()}},{key:"updateIndexEntries",value:function(e,t){return th.resolve()}}]),e}(),Kv=function(){function e(){re(this,e),this.index={}}return ae(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Eh(Bf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Eh(Bf.comparator)).toArray()}}]),e}();new Uint8Array(0);var Wv=function(){function e(t,n,r){re(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ae(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Wv.DEFAULT_COLLECTION_PERCENTILE=10,Wv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wv.DEFAULT=new Wv(41943040,Wv.DEFAULT_COLLECTION_PERCENTILE,Wv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wv.DISABLED=new Wv(-1,0,0);var Gv=function(){function e(t){re(this,e),this.On=t}return ae(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}();var Qv=function(){function e(){re(this,e),this.changes=new Gd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ae(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,nd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?th.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Xv=ae((function e(t,n){re(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Yv=function(){function e(t,n,r,i){re(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ae(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Cp(r.mutation,e,Th.empty(),Ff.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ip()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ip(),i=Zd();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=$d();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Zd();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ip())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Xd(),a=tp(),o=tp();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Pp)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Cp(o.mutation,t,o.mutation.getFieldMask(),Ff.now())):a.set(t.key,Th.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Xv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=tp(),i=new wh((function(e,t){return e-t})),a=ip();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ne(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Th.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||ip()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=ep();c.forEach((function(e){if(!a.has(e)){var n=Tp(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return th.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Kf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):th.resolve(Zd()),s=-1,u=a;return o.next((function(t){return th.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?th.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,ip())})).next((function(e){return{batchId:s,changes:Jd(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Kf(t)).next((function(e){var t=$d();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=$d();return this.indexManager.getCollectionParents(e,a).next((function(s){return th.forEach(s,(function(s){var u=function(e,t){return new Ad(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,nd.newInvalidDocument(r)))}));var n=$d();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&Cp(a.mutation,r,Th.empty(),Ff.now()),qd(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),$v=function(){function e(t){re(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return ae(e,[{key:"getBundleMetadata",value:function(e,t){return th.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:mv(e.createTime)}}(t)),th.resolve()}},{key:"getNamedQuery",value:function(e,t){return th.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Bv(e.bundledQuery),readTime:mv(e.readTime)}}(t)),th.resolve()}}]),e}(),Jv=function(){function e(){re(this,e),this.overlays=new wh(Kf.comparator),this.hr=new Map}return ae(e,[{key:"getOverlay",value:function(e,t){return th.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Zd();return th.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),th.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),th.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Zd(),i=t.length+1,a=new Kf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return th.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new wh((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Zd(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Zd(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return th.resolve(u)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Bp(t,n));var a=this.hr.get(t);void 0===a&&(a=ip(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),Zv=function(){function e(){re(this,e),this.Pr=new Eh(em.Ir),this.Tr=new Eh(em.Er)}return ae(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new em(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new em(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new Kf(new Bf([])),r=new em(n,e),i=new em(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new Kf(new Bf([])),n=new em(t,e),r=new em(t,e+1),i=ip();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new em(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),em=function(){function e(t,n){re(this,e),this.key=t,this.pr=n}return ae(e,null,[{key:"Ir",value:function(e,t){return Kf.comparator(e.key,t.key)||jf(e.pr,t.pr)}},{key:"Er",value:function(e,t){return jf(e.pr,t.pr)||Kf.comparator(e.key,t.key)}}]),e}(),tm=function(){function e(t,n){re(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Eh(em.Ir)}return ae(e,[{key:"checkEmpty",value:function(e){return th.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Vp(i,t,n,r);this.mutationQueue.push(a);var o,s=ne(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.wr=this.wr.add(new em(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return th.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return th.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return th.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return th.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return th.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new em(t,0),i=new em(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),th.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Eh(jf);return t.forEach((function(e){var t=new em(e,0),i=new em(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),th.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Kf.isDocumentKey(i)||(i=i.child(""));var a=new em(new Kf(i),0),o=new Eh(jf);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),th.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;_f(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return th.forEach(t.mutations,(function(i){var a=new em(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new em(t,0),r=this.wr.firstAfterOrEqual(n);return th.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,th.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),nm=function(){function e(t){re(this,e),this.vr=t,this.docs=new wh(Kf.comparator),this.size=0}return ae(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return th.resolve(n?n.document.mutableCopy():nd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Xd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():nd.newInvalidDocument(e))})),th.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Xd(),a=t.path,o=new Kf(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Yf(Qf(l),n)<=0||(r.has(l.key)||qd(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return th.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){wf()}},{key:"Fr",value:function(e,t){return th.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new rm(this)}},{key:"getSize",value:function(e){return th.resolve(this.size)}}]),e}(),rm=function(e){$(n,e);var t=te(n);function n(e){var r;return re(this,n),(r=t.call(this)).ar=e,r}return ae(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),th.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(Qv),im=function(){function e(t){re(this,e),this.persistence=t,this.Mr=new Gd((function(e){return Id(e)}),Cd),this.lastRemoteSnapshotVersion=Vf.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Zv,this.targetCount=0,this.Lr=Gv.Nn()}return ae(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),th.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return th.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return th.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),th.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),th.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new Gv(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,th.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),th.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,th.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),th.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return th.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return th.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),th.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),th.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),th.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return th.resolve(n)}},{key:"containsKey",value:function(e,t){return th.resolve(this.Nr.containsKey(t))}}]),e}(),am=function(){function e(t,n){var r=this;re(this,e),this.Br={},this.overlays={},this.kr=new fh(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new im(this),this.indexManager=new Hv,this.remoteDocumentCache=function(e){return new nm(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new zv(n),this.$r=new $v(this.serializer)}return ae(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Jv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new tm(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;gf("MemoryPersistence","Starting transaction:",e);var i=new om(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return th.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),om=function(e){$(n,e);var t=te(n);function n(e){var r;return re(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ae(n)}(Jf),sm=function(){function e(t){re(this,e),this.persistence=t,this.zr=new Zv,this.jr=null}return ae(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw wf()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),th.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),th.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),th.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return th.forEach(this.Jr,(function(r){var i=Kf.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,Vf.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return th.or([function(){return th.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}();var um=function(){function e(t,n,r,i){re(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return ae(e,null,[{key:"Ki",value:function(t,n){var r,i=ip(),a=ip(),o=ne(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),cm=function(){function e(){re(this,e),this._documentReadCount=0}return ae(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),lm=function(){function e(){re(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Ee()?8:rh.v(xe())>0?6:4}return ae(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new cm;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(mf()<=qe.DEBUG&&gf("QueryEngine","SDK will not create cache indexes for query:",Bd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),th.resolve()):(mf()<=qe.DEBUG&&gf("QueryEngine","Query:",Bd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(mf()<=qe.DEBUG&&gf("QueryEngine","The SDK decides to create cache indexes for query:",Bd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Md(t))):th.resolve())}},{key:"ji",value:function(e,t){var n=this;if(Od(t))return th.resolve(null);var r=Md(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Fd(t,null,"F"),r=Md(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ip.apply(void 0,oe(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,Fd(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return Od(t)||r.isEqual(Vf.min())?th.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?th.resolve(null):(mf()<=qe.DEBUG&&gf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bd(t)),i.es(e,o,t,Gf(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new Eh(Kd(e));return t.forEach((function(t,r){qd(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return mf()<=qe.DEBUG&&gf("QueryEngine","Using full collection scan to execute query:",Bd(t)),this.zi.getDocumentsMatchingQuery(e,t,Xf.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),fm=function(){function e(t,n,r,i){re(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new wh(jf),this.rs=new Gd((function(e){return Id(e)}),Cd),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return ae(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}]),e}();function hm(e,t,n,r){return new fm(e,t,n,r)}function dm(e,t){return pm.apply(this,arguments)}function pm(){return pm=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=ip(),u=ne(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ne(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ne(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=ne(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){var n=xf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=th.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);_f(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ip(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function mm(e){var t=xf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function gm(e,t){var n=xf(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Ch.EMPTY_BYTE_STRING,Vf.min()).withLastLimboFreeSnapshotVersion(Vf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Qr.updateTargetData(e,c))}}));var s=Xd(),u=ip();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ym(e,a,t.documentUpdates).next((function(e){s=e.cs,u=e.ls}))),!r.isEqual(Vf.min())){var c=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return th.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ns=i,e}))}function ym(e,t,n){var r=ip(),i=ip();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Xd();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Vf.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):gf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function km(e,t){var n=xf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function bm(e,t){var n=xf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,th.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new Vv(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function wm(e,t,n){return _m.apply(this,arguments)}function _m(){return _m=i(l().mark((function e(t,n,r){var i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xf(t),a=i.ns.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),oh(e.t1)){e.next=12;break}throw e.t1;case 12:gf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),_m.apply(this,arguments)}function xm(e,t,n){var r=xf(e),i=Vf.min(),a=ip();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=xf(e),i=r.rs.get(n);return void 0!==i?th.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Md(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:Vf.min(),n?a:ip())})).next((function(e){return Em(r,Hd(t),e),{documents:e,hs:a}}))}))}function Em(e,t,n){var r=e.ss.get(t)||Vf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}var Sm=function(){function e(){re(this,e),this.activeTargetIds=op()}return ae(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Tm=function(){function e(){re(this,e),this.no=new Sm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ae(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new Sm,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Im=function(){function e(){re(this,e)}return ae(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Cm=function(){function e(){var t=this;re(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return ae(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){gf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ne(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){gf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ne(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Nm=null;function Am(){return null===Nm?Nm=268435456+Math.round(2147483648*Math.random()):Nm++,"0x"+Nm.toString(16)}var Rm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Pm=function(){function e(t){re(this,e),this.lo=t.lo,this.ho=t.ho}return ae(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}]),e}(),Om="WebChannelConnection",Dm=function(e){$(n,e);var t=te(n);function n(e){var r;return re(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return ae(n,[{key:"Co",value:function(e,t,n,r){var i=Am();return new Promise((function(a,o){var s=new cf;s.setWithCredentials(!0),s.listenOnce(af.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case rf.NO_ERROR:var t=s.getResponseJson();gf(Om,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case rf.TIMEOUT:gf(Om,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Sf(Ef.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:var n=s.getStatus();if(gf(Om,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ef).indexOf(t)>=0?t:Ef.UNKNOWN}(u.status);o(new Sf(c,u.message))}else o(new Sf(Ef.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Sf(Ef.UNAVAILABLE,"Connection failed."));break;default:wf()}}finally{gf(Om,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);gf(Om,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=Am(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tf(),o=nf(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");gf(Om,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new Pm({lo:function(t){h?gf(Om,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(gf(Om,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),gf(Om,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ho:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,uf.EventType.OPEN,(function(){h||gf(Om,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,uf.EventType.CLOSE,(function(){h||(h=!0,gf(Om,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Vo())})),p(l,uf.EventType.ERROR,(function(t){h||(h=!0,kf(Om,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Vo(new Sf(Ef.UNAVAILABLE,"The operation could not be completed")))})),p(l,uf.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];_f(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){gf(Om,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Mp[e];if(void 0!==t)return Kp(t)}(s),c=o.message;void 0===u&&(u=Ef.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.Vo(new Sf(u,c)),l.close()}else gf(Om,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.mo(i)}})),p(o,of.STAT_EVENT,(function(t){t.stat===sf.PROXY?gf(Om,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===sf.NOPROXY&&gf(Om,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ro()}),0),d}}]),n}(function(){function e(t){re(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return ae(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=Am(),o=this.bo(e,t.toUriEncodedString());gf("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(s,r,i),this.Co(e,o,s,n).then((function(t){return gf("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw kf("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=Rm[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}},{key:"terminate",value:function(){}}]),e}());function Lm(){return"undefined"!=typeof document?document:null}function Mm(e){return new fv(e,!0)}var jm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;re(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}return ae(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&gf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}]),e}(),Um=function(){function e(t,n,r,i,a,o,s,u){re(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new jm(t,n)}return ae(e,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var e=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===Ef.RESOURCE_EXHAUSTED?(yf(n.toString()),yf("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Ef.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new Sf(Ef.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo(i(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return gf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(gf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Fm=function(e){$(n,e);var t=te(n);function n(e,r,i,a,o,s){var u;return re(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return ae(n,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(_f(void 0===t||"string"==typeof t),Ch.fromBase64String(t||"")):(_f(void 0===t||t instanceof Uint8Array),Ch.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Ef.UNKNOWN:Kp(e.code);return new Sf(t,e.message||"")}(o);n=new rv(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=wv(e,u.document.name),l=mv(u.document.updateTime),f=u.document.createTime?mv(u.document.createTime):Vf.min(),h=new ed({mapValue:{fields:u.document.fields}}),d=nd.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new tv(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=wv(e,m.document),y=m.readTime?mv(m.readTime):Vf.min(),k=nd.newNoDocument(g,y),b=m.removedTargetIds||[];n=new tv([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=wv(e,w.document),x=w.removedTargetIds||[];n=new tv([],x,_,null)}else{if(!("filter"in t))return wf();t.filter;var E=t.filter;E.targetId;var S=E.count,T=void 0===S?0:S,I=E.unchangedNames,C=new qp(T,I),N=E.targetId;n=new nv(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Vf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vf.min():t.readTime?mv(t.readTime):Vf.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=Ev(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Nd(r)?{documents:Cv(e,r)}:{query:Nv(e,r).ut}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=pv(e,t.resumeToken);var i=hv(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Vf.min())>0){n.readTime=dv(e,t.snapshotVersion.toTimestamp());var a=hv(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=Ev(this.serializer),t.removeTarget=e,this.t_(t)}}]),n}(Um),Vm=function(e){$(n,e);var t=te(n);function n(e,r,i,a,o,s){var u;return re(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.h_=!1,u}return ae(n,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,Q(W(n.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(_f(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(_f(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?mv(e.updateTime):mv(t);return n.isEqual(Vf.min())&&(n=mv(t)),new _p(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=mv(e.commitTime);return this.listener.T_(n,t)}return _f(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=Ev(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Iv(t.serializer,e)}))};this.t_(n)}}]),n}(Um),zm=function(e){$(n,e);var t=te(n);function n(e,r,i,a){var o;return re(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.A_=!1,o}return ae(n,[{key:"R_",value:function(){if(this.A_)throw new Sf(Ef.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],c=o[1];return i.connection.So(e,yv(t,n),r,u,c)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ef.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Sf(Ef.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r,i){var a=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=s(o,2),c=u[0],l=u[1];return a.connection.vo(e,yv(t,n),r,c,l,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ef.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new Sf(Ef.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0,this.connection.terminate()}}]),n}(ae((function e(){re(this,e)})));var Bm=function(){function e(t,n){re(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return ae(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(yf(t),this.g_=!1):gf("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}]),e}(),qm=ae((function e(t,n,r,a,o){var s=this;re(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io((function(e){r.enqueueAndForget(i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=eg(s),!e.t0){e.next=5;break}return gf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xf(t)).v_.add(4),e.next=4,Wm(n);case 4:return n.x_.set("Unknown"),n.v_.delete(4),e.next=8,Hm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new Bm(r,a)}));function Hm(e){return Km.apply(this,arguments)}function Km(){return(Km=i(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!eg(t)){e.next=18;break}n=ne(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Wm(e){return Gm.apply(this,arguments)}function Gm(){return(Gm=i(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ne(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Qm(e,t){var n=xf(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Zm(n)?Jm(n):Ng(n).Jo()&&Ym(n,t))}function Xm(e,t){var n=xf(e),r=Ng(n);n.C_.delete(t),r.Jo()&&$m(n,t),0===n.C_.size&&(r.Jo()?r.Xo():eg(n)&&n.x_.set("Unknown"))}function Ym(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vf.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ng(e).c_(t)}function $m(e,t){e.O_.Oe(t),Ng(e).l_(t)}function Jm(e){e.O_=new av({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.C_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),Ng(e).start(),e.x_.p_()}function Zm(e){return eg(e)&&!Ng(e).Ho()&&e.C_.size>0}function eg(e){return 0===xf(e).v_.size}function tg(e){e.O_=void 0}function ng(e){return rg.apply(this,arguments)}function rg(){return(rg=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){Ym(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ig(e,t){return ag.apply(this,arguments)}function ag(){return(ag=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tg(t),Zm(t)?(t.x_.S_(n),Jm(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function og(e,t,n){return sg.apply(this,arguments)}function sg(){return sg=i(l().mark((function e(t,n,r){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof rv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=i(l().mark((function e(t,n){var r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ne(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.C_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.C_.delete(o),t.O_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),gf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ug(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof tv?t.O_.$e(n):n instanceof nv?t.O_.Je(n):t.O_.Ge(n),r.isEqual(Vf.min())){e.next=29;break}return e.prev=14,e.next=17,mm(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(Ch.EMPTY_BYTE_STRING,r.snapshotVersion)),$m(e,t);var i=new Vv(r.target,t,n,r.sequenceNumber);Ym(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),gf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ug(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),sg.apply(this,arguments)}function ug(e,t,n){return cg.apply(this,arguments)}function cg(){return(cg=i(l().mark((function e(t,n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oh(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,Wm(t);case 5:t.x_.set("Offline"),r||(r=function(){return mm(t.localStore)}),t.asyncQueue.enqueueRetryable(i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_.delete(1),e.next=6,Hm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lg(e,t){return t().catch((function(n){return ug(e,n,t)}))}function fg(e){return hg.apply(this,arguments)}function hg(){return hg=i(l().mark((function e(t){var n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xf(t),r=Ag(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!dg(n)){e.next=19;break}return e.prev=3,e.next=6,km(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,pg(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ug(n,e.t0);case 17:e.next=2;break;case 19:vg(n)&&mg(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),hg.apply(this,arguments)}function dg(e){return eg(e)&&e.D_.length<10}function pg(e,t){e.D_.push(t);var n=Ag(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function vg(e){return eg(e)&&!Ag(e).Ho()&&e.D_.length>0}function mg(e){Ag(e).start()}function gg(e){return yg.apply(this,arguments)}function yg(){return(yg=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ag(t).d_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kg(e){return bg.apply(this,arguments)}function bg(){return(bg=i(l().mark((function e(t){var n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ag(t),r=ne(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wg(e,t,n){return _g.apply(this,arguments)}function _g(){return _g=i(l().mark((function e(t,n,r){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=zp.from(i,n,r),e.next=3,lg(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,fg(t);case 5:case"end":return e.stop()}}),e)}))),_g.apply(this,arguments)}function xg(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=i(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ag(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Hp(e)&&e!==Ef.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),Ag(t).Zo(),e.next=5,lg(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,fg(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:vg(t)&&mg(t);case 5:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function Sg(e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=i(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=xf(t)).asyncQueue.verifyOperationInProgress(),gf("RemoteStore","RemoteStore received new credentials"),i=eg(r),r.v_.add(3),e.next=6,Wm(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_.delete(3),e.next=12,Hm(r);case 12:case"end":return e.stop()}}),e)}))),Tg.apply(this,arguments)}function Ig(e,t){return Cg.apply(this,arguments)}function Cg(){return(Cg=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xf(t),!n){e.next=7;break}return r.v_.delete(2),e.next=5,Hm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,Wm(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ng(e){return e.N_||(e.N_=function(e,t,n){var r=xf(e);return r.R_(),new Fm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:ng.bind(null,e),To:ig.bind(null,e),u_:og.bind(null,e)}),e.F_.push(function(){var t=i(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),Zm(e)?Jm(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:tg(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function Ag(e){return e.L_||(e.L_=function(e,t,n){var r=xf(e);return r.R_(),new Vm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:gg.bind(null,e),To:xg.bind(null,e),E_:kg.bind(null,e),T_:wg.bind(null,e)}),e.F_.push(function(){var t=i(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Zo(),t.next=4,fg(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.D_.length>0&&(gf("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.L_}var Rg=function(){function e(t,n,r,i,a){re(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Tf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ae(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sf(Ef.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Pg(e,t){if(yf("AsyncQueue","".concat(t,": ").concat(e)),oh(e))return new Sf(Ef.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Og,Dg,Lg=function(){function e(t){re(this,e),this.comparator=t?function(e,n){return t(e,n)||Kf.comparator(e.key,n.key)}:function(e,t){return Kf.comparator(e.key,t.key)},this.keyedMap=$d(),this.sortedSet=new wh(this.comparator)}return ae(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Mg=function(){function e(){re(this,e),this.B_=new wh(Kf.comparator)}return ae(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):wf():this.B_=this.B_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),jg=function(){function e(t,n,r,i,a,o,s,u,c){re(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return ae(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Lg.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Ug=function(){function e(){re(this,e),this.q_=void 0,this.Q_=[]}return ae(e,[{key:"K_",value:function(){return this.Q_.some((function(e){return e.U_()}))}}]),e}(),Fg=ae((function e(){re(this,e),this.queries=new Gd((function(e){return zd(e)}),Vd),this.onlineState="Unknown",this.W_=new Set}));function Vg(e,t){return zg.apply(this,arguments)}function zg(){return zg=i(l().mark((function e(t,n){var r,i,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=xf(t),i=3,a=n.query,(o=r.queries.get(a))?!o.K_()&&n.U_()&&(i=2):(o=new Ug,i=n.U_()?0:1),e.prev=5,e.t0=i,e.next=0===e.t0?9:1===e.t0?13:2===e.t0?17:19;break;case 9:return e.next=11,r.onListen(a,!0);case 11:return o.q_=e.sent,e.abrupt("break",19);case 13:return e.next=15,r.onListen(a,!1);case 15:return o.q_=e.sent,e.abrupt("break",19);case 17:return e.next=19,r.onFirstRemoteStoreListen(a);case 19:e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(5),s=Pg(e.t1,"Initialization of query '".concat(Bd(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 25:r.queries.set(a,o),o.Q_.push(n),n.G_(r.onlineState),o.q_&&n.z_(o.q_)&&Wg(r);case 26:case"end":return e.stop()}}),e,null,[[5,21]])}))),zg.apply(this,arguments)}function Bg(e,t){return qg.apply(this,arguments)}function qg(){return qg=i(l().mark((function e(t,n){var r,i,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=xf(t),i=n.query,a=3,(o=r.queries.get(i))&&(s=o.Q_.indexOf(n))>=0&&(o.Q_.splice(s,1),0===o.Q_.length?a=n.U_()?0:1:!o.K_()&&n.U_()&&(a=2)),e.t0=a,e.next=0===e.t0?7:1===e.t0?8:2===e.t0?9:10;break;case 7:return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i,!0)));case 8:return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i,!1)));case 9:return e.abrupt("return",r.onLastRemoteStoreUnlisten(i));case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)}))),qg.apply(this,arguments)}function Hg(e,t){var n,r=xf(e),i=!1,a=ne(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ne(u.Q_);try{for(l.s();!(c=l.n()).done;){c.value.z_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&Wg(r)}function Kg(e,t,n){var r=xf(e),i=r.queries.get(t);if(i){var a,o=ne(i.Q_);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Wg(e){e.W_.forEach((function(e){e.next()}))}(Dg=Og||(Og={})).j_="default",Dg.Cache="cache";var Gg=function(){function e(t,n,r){re(this,e),this.query=t,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}return ae(e,[{key:"z_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ne(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new jg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),a=!0):this.X_(e,this.onlineState)&&(this.ea(e),a=!0),this.Y_=e,a}},{key:"onError",value:function(e){this.H_.error(e)}},{key:"G_",value:function(e){this.onlineState=e;var t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}},{key:"X_",value:function(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;var n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ea",value:function(e){e=jg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}},{key:"U_",value:function(){return this.options.source!==Og.Cache}}]),e}();var Qg=ae((function e(t){re(this,e),this.key=t})),Xg=ae((function e(t){re(this,e),this.key=t})),Yg=function(){function e(t,n){re(this,e),this.query=t,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ip(),this.mutatedKeys=ip(),this.ha=Kd(t),this.Pa=new Lg(this.ha)}return ae(e,[{key:"Ia",get:function(){return this.ua}},{key:"Ta",value:function(e,t){var n=this,r=t?t.Ea:new Mg,i=t?t.Pa:this.Pa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=qd(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.da(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ha(f,u)>0||c&&n.ha(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Pa:o,Ea:r,Xi:s,mutatedKeys:a}}},{key:"da",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;var o=e.Ea.k_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wf()}};return n(e)-n(t)}(e.type,t.type)||i.ha(e.doc,t.doc)})),this.Aa(n),r=null!=r&&r;var s=t&&!r?this.Ra():[],u=0===this.la.size&&this.current&&!r?1:0,c=u!==this.ca;return this.ca=u,0!==o.length||c?{snapshot:new jg(this.query,e.Pa,a,o,e.mutatedKeys,0===u,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:s}:{Va:s}}},{key:"G_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Mg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}},{key:"ma",value:function(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}},{key:"Aa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ua=t.ua.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ua=t.ua.delete(e)})),this.current=e.current)}},{key:"Ra",value:function(){var e=this;if(!this.current)return[];var t=this.la;this.la=ip(),this.Pa.forEach((function(t){e.ma(t.key)&&(e.la=e.la.add(t.key))}));var n=[];return t.forEach((function(t){e.la.has(t)||n.push(new Xg(t))})),this.la.forEach((function(e){t.has(e)||n.push(new Qg(e))})),n}},{key:"fa",value:function(e){this.ua=e.hs,this.la=ip();var t=this.Ta(e.documents);return this.applyChanges(t,!0)}},{key:"ga",value:function(){return jg.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}]),e}(),$g=ae((function e(t,n,r){re(this,e),this.query=t,this.targetId=n,this.view=r})),Jg=ae((function e(t){re(this,e),this.key=t,this.pa=!1})),Zg=function(){function e(t,n,r,i,a,o){re(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Gd((function(e){return zd(e)}),Vd),this.Sa=new Map,this.ba=new Set,this.Da=new wh(Kf.comparator),this.Ca=new Map,this.va=new Zv,this.Fa={},this.Ma=new Map,this.xa=Gv.Ln(),this.onlineState="Unknown",this.Oa=void 0}return ae(e,[{key:"isPrimaryClient",get:function(){return!0===this.Oa}}]),e}();function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=i(l().mark((function e(t,n){var r,i,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(s.length>2&&void 0!==s[2])||s[2],i=Ly(t),!(o=i.wa.get(n))){e.next=7;break}i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.ga(),e.next=10;break;case 7:return e.next=9,iy(i,n,r,!0);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t){return ry.apply(this,arguments)}function ry(){return(ry=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ly(t),e.next=3,iy(r,n,!0,!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iy(e,t,n,r){return ay.apply(this,arguments)}function ay(){return ay=i(l().mark((function e(t,n,r,i){var a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bm(t.localStore,Md(n));case 2:if(a=e.sent,o=a.targetId,s=r?t.sharedClientState.addLocalQueryTarget(o):"not-current",e.t0=i,!e.t0){e.next=10;break}return e.next=9,oy(t,n,o,"current"===s,a.resumeToken);case 9:u=e.sent;case 10:return t.isPrimaryClient&&r&&Qm(t.remoteStore,a),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}function oy(e,t,n,r,i){return sy.apply(this,arguments)}function sy(){return sy=i(l().mark((function e(t,n,r,a,o){var s,u,c,f,h,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Na=function(e,n,r){return function(){var e=i(l().mark((function e(t,n,r,i){var a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ta(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,xm(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ta(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=i&&null!=i.targetMismatches.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o,s),e.abrupt("return",(Iy(t,n.targetId,u.Va),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,xm(t.localStore,n,!0);case 3:return s=e.sent,u=new Yg(n,s.hs),c=u.Ta(s.documents),f=ev.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==t.onlineState,o),h=u.applyChanges(c,t.isPrimaryClient,f),Iy(t,r,h.Va),d=new $g(n,r,u),e.abrupt("return",(t.wa.set(n,d),t.Sa.has(r)?t.Sa.get(r).push(n):t.Sa.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),sy.apply(this,arguments)}function uy(e,t,n){return cy.apply(this,arguments)}function cy(){return cy=i(l().mark((function e(t,n,r){var i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xf(t),a=i.wa.get(n),!((o=i.Sa.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(i.Sa.set(a.targetId,o.filter((function(e){return!Vd(e,n)}))),void i.wa.delete(n)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,wm(i.localStore,a.targetId,!1).then((function(){i.sharedClientState.clearQueryState(a.targetId),r&&Xm(i.remoteStore,a.targetId),Sy(i,a.targetId)})).catch(Zf);case 9:e.next=14;break;case 11:return Sy(i,a.targetId),e.next=14,wm(i.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function ly(e,t){return fy.apply(this,arguments)}function fy(){return fy=i(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=xf(t),i=r.wa.get(n),a=r.Sa.get(i.targetId),r.isPrimaryClient&&1===a.length&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),Xm(r.remoteStore,i.targetId));case 2:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t,n){return dy.apply(this,arguments)}function dy(){return dy=i(l().mark((function e(t,n,r){var i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=My(t),e.prev=1,e.next=4,function(e,t){var n,r,i=xf(e),a=Ff.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ip());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Xd(),u=ip();return i.os.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=ne(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Np(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Pp(c.key,l,td(l.value.mapValue),xp.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Jd(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Fa[e.currentUser.toKey()];r||(r=new wh(jf)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ay(i,a.changes);case 9:return e.next=11,fg(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Pg(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),dy.apply(this,arguments)}function py(e,t){return vy.apply(this,arguments)}function vy(){return vy=i(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),e.prev=1,e.next=4,gm(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Ca.get(t);n&&(_f(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.pa=!0:e.modifiedDocuments.size>0?_f(n.pa):e.removedDocuments.size>0&&(_f(n.pa),n.pa=!1))})),e.next=8,Ay(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Zf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),vy.apply(this,arguments)}function my(e,t,n){var r=xf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wa.forEach((function(e,n){var r=n.view.G_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=xf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ne(n.Q_);try{for(a.s();!(i=a.n()).done;){i.value.G_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Wg(n)}(r.eventManager,t),i.length&&r.ya.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function gy(e,t,n){return yy.apply(this,arguments)}function yy(){return yy=i(l().mark((function e(t,n,r){var i,a,o,s,u,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=xf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Ca.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new wh(Kf.comparator)).insert(o,nd.newNoDocument(o,Vf.min())),u=ip().add(o),c=new Zp(Vf.min(),new Map,new wh(jf),s,u),e.next=9,py(i,c);case 9:i.Da=i.Da.remove(o),i.Ca.delete(n),Ny(i),e.next=16;break;case 14:return e.next=16,wm(i.localStore,n,!1).then((function(){return Sy(i,n,r)})).catch(Zf);case 16:case"end":return e.stop()}}),e)}))),yy.apply(this,arguments)}function ky(e,t){return by.apply(this,arguments)}function by(){return by=i(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),i=n.batch.batchId,e.prev=1,e.next=4,vm(r.localStore,n);case 4:return a=e.sent,Ey(r,i,null),xy(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ay(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),by.apply(this,arguments)}function wy(e,t,n){return _y.apply(this,arguments)}function _y(){return _y=i(l().mark((function e(t,n,r){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xf(t),e.prev=1,e.next=4,function(e,t){var n=xf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return _f(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Ey(i,n,r),xy(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ay(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),_y.apply(this,arguments)}function xy(e,t){(e.Ma.get(t)||[]).forEach((function(e){e.resolve()})),e.Ma.delete(t)}function Ey(e,t,n){var r=xf(e),i=r.Fa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function Sy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ne(e.Sa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wa.delete(a),n&&e.ya.La(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((function(t){e.va.containsKey(t)||Ty(e,t)}))}function Ty(e,t){e.ba.delete(t.path.canonicalString());var n=e.Da.get(t);null!==n&&(Xm(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),Ny(e))}function Iy(e,t,n){var r,i=ne(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Qg?(e.va.addReference(a.key,t),Cy(e,a)):a instanceof Xg?(gf("SyncEngine","Document no longer in limbo: "+a.key),e.va.removeReference(a.key,t),e.va.containsKey(a.key)||Ty(e,a.key)):wf()}}catch(o){i.e(o)}finally{i.f()}}function Cy(e,t){var n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(gf("SyncEngine","New document in limbo: "+n),e.ba.add(r),Ny(e))}function Ny(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){var t=e.ba.values().next().value;e.ba.delete(t);var n=new Kf(Bf.fromString(t)),r=e.xa.next();e.Ca.set(r,new Jg(n)),e.Da=e.Da.insert(n,r),Qm(e.remoteStore,new Vv(Md(Pd(n.path)),r,"TargetPurposeLimboResolution",fh._e))}}function Ay(e,t,n){return Ry.apply(this,arguments)}function Ry(){return Ry=i(l().mark((function e(t,n,r){var a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=xf(t),o=[],s=[],u=[],e.t0=a.wa.isEmpty(),e.t0){e.next=9;break}return a.wa.forEach((function(e,t){u.push(a.Na(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=um.Ki(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(u);case 6:return a.ya.u_(o),e.next=9,function(){var e=i(l().mark((function e(t,n){var r,i,a,o,s,u,c,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return th.forEach(n,(function(t){return th.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return th.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),oh(e.t0)){e.next=10;break}throw e.t0;case 10:gf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ne(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ns.get(s),c=u.snapshotVersion,f=u.withLastLimboFreeSnapshotVersion(c),r.ns=r.ns.insert(s,f))}catch(l){i.e(l)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,s);case 9:case"end":return e.stop()}}),e)}))),Ry.apply(this,arguments)}function Py(e,t){return Oy.apply(this,arguments)}function Oy(){return(Oy=i(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=xf(t)).currentUser.isEqual(n)){e.next=11;break}return gf("SyncEngine","User change. New user:",n.toKey()),e.next=5,dm(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ma.forEach((function(e){e.forEach((function(e){e.reject(new Sf(Ef.CANCELLED,t))}))})),e.Ma.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ay(r,i.us);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dy(e,t){var n=xf(e),r=n.Ca.get(t);if(r&&r.pa)return ip().add(r.key);var i=ip(),a=n.Sa.get(t);if(!a)return i;var o,s=ne(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wa.get(u);i=i.unionWith(c.view.Ia)}}catch(l){s.e(l)}finally{s.f()}return i}function Ly(e){var t=xf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=py.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gy.bind(null,t),t.ya.u_=Hg.bind(null,t.eventManager),t.ya.La=Kg.bind(null,t.eventManager),t}function My(e){var t=xf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ky.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wy.bind(null,t),t}var jy=function(){function e(){re(this,e),this.synchronizeTabs=!1}return ae(e,[{key:"initialize",value:function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Mm(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return hm(this.persistence,new lm,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new am(sm.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Tm}},{key:"terminate",value:function(){var e=i(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(n=this.indexBackfillerScheduler)||void 0===n||n.stop(),this.sharedClientState.shutdown(),e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Uy=function(){function e(){re(this,e)}return ae(e,[{key:"initialize",value:function(){var e=i(l().mark((function e(t,n){var r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return my(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Py.bind(null,this.syncEngine),e.next=12,Ig(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Fg}},{key:"createDatastore",value:function(e){var t=Mm(e.databaseInfo.databaseId),n=function(e){return new Dm(e)}(e.databaseInfo);return function(e,t,n,r){return new zm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new qm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return my(t.syncEngine,e,0)}),Cm.D()?new Cm:new Im)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Zg(e,t,n,r,i,a);return o&&(s.Oa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e=i(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xf(t),gf("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,Wm(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore);case 2:null===(t=this.datastore)||void 0===t||t.terminate();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();var Fy=function(){function e(t){re(this,e),this.observer=t,this.muted=!1}return ae(e,[{key:"next",value:function(e){this.observer.next&&this.qa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.qa(this.observer.error,e):yf("Uncaught Error in snapshot listener:",e.toString())}},{key:"Qa",value:function(){this.muted=!0}},{key:"qa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Vy=function(){function e(t,n,r,a){var o=this;re(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=df.UNAUTHENTICATED,this.clientId=Mf.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gf("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return gf("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return ae(e,[{key:"configuration",get:function(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Sf(Ef.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Tf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(i(l().mark((function n(){var r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Pg(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function zy(e,t){return By.apply(this,arguments)}function By(){return By=i(l().mark((function e(t,n){var r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),gf("FirestoreClient","Initializing OfflineComponentProvider"),r=t.configuration,e.next=4,n.initialize(r);case 4:a=r.initialUser,t.setCredentialChangeListener(function(){var e=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,dm(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 6:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}function qy(e,t){return Hy.apply(this,arguments)}function Hy(){return(Hy=i(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Wy(t);case 3:return r=e.sent,gf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.initialize(r,t.configuration);case 7:t.setCredentialChangeListener((function(e){return Sg(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Sg(n.remoteStore,t)})),t._onlineComponents=n;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ky(e){return"FirebaseError"===e.name?e.code===Ef.FAILED_PRECONDITION||e.code===Ef.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Wy(e){return Gy.apply(this,arguments)}function Gy(){return(Gy=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return gf("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,zy(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Ky(n=e.t0)){e.next=13;break}throw n;case 13:return kf("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,zy(t,new jy);case 16:e.next=21;break;case 18:return gf("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,zy(t,new jy);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Qy(e){return Xy.apply(this,arguments)}function Xy(){return(Xy=i(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return gf("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,qy(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return gf("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,qy(t,new Uy);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yy(e){return Qy(e).then((function(e){return e.syncEngine}))}function $y(e){return Jy.apply(this,arguments)}function Jy(){return(Jy=i(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ey.bind(null,n.syncEngine),r.onUnlisten=uy.bind(null,n.syncEngine),r.onFirstRemoteStoreListen=ny.bind(null,n.syncEngine),r.onLastRemoteStoreUnlisten=ly.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Tf;return e.asyncQueue.enqueueAndForget(i(l().mark((function i(){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Fy({next:function(a){t.enqueueAndForget((function(){return Bg(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Sf(Ef.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Sf(Ef.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Gg(Pd(n.path),a,{includeMetadataChanges:!0,ta:!0});return Vg(e,o)},i.next=3,$y(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ek(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Tf;return e.asyncQueue.enqueueAndForget(i(l().mark((function i(){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Fy({next:function(n){t.enqueueAndForget((function(){return Bg(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Sf(Ef.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Gg(n,a,{includeMetadataChanges:!0,ta:!0});return Vg(e,o)},i.next=3,$y(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function tk(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var nk=new Map;function rk(e,t,n){if(!n)throw new Sf(Ef.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ik(e){if(!Kf.isDocumentKey(e))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ak(e){if(Kf.isDocumentKey(e))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ok(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":wf()}function sk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sf(Ef.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ok(e);throw new Sf(Ef.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var uk=function(){function e(t){var n,r;if(re(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Sf(Ef.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sf(Ef.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Sf(Ef.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tk(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Sf(Ef.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Sf(Ef.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Sf(Ef.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return ae(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),ck=function(){function e(t,n,r,i){re(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uk({}),this._settingsFrozen=!1}return ae(e,[{key:"app",get:function(){if(!this._app)throw new Sf(Ef.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Sf(Ef.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cf;switch(e.type){case"firstParty":return new Pf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Sf(Ef.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=nk.get(e);t&&(gf("ComponentProvider","Removing Datastore"),nk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function lk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=sk(e,ck))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&kf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=df.MOCK_USER;else{s=_e(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Sf(Ef.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new df(c)}e._authCredentials=new Nf(new If(s,u))}}var fk=function(){function e(t,n,r){re(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ae(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),hk=function(){function e(t,n,r){re(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ae(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new dk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),dk=function(e){$(n,e);var t=te(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,e,r,Pd(i)))._path=i,a.type="collection",a}return ae(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new hk(this.firestore,null,new Kf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(fk);function pk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),rk("collection","path",t),e instanceof ck){var a=Bf.fromString.apply(Bf,[t].concat(r));return ak(a),new dk(e,null,a)}if(!(e instanceof hk||e instanceof dk))throw new Sf(Ef.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Bf.fromString.apply(Bf,[t].concat(r)));return ak(o),new dk(e.firestore,null,o)}function vk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),1===arguments.length&&(t=Mf.newId()),rk("doc","path",t),e instanceof ck){var a=Bf.fromString.apply(Bf,[t].concat(r));return ik(a),new hk(e,null,new Kf(a))}if(!(e instanceof hk||e instanceof dk))throw new Sf(Ef.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Bf.fromString.apply(Bf,[t].concat(r)));return ik(o),new hk(e.firestore,e instanceof dk?e.converter:null,new Kf(o))}var mk=function(){function e(){var t=this;re(this,e),this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new jm(this,"async_queue_retry"),this.cu=function(){var e=Lm();e&&gf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=Lm();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.cu)}return ae(e,[{key:"isShuttingDown",get:function(){return this.iu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.lu(),this.hu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.iu){this.iu=!0,this.au=e||!1;var t=Lm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}},{key:"enqueue",value:function(e){var t=this;if(this.lu(),this.iu)return new Promise((function(){}));var n=new Tf;return this.hu((function(){return t.iu&&t.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ru.push(e),t.Pu()}))}},{key:"Pu",value:function(){var e=i(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ru.length){e.next=14;break}return e.prev=1,e.next=4,this.ru[0]();case 4:this.ru.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),oh(e.t0)){e.next=12;break}throw e.t0;case 12:gf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ru.length>0&&this.jo.qo((function(){return t.Pu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t=this,n=this.nu.then((function(){return t._u=!0,e().catch((function(e){t.ou=e,t._u=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw yf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t._u=!1,e}))}));return this.nu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.lu(),this.uu.indexOf(e)>-1&&(t=0);var i=Rg.createAndSchedule(this,e,t,n,(function(e){return r.Iu(e)}));return this.su.push(i),i}},{key:"lu",value:function(){this.ou&&wf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Tu",value:function(){var e=i(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.nu,e.next=3,t;case 3:if(t!==this.nu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Eu",value:function(e){var t,n=ne(this.su);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"du",value:function(e){var t=this;return this.Tu().then((function(){t.su.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ne(t.su);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Tu()}))}},{key:"Au",value:function(e){this.uu.push(e)}},{key:"Iu",value:function(e){var t=this.su.indexOf(e);this.su.splice(t,1)}}]),e}();var gk=function(e){$(n,e);var t=te(n);function n(e,r,i,a){var o;return re(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new mk,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return ae(n,[{key:"_terminate",value:function(){return this._firestoreClient||kk(this),this._firestoreClient.terminate()}}]),n}(ck);function yk(e){return e._firestoreClient||kk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function kk(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Mh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,tk(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Vy(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var bk=function(){function e(t){re(this,e),this._byteString=t}return ae(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ch.fromBase64String(t))}catch(t){throw new Sf(Ef.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ch.fromUint8Array(t))}}]),e}(),wk=function(){function e(){re(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hf(n)}return ae(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var _k=ae((function e(t){re(this,e),this._methodName=t})),xk=function(){function e(t,n){if(re(this,e),!isFinite(t)||t<-90||t>90)throw new Sf(Ef.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Sf(Ef.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ae(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return jf(this._lat,e._lat)||jf(this._long,e._long)}}]),e}(),Ek=/^__.*__$/,Sk=function(){function e(t,n,r){re(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ae(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Pp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rp(e,this.data,t,this.fieldTransforms)}}]),e}(),Tk=function(){function e(t,n,r){re(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ae(e,[{key:"toMutation",value:function(e,t){return new Pp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Ik(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wf()}}var Ck=function(){function e(t,n,r,i,a,o){re(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ru(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ae(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"mu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"fu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}},{key:"yu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}},{key:"wu",value:function(e){return this.mu({path:void 0,gu:!0})}},{key:"Su",value:function(e){return qk(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ru",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.pu(this.path.get(e))}},{key:"pu",value:function(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(Ik(this.Vu)&&Ek.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}]),e}(),Nk=function(){function e(t,n,r){re(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Mm(t)}return ae(e,[{key:"Cu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ck({Vu:e,methodName:t,Du:n,path:Hf.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Ak(e){var t=e._freezeSettings(),n=Mm(e._databaseId);return new Nk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Cu(a.merge||a.mergeFields?2:0,t,n,i);Fk("Data must be an object, but it was:",o,r);var s,u,c=jk(r,o);if(a.merge)s=new Th(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ne(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Vk(t,d,n);if(!o.contains(p))throw new Sf(Ef.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Hk(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Th(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Sk(new ed(c),s,u)}var Pk=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(_k);function Ok(e,t,n,r){var i=e.Cu(1,t,n);Fk("Data must be an object, but it was:",i,r);var a=[],o=ed.empty();kh(r,(function(e,r){var s=Bk(t,e,n);r=Ue(r);var u=i.yu(s);if(r instanceof Pk)a.push(s);else{var c=Mk(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Th(a);return new Tk(o,s,i.fieldTransforms)}function Dk(e,t,n,r,i,a){var o=e.Cu(1,t,n),s=[Vk(t,r,n)],u=[i];if(a.length%2!=0)throw new Sf(Ef.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Vk(t,a[c])),u.push(a[c+1]);for(var l=[],f=ed.empty(),h=s.length-1;h>=0;--h)if(!Hk(l,s[h])){var d=s[h],p=u[h];p=Ue(p);var v=o.yu(d);if(p instanceof Pk)l.push(d);else{var m=Mk(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Th(l);return new Tk(f,g,o.fieldTransforms)}function Lk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Mk(n,e.Cu(r?4:3,t))}function Mk(e,t){if(Uk(e=Ue(e)))return Fk("Unsupported field value:",t,e),jk(e,t);if(e instanceof _k)return function(e,t){if(!Ik(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ne(e);try{for(a.s();!(n=a.n()).done;){var o=Mk(n.value,t.wu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ue(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ff.fromDate(e);return{timestampValue:dv(t.serializer,n)}}if(e instanceof Ff){var r=new Ff(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dv(t.serializer,r)}}if(e instanceof xk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bk)return{bytesValue:pv(t.serializer,e._byteString)};if(e instanceof hk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Su("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:gv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(ok(e)))}(e,t)}function jk(e,t){var n={};return bh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kh(e,(function(e,r){var i=Mk(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Uk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ff||e instanceof xk||e instanceof bk||e instanceof hk||e instanceof _k)}function Fk(e,t,n){if(!Uk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ok(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function Vk(e,t,n){if((t=Ue(t))instanceof wk)return t._internalPath;if("string"==typeof t)return Bk(e,t);throw qk("Field path arguments must be of type string or ",e,!1,void 0,n)}var zk=new RegExp("[~\\*/\\[\\]]");function Bk(e,t,n){if(t.search(zk)>=0)throw qk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ue(wk,oe(t.split(".")))._internalPath}catch(rs){throw qk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function qk(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Sf(Ef.INVALID_ARGUMENT,s+e+u)}function Hk(e,t){return e.some((function(e){return e.isEqual(t)}))}var Kk=function(){function e(t,n,r,i,a){re(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ae(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new hk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Wk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Gk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Wk=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"data",value:function(){return Q(W(n.prototype),"data",this).call(this)}}]),n}(Kk);function Gk(e,t){return"string"==typeof t?Bk(e,t):t instanceof wk?t._internalPath:t._delegate._internalPath}function Qk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Sf(Ef.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xk=ae((function e(){re(this,e)})),Yk=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n)}(Xk);function $k(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Xk&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof eb})).length,n=e.filter((function(e){return e instanceof Jk})).length;if(t>1||t>0&&n>0)throw new Sf(Ef.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=ne(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var Jk=function(e){$(n,e);var t=te(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return ae(n,[{key:"_apply",value:function(e){var t=this._parse(e);return rb(e._query,t),new fk(e.firestore,e.converter,Ud(e._query,t))}},{key:"_parse",value:function(e){var t=Ak(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){nb(o,a);var u,c=[],l=ne(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(tb(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=tb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||nb(o,a),s=Lk(n,t,o,"in"===a||"not-in"===a);return cd.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Yk);function Zk(e,t,n){var r=t,i=Gk("where",e);return Jk._create(i,r,n)}var eb=function(e){$(n,e);var t=te(n);function n(e,r){var i;return re(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return ae(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:ld.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=ne(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;rb(r,a),r=Ud(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new fk(e.firestore,e.converter,Ud(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Xk);function tb(e,t,n){if("string"==typeof(n=Ue(n))){if(""===n)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dd(t)&&-1!==n.indexOf("/"))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Bf.fromString(n));if(!Kf.isDocumentKey(r))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Wh(e,new Kf(r))}if(n instanceof hk)return Wh(e,n._key);throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ok(n),"."))}function nb(e,t){if(!Array.isArray(e)||0===e.length)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function rb(e,t){var n=function(e,t){var n,r=ne(e);try{for(r.s();!(n=r.n()).done;){var i,a=ne(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Sf(Ef.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Sf(Ef.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var ib=function(){function e(){re(this,e)}return ae(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ph(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wf()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return kh(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new xk(Rh(e.latitude),Rh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Dh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lh(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ah(e);return new Ff(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Bf.fromString(e);_f(Fv(n));var r=new jh(n.get(1),n.get(3)),i=new Kf(n.popFirst(5));return r.isEqual(t)||yf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ab(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ob=function(){function e(t,n){re(this,e),this.hasPendingWrites=t,this.fromCache=n}return ae(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),sb=function(e){$(n,e);var t=te(n);function n(e,r,i,a,o,s){var u;return re(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return ae(n,[{key:"exists",value:function(){return Q(W(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ub(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Gk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Kk),ub=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Q(W(n.prototype),"data",this).call(this,e)}}]),n}(sb),cb=function(){function e(t,n,r,i){re(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ob(i.hasPendingWrites,i.fromCache),this.query=r}return ae(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ub(n._firestore,n._userDataWriter,r.key,r,new ob(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Sf(Ef.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ub(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ob(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ub(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ob(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:lb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function lb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wf()}}function fb(e){e=sk(e,hk);var t=sk(e.firestore,gk);return Zy(yk(t),e._key).then((function(n){return yb(t,e,n)}))}var hb=function(e){$(n,e);var t=te(n);function n(e){var r;return re(this,n),(r=t.call(this)).firestore=e,r}return ae(n,[{key:"convertBytes",value:function(e){return new bk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hk(this.firestore,null,t)}}]),n}(ib);function db(e){e=sk(e,fk);var t=sk(e.firestore,gk),n=yk(t),r=new hb(t);return Qk(e._query),ek(n,e._query).then((function(n){return new cb(t,r,e,n)}))}function pb(e,t,n){e=sk(e,hk);var r=sk(e.firestore,gk),i=ab(e.converter,t,n);return gb(r,[Rk(Ak(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xp.none())])}function vb(e,t,n){e=sk(e,hk);for(var r=sk(e.firestore,gk),i=Ak(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return gb(r,[("string"==typeof(t=Ue(t))||t instanceof wk?Dk(i,"updateDoc",e._key,t,n,o):Ok(i,"updateDoc",e._key,t)).toMutation(e._key,xp.exists(!0))])}function mb(e,t){var n=sk(e.firestore,gk),r=vk(e),i=ab(e.converter,t);return gb(n,[Rk(Ak(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xp.exists(!1))]).then((function(){return r}))}function gb(e,t){return function(e,t){var n=new Tf;return e.asyncQueue.enqueueAndForget(i(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=hy,r.next=3,Yy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(yk(e),t)}function yb(e,t,n){var r=n.docs.get(t._key),i=new hb(e);return new sb(e,i,t._key,r,new ob(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){pf=e}(Ot),It(new Fe("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new gk(new Af(e.getProvider("auth-internal")),new Df(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sf(Ef.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Mt(hf,"4.5.1",e),Mt(hf,"4.5.1","esm2017")}();var kb,bb="firebasestorage.googleapis.com",wb=function(e){$(n,e);var t=te(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return re(this,n),(i=t.call(this,_b(e),"Firebase Storage: ".concat(r," (").concat(_b(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(X(i),n.prototype),i}return ae(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return _b(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Te);function _b(e){return"storage/"+e}function xb(){return new wb(kb.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Eb(){return new wb(kb.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sb(){return new wb(kb.CANCELED,"User canceled the upload/download.")}function Tb(){return new wb(kb.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ib(e){return new wb(kb.INVALID_ARGUMENT,e)}function Cb(){return new wb(kb.APP_DELETED,"The Firebase app was deleted.")}function Nb(e,t){return new wb(kb.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ab(e){throw new wb(kb.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(kb||(kb={}));var Rb,Pb=function(){function e(t,n){re(this,e),this.bucket=t,this.path_=n}return ae(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new wb(kb.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===bb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new wb(kb.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Ob=function(){function e(t){re(this,e),this.promise_=Promise.reject(t)}return ae(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Db(e){return"string"===typeof e||e instanceof String}function Lb(e){return Mb()&&e instanceof Blob}function Mb(){return"undefined"!==typeof Blob}function jb(e,t,n,r){if(r<t)throw Ib("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Ib("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Ub(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Fb(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Vb(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Rb||(Rb={}));var zb=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];re(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return ae(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=xb();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Cb():Sb());else i(Eb())}};this.canceled_?t(0,new Bb(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Bb(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Rb.NO_ERROR,a=r.getStatus();if(!n||Vb(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Rb.ABORT;t(!1,new Bb(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new Bb(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Bb=ae((function e(t,n,r){re(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function qb(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function Hb(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function Kb(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Wb(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function Gb(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=Fb(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return Kb(c,t),qb(c,n),Hb(c,a),Wb(c,r),new zb(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function Qb(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Xb(){for(var e=Qb(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Mb())return new Blob(n);throw new wb(kb.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Yb(e){if("undefined"===typeof atob)throw t="base-64",new wb(kb.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var $b="raw",Jb="base64",Zb="base64url",ew="data_url",tw=ae((function e(t,n){re(this,e),this.data=t,this.contentType=n||null}));function nw(e,t){switch(e){case $b:return new tw(rw(t));case Jb:case Zb:return new tw(iw(e,t));case ew:return new tw(function(e){var t=new aw(e);return t.base64?iw(Jb,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Nb(ew,"Malformed data URL.")}return rw(t)}(t.rest)}(t),new aw(t).contentType)}throw xb()}function rw(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function iw(e,t){switch(e){case Jb:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Nb(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Zb:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Nb(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=Yb(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw Nb(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var aw=ae((function e(t){re(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Nb(ew,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var ow=function(){function e(t,n){re(this,e);var r=0,i="";Lb(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return ae(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Lb(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Mb()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Xb.apply(null,i))}var a=n.map((function(e){return Db(e)?nw($b,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function sw(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function uw(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function cw(e,t){return t}var lw=ae((function e(t,n,r,i){re(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||cw})),fw=null;function hw(){if(fw)return fw;var e=[];e.push(new lw("bucket")),e.push(new lw("generation")),e.push(new lw("metageneration")),e.push(new lw("name","fullPath",!0));var t=new lw("name");t.xform=function(e,t){return function(e){return!Db(e)||e.length<2?e:uw(e)}(t)},e.push(t);var n=new lw("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new lw("timeCreated")),e.push(new lw("updated")),e.push(new lw("md5Hash",null,!0)),e.push(new lw("cacheControl",null,!0)),e.push(new lw("contentDisposition",null,!0)),e.push(new lw("contentEncoding",null,!0)),e.push(new lw("contentLanguage",null,!0)),e.push(new lw("contentType",null,!0)),e.push(new lw("metadata","customMetadata",!0)),fw=e}function dw(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Pb(n,r);return t._makeStorageReference(i)}})}(r,e),r}function pw(e,t,n){var r=sw(t);return null===r?null:dw(e,r,n)}function vw(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var mw=ae((function e(t,n,r,i){re(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function gw(e){if(!e)throw xb()}function yw(e,t){return function(n,r){var i=pw(e,r,t);return gw(null!==i),i}}function kw(e,t){return function(n,r){var i=pw(e,r,t);return gw(null!==i),function(e,t,n,r){var i=sw(t);if(null===i)return null;if(!Db(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Ub("/b/"+o(i)+"/o/"+o(a),n,r)+Fb({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function bw(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new wb(kb.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new wb(kb.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new wb(kb.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new wb(kb.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ww(e){var t=bw(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new wb(kb.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function _w(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function xw(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=_w(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+vw(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=ow.getBlob(c,r,l);if(null===f)throw Tb();var h={name:u.fullPath},d=Ub(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new mw(d,"POST",yw(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=bw(t),v}var Ew=function(){function e(){var t=this;re(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rb.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Rb.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Rb.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return ae(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Ab("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Ab("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Ab("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Ab("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Ab("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Sw=function(e){$(n,e);var t=te(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Ew);function Tw(){return new Sw}var Iw=function(){function e(t,n){re(this,e),this._service=t,this._location=n instanceof Pb?n:Pb.makeFromUrl(n,t.host)}return ae(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Pb(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return uw(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Pb(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new wb(kb.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Cw(e,t,n){e._throwIfRoot("uploadBytes");var r=xw(e.storage,e._location,hw(),new ow(t,!0),n);return e.storage.makeRequestWithTokens(r,Tw).then((function(t){return{metadata:t,ref:e}}))}function Nw(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Ub(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new mw(r,"GET",kw(e,n),i);return a.errorHandler=ww(t),a}(e.storage,e._location,hw());return e.storage.makeRequestWithTokens(t,Tw).then((function(e){if(null===e)throw new wb(kb.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Aw(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Pb(e._location.bucket,n);return new Iw(e.storage,r)}function Rw(e,t){if(e instanceof Lw){var n=e;if(null==n._bucket)throw new wb(kb.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Iw(n,n._bucket);return null!=t?Rw(r,t):r}return void 0!==t?Aw(e,t):e}function Pw(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Lw)return new Iw(e,t);throw Ib("To use ref(service, url), the first argument must be a Storage instance.")}return Rw(e,t)}function Ow(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Pb.makeFromBucketSpec(n,e)}function Dw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:_e(i,e.app.options.projectId))}var Lw=function(){function e(t,n,r,i,a){re(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=bb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Pb.makeFromBucketSpec(i,this._host):Ow(this._host,this.app.options)}return ae(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Pb.makeFromBucketSpec(this._url,e):this._bucket=Ow(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){jb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){jb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=i(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=i(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Iw(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ob(Cb());var o=Gb(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=i(l().mark((function e(t,n){var r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Mw="@firebase/storage",jw="0.12.3",Uw="storage";function Fw(e,t,n){return Cw(e=Ue(e),t,n)}function Vw(e){return Nw(e=Ue(e))}function zw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Dw(e,t,n,r)}function Bw(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Lw(r,i,a,n,Ot)}It(new Fe(Uw,Bw,"PUBLIC").setMultipleInstances(!0)),Mt(Mw,jw,""),Mt(Mw,jw,"esm2017");var qw=Dt({apiKey:"AIzaSyDrB9FupDgjjVk4_guLC24ydG3retE3bME",authDomain:"login-auth-4736e.firebaseapp.com",projectId:"login-auth-4736e",storageBucket:"login-auth-4736e.appspot.com",messagingSenderId:"10562914305",appId:"1:10562914305:web:2cff37be4fa9ccf0a29800"}),Hw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt(),t=Ct(e,"auth");if(t.isInitialized())return t.getImmediate();var n=Gr(e,{popupRedirectResolver:Ao,persistence:[Sa,Zi,ta]}),r=be("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){var i=new URL(r,location.origin);if(location.origin===i.origin){var a=qo(i.toString());Ki(n,a,(function(){return a(n.currentUser)})),Hi(n,(function(e){return a(e)}))}}var o=ge("auth");return o&&Qr(n,"http://".concat(o)),n}(qw),Kw=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Ct("object"==typeof e?e:Lt(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=ye("firestore");i&&lk.apply(void 0,[r].concat(oe(i)))}return r}(qw),Ww=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt(),t=arguments.length>1?arguments[1]:void 0,n=Ct(e=Ue(e),Uw),r=n.getImmediate({identifier:t}),i=ye("storage");return i&&zw.apply(void 0,[r].concat(oe(i))),r}(qw);function Gw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qw(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Qw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}var Xw=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Qw(e))&&(r&&(r+=" "),r+=t);return r},Yw=["theme","type","isLoading"],$w=function(e){return"number"==typeof e&&!isNaN(e)},Jw=function(e){return"string"==typeof e},Zw=function(e){return"function"==typeof e},e_=function(e){return Jw(e)||Zw(e)?e:null},t_=function(t){return(0,e.isValidElement)(t)||Jw(t)||Zw(t)||$w(t)};function n_(t){var n=t.enter,r=t.exit,i=t.appendPosition,a=void 0!==i&&i,o=t.collapse,s=void 0===o||o,u=t.collapseDuration,c=void 0===u?300:u;return function(t){var i=t.children,o=t.position,u=t.preventExitTransition,l=t.done,f=t.nodeRef,h=t.isIn,d=t.playToast,p=a?"".concat(n,"--").concat(o):n,v=a?"".concat(r,"--").concat(o):r,m=(0,e.useRef)(0);return(0,e.useLayoutEffect)((function(){var e,t=f.current,n=p.split(" "),r=function e(r){var i;r.target===f.current&&(d(),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===m.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,oe(n)))};(e=t.classList).add.apply(e,oe(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,e.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};h||(u?t():(m.current=1,e.className+=" ".concat(v),e.addEventListener("animationend",t)))}),[h]),e.createElement(e.Fragment,null,i)}}function r_(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var i_=new Map,a_=[],o_=new Set,s_=function(e){return o_.forEach((function(t){return t(e)}))},u_=function(){return i_.size>0};function c_(e,t){var n;if(t)return!(null==(n=i_.get(t))||!n.isToastActive(e));var r=!1;return i_.forEach((function(t){t.isToastActive(e)&&(r=!0)})),r}function l_(e,t){t_(e)&&(u_()||a_.push({content:e,options:t}),i_.forEach((function(n){n.buildToast(e,t)})))}function f_(e,t){i_.forEach((function(n){null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}function h_(t){var n=(0,e.useRef)(function(t){var n=t.containerId||1;return{subscribe:function(r){var i=function(t,n,r){var i=1,a=0,o=[],u=[],c=[],l=n,f=new Map,h=new Set,d=function(){c=Array.from(f.values()),h.forEach((function(e){return e()}))},p=function(e){u=null==e?[]:u.filter((function(t){return t!==e})),d()},v=function(t){var n=t.props,i=n.toastId,a=n.onOpen,o=n.updateId,s=n.children,c=null==o;t.staleId&&f.delete(t.staleId),f.set(i,t),u=[].concat(oe(u),[t.props.toastId]).filter((function(e){return e!==t.staleId})),d(),r(r_(t,c?"added":"updated")),c&&Zw(a)&&a((0,e.isValidElement)(s)&&s.props)};return{id:t,props:l,observe:function(e){return h.add(e),function(){return h.delete(e)}},toggle:function(e,t){f.forEach((function(n){null!=t&&t!==n.props.toastId||Zw(n.toggle)&&n.toggle(e)}))},removeToast:p,toasts:f,clearQueue:function(){a-=o.length,o=[]},buildToast:function(n,u){if(!function(e){var n=e.containerId,r=e.toastId,i=e.updateId,a=n?n!==t:1!==t,o=f.has(r)&&null==i;return a||o}(u)){var c=u.toastId,h=u.updateId,m=u.data,g=u.staleId,y=u.delay,k=function(){p(c)},b=null==h;b&&a++;var w,_,x=Je(Je(Je({},l),{},{style:l.toastStyle,key:i++},Object.fromEntries(Object.entries(u).filter((function(e){var t=s(e,2);t[0];return null!=t[1]})))),{},{toastId:c,updateId:h,data:m,closeToast:k,isIn:!1,className:e_(u.className||l.toastClassName),bodyClassName:e_(u.bodyClassName||l.bodyClassName),progressClassName:e_(u.progressClassName||l.progressClassName),autoClose:!u.isLoading&&(w=u.autoClose,_=l.autoClose,!1===w||$w(w)&&w>0?w:_),deleteToast:function(){var t=f.get(c),n=t.props,i=n.onClose,s=n.children;Zw(i)&&i((0,e.isValidElement)(s)&&s.props),r(r_(t,"removed")),f.delete(c),--a<0&&(a=0),o.length>0?v(o.shift()):d()}});x.closeButton=l.closeButton,!1===u.closeButton||t_(u.closeButton)?x.closeButton=u.closeButton:!0===u.closeButton&&(x.closeButton=!t_(l.closeButton)||l.closeButton);var E=n;(0,e.isValidElement)(n)&&!Jw(n.type)?E=(0,e.cloneElement)(n,{closeToast:k,toastProps:x,data:m}):Zw(n)&&(E=n({closeToast:k,toastProps:x,data:m}));var S={content:E,props:x,staleId:g};l.limit&&l.limit>0&&a>l.limit&&b?o.push(S):$w(y)?setTimeout((function(){v(S)}),y):v(S)}},setProps:function(e){l=e},setToggle:function(e,t){f.get(e).toggle=t},isToastActive:function(e){return u.some((function(t){return t===e}))},getSnapshot:function(){return l.newestOnTop?c.reverse():c}}}(n,t,s_);i_.set(n,i);var a=i.observe(r);return a_.forEach((function(e){return l_(e.content,e.options)})),a_=[],function(){a(),i_.delete(n)}},setProps:function(e){var t;null==(t=i_.get(n))||t.setProps(e)},getSnapshot:function(){var e;return null==(e=i_.get(n))?void 0:e.getSnapshot()}}}(t)).current,r=n.subscribe,i=n.getSnapshot;(0,n.setProps)(t);var a=(0,e.useSyncExternalStore)(r,i,i);return{getToastToRender:function(e){if(!a)return[];var t=new Map;return a.forEach((function(e){var n=e.props.position;t.has(n)||t.set(n,[]),t.get(n).push(e)})),Array.from(t,(function(t){return e(t[0],t[1])}))},isToastActive:c_,count:null==a?void 0:a.length}}function d_(t){var n=t.delay,r=t.isRunning,i=t.closeToast,a=t.type,o=void 0===a?"default":a,s=t.hide,u=t.className,c=t.style,l=t.controlledProgress,f=t.progress,h=t.rtl,d=t.isIn,p=t.theme,v=s||l&&0===f,m=Je(Je({},c),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused"});l&&(m.transform="scaleX(".concat(f,")"));var g=Xw("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":h}),y=Zw(u)?u({rtl:h,type:o,defaultClassName:g}):Xw(g,u),k=se({},l&&f>=1?"onTransitionEnd":"onAnimationEnd",l&&f<1?null:function(){d&&i()});return e.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},e.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(p," Toastify__progress-bar--").concat(o)}),e.createElement("div",Je({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:y,style:m},k)))}var p_=1,v_=function(){return""+p_++};function m_(e){return e&&(Jw(e.toastId)||$w(e.toastId))?e.toastId:v_()}function g_(e,t){return l_(e,t),t.toastId}function y_(e,t){return Je(Je({},t),{},{type:t&&t.type||e,toastId:m_(t)})}function k_(e){return function(t,n){return g_(t,y_(e,n))}}function b_(e,t){return g_(e,y_("default",t))}b_.loading=function(e,t){return g_(e,y_("default",Je({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},b_.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=Jw(i)?b_.loading(i,n):b_.loading(i.render,Je(Je({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=function(e,t,i){if(null!=t){var a=Je(Je(Je({type:e},s),n),{},{data:i}),o=Jw(t)?{render:t}:t;return r?b_.update(r,Je(Je({},a),o)):b_(o.render,Je(Je({},a),o)),i}b_.dismiss(r)},c=Zw(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",a,e)})),c},b_.success=k_("success"),b_.info=k_("info"),b_.error=k_("error"),b_.warning=k_("warning"),b_.warn=b_.warning,b_.dark=function(e,t){return g_(e,y_("default",Je({theme:"dark"},t)))},b_.dismiss=function(e){!function(e){var t;if(u_()){if(null==e||Jw(t=e)||$w(t))i_.forEach((function(t){t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){var n=i_.get(e.containerId);n?n.removeToast(e.id):i_.forEach((function(t){t.removeToast(e.id)}))}}else a_=a_.filter((function(t){return null!=e&&t.options.toastId!==e}))}(e)},b_.clearWaitingQueue=function(e){void 0===e&&(e={}),i_.forEach((function(t){!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},b_.isActive=c_,b_.update=function(e,t){void 0===t&&(t={});var n=function(e,t){var n,r=t.containerId;return null==(n=i_.get(r||1))?void 0:n.toasts.get(e)}(e,t);if(n){var r=n.props,i=n.content,a=Je(Je(Je({delay:100},r),t),{},{toastId:t.toastId||e,updateId:v_()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,g_(o,a)}},b_.done=function(e){b_.update(e,{progress:1})},b_.onChange=function(e){return o_.add(e),function(){o_.delete(e)}},b_.play=function(e){return f_(!0,e)},b_.pause=function(e){return f_(!1,e)};var w_="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,__=function(t){var n=t.theme,r=t.type,i=(t.isLoading,Gw(t,Yw));return e.createElement("svg",Je({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))},x_={info:function(t){return e.createElement(__,Je({},t),e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return e.createElement(__,Je({},t),e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return e.createElement(__,Je({},t),e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return e.createElement(__,Je({},t),e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return e.createElement("div",{className:"Toastify__spinner"})}},E_=function(t){var n=function(t){var n,r,i=s((0,e.useState)(!1),2),a=i[0],o=i[1],u=s((0,e.useState)(!1),2),c=u[0],l=u[1],f=(0,e.useRef)(null),h=(0,e.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,d=t.autoClose,p=t.pauseOnHover,v=t.closeToast,m=t.onClick,g=t.closeOnClick;function y(){o(!0)}function k(){o(!1)}function b(e){var n=f.current;h.canDrag&&n&&(h.didMove=!0,a&&k(),h.delta="x"===t.draggableDirection?e.clientX-h.start:e.clientY-h.start,h.start!==e.clientX&&(h.canCloseOnClick=!1),n.style.transform="translate3d(".concat("x"===t.draggableDirection?"".concat(h.delta,"px, var(--y)"):"0, calc(".concat(h.delta,"px + var(--y))"),",0)"),n.style.opacity=""+(1-Math.abs(h.delta/h.removalDistance)))}function w(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",w);var e=f.current;if(h.canDrag&&h.didMove&&e){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance)return l(!0),t.closeToast(),void t.collapseAll();e.style.transition="transform 0.2s, opacity 0.2s",e.style.removeProperty("transform"),e.style.removeProperty("opacity")}}null==(r=i_.get((n={id:t.toastId,containerId:t.containerId,fn:o}).containerId||1))||r.setToggle(n.id,n.fn),(0,e.useEffect)((function(){if(t.pauseOnFocusLoss)return document.hasFocus()||k(),window.addEventListener("focus",y),window.addEventListener("blur",k),function(){window.removeEventListener("focus",y),window.removeEventListener("blur",k)}}),[t.pauseOnFocusLoss]);var _={onPointerDown:function(e){if(!0===t.draggable||t.draggable===e.pointerType){h.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",w);var n=f.current;h.canCloseOnClick=!0,h.canDrag=!0,n.style.transition="none","x"===t.draggableDirection?(h.start=e.clientX,h.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(h.start=e.clientY,h.removalDistance=n.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(e){var n=f.current.getBoundingClientRect(),r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==e.nativeEvent.type&&t.pauseOnHover&&e.clientX>=a&&e.clientX<=o&&e.clientY>=r&&e.clientY<=i?k():y()}};return d&&p&&(_.onMouseEnter=k,t.stacked||(_.onMouseLeave=y)),g&&(_.onClick=function(e){m&&m(e),h.canCloseOnClick&&v()}),{playToast:y,pauseToast:k,isRunning:a,preventExitTransition:c,toastRef:f,eventHandlers:_}}(t),r=n.isRunning,i=n.preventExitTransition,a=n.toastRef,o=n.eventHandlers,u=n.playToast,c=t.closeButton,l=t.children,f=t.autoClose,h=t.onClick,d=t.type,p=t.hideProgressBar,v=t.closeToast,m=t.transition,g=t.position,y=t.className,k=t.style,b=t.bodyClassName,w=t.bodyStyle,_=t.progressClassName,x=t.progressStyle,E=t.updateId,S=t.role,T=t.progress,I=t.rtl,C=t.toastId,N=t.deleteToast,A=t.isIn,R=t.isLoading,P=t.closeOnClick,O=t.theme,D=Xw("Toastify__toast","Toastify__toast-theme--".concat(O),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":P}),L=Zw(y)?y({rtl:I,position:g,type:d,defaultClassName:D}):Xw(D,y),M=function(t){var n=t.theme,r=t.type,i=t.isLoading,a=t.icon,o=null,s={theme:n,type:r};return!1===a||(Zw(a)?o=a(Je(Je({},s),{},{isLoading:i})):(0,e.isValidElement)(a)?o=(0,e.cloneElement)(a,s):i?o=x_.spinner():function(e){return e in x_}(r)&&(o=x_[r](s))),o}(t),j=!!T||!f,U={closeToast:v,type:d,theme:O},F=null;return!1===c||(F=Zw(c)?c(U):(0,e.isValidElement)(c)?(0,e.cloneElement)(c,U):function(t){var n=t.closeToast,r=t.theme,i=t.ariaLabel,a=void 0===i?"close":i;return e.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(U)),e.createElement(m,{isIn:A,done:N,position:g,preventExitTransition:i,nodeRef:a,playToast:u},e.createElement("div",Je(Je({id:C,onClick:h,"data-in":A,className:L},o),{},{style:k,ref:a}),e.createElement("div",Je(Je({},A&&{role:S}),{},{className:Zw(b)?b({type:d}):Xw("Toastify__toast-body",b),style:w}),null!=M&&e.createElement("div",{className:Xw("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},M),e.createElement("div",null,l)),F,e.createElement(d_,Je(Je({},E&&!j?{key:"pb-".concat(E)}:{}),{},{rtl:I,theme:O,delay:f,isRunning:r,isIn:A,closeToast:v,hide:p,type:d,style:x,className:_,controlledProgress:j,progress:T||0}))))},S_=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},T_=n_(S_("bounce",!0)),I_=(n_(S_("slide",!0)),n_(S_("zoom")),n_(S_("flip")),{position:"top-right",transition:T_,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function C_(t){var n=Je(Je({},I_),t),r=t.stacked,i=s((0,e.useState)(!0),2),a=i[0],o=i[1],u=(0,e.useRef)(null),c=h_(n),l=c.getToastToRender,f=c.isToastActive,h=c.count,d=n.className,p=n.style,v=n.rtl,m=n.containerId;function g(e){var t=Xw("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":v});return Zw(d)?d({position:e,rtl:v,defaultClassName:t}):Xw(t,e_(d))}function y(){r&&(o(!0),b_.play())}return w_((function(){if(r){var e,t=u.current.querySelectorAll('[data-in="true"]'),i=null==(e=n.position)?void 0:e.includes("top"),o=0,s=0;Array.from(t).reverse().forEach((function(e,t){var n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(a)),n.dataset.pos||(n.dataset.pos=i?"top":"bot");var r=o*(a?.2:1)+(a?0:12*t);n.style.setProperty("--y","".concat(i?r:-1*r,"px")),n.style.setProperty("--g","".concat(12)),n.style.setProperty("--s",""+(1-(a?s:0))),o+=n.offsetHeight,s+=.025}))}}),[a,h,r]),e.createElement("div",{ref:u,className:"Toastify",id:m,onMouseEnter:function(){r&&(o(!1),b_.pause())},onMouseLeave:y},l((function(t,n){var i=n.length?Je({},p):Je(Je({},p),{},{pointerEvents:"none"});return e.createElement("div",{className:g(t),style:i,key:"container-".concat(t)},n.map((function(t){var n=t.content,i=t.props;return e.createElement(E_,Je(Je({},i),{},{stacked:r,collapseAll:y,isIn:f(i.toastId,i.containerId),style:i.style,key:"toast-".concat(i.key)}),n)})))})))}var N_=n(184);var A_=function(){return(0,N_.jsxs)("div",{children:[(0,N_.jsx)("p",{className:"continue-p",children:"--Or continue with--"}),(0,N_.jsx)("div",{style:{display:"flex",justifyContent:"center",cursor:"pointer"},onClick:function(){var e=new _i;(function(e,t,n){return Va.apply(this,arguments)})(Hw,e).then(function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),n=t.user,!t.user){e.next=7;break}return e.next=5,pb(vk(Kw,"Users",n.uid),{email:n.email,firstName:n.displayName,photo:n.photoURL,lastName:""});case 5:b_.success("User logged in Successfully",{position:"top-center"}),window.location.href="/profile";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:(0,N_.jsx)("img",{src:n(318),alt:"google",width:"60%"})})]})};var R_=function(){var t=s((0,e.useState)(""),2),n=t[0],r=t[1],a=s((0,e.useState)(""),2),o=a[0],u=a[1],c=function(){var e=i(l().mark((function e(t){var r,i,a,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,qi(Hw,n,o);case 4:return r=e.sent,i=r.user,e.next=8,fb(vk(Kw,"Users",i.uid));case 8:a=e.sent,s=null,a.exists()&&(u=a.data(),s=u.role),window.location.href="teacher"===s?"/teacher_dashboard":"student"===s?"/student_dashboard":"admin"===s?"/admin_dashboard":"/profile",b_.success("Logged in successfully!",{position:"top-center"}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),b_.error(e.t0.message,{position:"bottom-center"});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,N_.jsxs)("form",{onSubmit:c,children:[(0,N_.jsx)("h3",{children:"Login"}),(0,N_.jsxs)("div",{className:"mb-3",children:[(0,N_.jsx)("label",{children:"Email address"}),(0,N_.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",value:n,onChange:function(e){return r(e.target.value)}})]}),(0,N_.jsxs)("div",{className:"mb-3",children:[(0,N_.jsx)("label",{children:"Password"}),(0,N_.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:o,onChange:function(e){return u(e.target.value)}})]}),(0,N_.jsx)("div",{className:"d-grid",children:(0,N_.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})}),(0,N_.jsxs)("p",{className:"forgot-password text-right",children:["New user? ",(0,N_.jsx)("a",{href:"/register",children:"Register Here"})]}),(0,N_.jsx)(A_,{})]})};var P_=function(){var t=s((0,e.useState)(""),2),n=t[0],r=t[1],a=s((0,e.useState)(""),2),o=a[0],u=a[1],c=s((0,e.useState)(""),2),f=c[0],h=c[1],d=s((0,e.useState)(""),2),p=d[0],v=d[1],m=s((0,e.useState)("student"),2),g=m[0],y=m[1],k=function(){var e=i(l().mark((function e(t){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,zi(Hw,n,o);case 4:if(r=e.sent,i=r.user,console.log("User registered:",i),!i){e.next=10;break}return e.next=10,pb(vk(Kw,"Users",i.uid),{email:i.email,firstName:f,lastName:p,role:g,photo:"",createdAt:new Date});case 10:b_.success("User Registered Successfully!",{position:"top-center"}),window.location.href="/login",e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0.message),b_.error(e.t0.message,{position:"bottom-center"});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,N_.jsxs)("form",{onSubmit:k,children:[(0,N_.jsx)("h3",{children:"Sign Up"}),(0,N_.jsxs)("div",{className:"mb-3",children:[(0,N_.jsx)("label",{children:"First name"}),(0,N_.jsx)("input",{type:"text",className:"form-control",placeholder:"First name",onChange:function(e){return h(e.target.value)},required:!0})]}),(0,N_.jsxs)("div",{className:"mb-3",children:[(0,N_.jsx)("label",{children:"Last name"}),(0,N_.jsx)("input",{type:"text",className:"form-control",placeholder:"Last name",onChange:function(e){return v(e.target.value)}})]}),(0,N_.jsxs)("div",{className:"mb-3",children:[(0,N_.jsx)("label",{children:"Email address"}),(0,N_.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:function(e){return r(e.target.value)},required:!0})]}),(0,N_.jsxs)("div",{className:"mb-3",children:[(0,N_.jsx)("label",{children:"Password"}),(0,N_.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",onChange:function(e){return u(e.target.value)},required:!0})]}),(0,N_.jsxs)("div",{className:"mb-3",children:[(0,N_.jsx)("label",{children:"I am a:"}),(0,N_.jsxs)("select",{className:"form-control",value:g,onChange:function(e){return y(e.target.value)},required:!0,children:[(0,N_.jsx)("option",{value:"student",children:"Student"}),(0,N_.jsx)("option",{value:"teacher",children:"Teacher"})]})]}),(0,N_.jsx)("div",{className:"d-grid",children:(0,N_.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})}),(0,N_.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",(0,N_.jsx)("a",{href:"/login",children:"Login"})]})]})};var O_=function(t){var n=t.isOpen,r=t.onClose,a=t.onClassCreated,o=s((0,e.useState)(""),2),u=o[0],c=o[1],f=s((0,e.useState)(""),2),h=f[0],d=f[1],p=s((0,e.useState)(""),2),v=p[0],m=p[1],g=s((0,e.useState)(""),2),y=g[0],k=g[1],b=s((0,e.useState)(!1),2),w=b[0],_=b[1];if(!n)return null;var x=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="",n=0;n<6;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},E=function(){var e=i(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),_(!0),e.prev=2,n=Hw.currentUser){e.next=7;break}return b_.error("You must be logged in"),e.abrupt("return");case 7:return i=x(),e.next=10,mb(pk(Kw,"classes"),{name:u,description:h,subject:v,section:y,teacherId:n.uid,code:i,students:[],createdAt:new Date});case 10:b_.success("Class created successfully!",{position:"top-center"}),a(),r(),c(""),d(""),m(""),k(""),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),console.error("Error creating class:",e.t0),b_.error("Failed to create class",{position:"bottom-center"});case 23:return e.prev=23,_(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[2,19,23,26]])})));return function(t){return e.apply(this,arguments)}}();return(0,N_.jsx)("div",{className:"modal-overlay",onClick:r,children:(0,N_.jsxs)("div",{className:"create-class-modal",onClick:function(e){return e.stopPropagation()},children:[(0,N_.jsxs)("div",{className:"modal-header",children:[(0,N_.jsxs)("h3",{children:[(0,N_.jsx)("i",{className:"bi bi-plus-circle"})," Create New Class"]}),(0,N_.jsx)("button",{className:"close-btn",onClick:r,children:(0,N_.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,N_.jsxs)("form",{onSubmit:E,children:[(0,N_.jsxs)("div",{className:"modal-body",children:[(0,N_.jsxs)("div",{className:"form-group",children:[(0,N_.jsx)("label",{children:"Class Name *"}),(0,N_.jsx)("input",{type:"text",className:"form-control",placeholder:"e.g., Introduction to Computer Science",value:u,onChange:function(e){return c(e.target.value)},required:!0})]}),(0,N_.jsxs)("div",{className:"form-group",children:[(0,N_.jsx)("label",{children:"Description"}),(0,N_.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Brief description of the class...",value:h,onChange:function(e){return d(e.target.value)}})]}),(0,N_.jsxs)("div",{className:"row",children:[(0,N_.jsx)("div",{className:"col-md-6",children:(0,N_.jsxs)("div",{className:"form-group",children:[(0,N_.jsx)("label",{children:"Subject"}),(0,N_.jsx)("input",{type:"text",className:"form-control",placeholder:"e.g., Computer Science",value:v,onChange:function(e){return m(e.target.value)}})]})}),(0,N_.jsx)("div",{className:"col-md-6",children:(0,N_.jsxs)("div",{className:"form-group",children:[(0,N_.jsx)("label",{children:"Section"}),(0,N_.jsx)("input",{type:"text",className:"form-control",placeholder:"e.g., Section A",value:y,onChange:function(e){return k(e.target.value)}})]})})]})]}),(0,N_.jsxs)("div",{className:"modal-footer",children:[(0,N_.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:r,disabled:w,children:"Cancel"}),(0,N_.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:w,children:w?(0,N_.jsxs)(N_.Fragment,{children:[(0,N_.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Creating..."]}):(0,N_.jsxs)(N_.Fragment,{children:[(0,N_.jsx)("i",{className:"bi bi-check-circle"})," Create Class"]})})]})]})]})})};var D_=function(t){var n=t.isOpen,r=t.onClose,i=t.toolType,a=(t.userDetails,s((0,e.useState)(""),2)),o=a[0],u=a[1],c=s((0,e.useState)([]),2),l=c[0],f=c[1],h=s((0,e.useState)(!1),2),d=h[0],p=h[1];if(!n)return null;var v={grading:{title:"AI Auto-Grading System",icon:"bi-clipboard-check",color:"#667eea",description:"Upload assignment submissions for AI-assisted grading"},tutor:{title:"Course AI Tutor",icon:"bi-chat-dots",color:"#f5576c",description:"Ask questions about your course materials"},explainer:{title:"AI Lecture Explainer",icon:"bi-lightbulb",color:"#00f2fe",description:"Generate simplified explanations of complex topics"},analyzer:{title:"Pass-Paper Analyzer",icon:"bi-graph-up-arrow",color:"#38f9d7",description:"Analyze exam patterns and trends"},summarizer:{title:"Meeting Summarizer",icon:"bi-mic",color:"#fee140",description:"Transcribe and summarize lecture recordings"},chatbot:{title:"AI Teaching Assistant",icon:"bi-robot",color:"#330867",description:"Your 24/7 AI assistant for teaching support"}},m=v[i]||v.chatbot,g=function(){o.trim()&&(f([].concat(oe(l),[{type:"user",text:o}])),u(""),p(!0),setTimeout((function(){f((function(e){return[].concat(oe(e),[{type:"ai",text:"This is a demo response for ".concat(m.title,". Integration with AI services coming soon!")}])})),p(!1)}),1500))};return(0,N_.jsx)("div",{className:"modal-overlay",onClick:r,children:(0,N_.jsxs)("div",{className:"ai-modal-content",onClick:function(e){return e.stopPropagation()},children:[(0,N_.jsxs)("div",{className:"ai-modal-header",style:{borderLeftColor:m.color},children:[(0,N_.jsxs)("div",{className:"modal-title-section",children:[(0,N_.jsx)("i",{className:"bi ".concat(m.icon),style:{color:m.color}}),(0,N_.jsxs)("div",{children:[(0,N_.jsx)("h3",{children:m.title}),(0,N_.jsx)("p",{children:m.description})]})]}),(0,N_.jsx)("button",{className:"close-btn",onClick:r,children:(0,N_.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,N_.jsxs)("div",{className:"ai-modal-body",children:[(0,N_.jsxs)("div",{className:"ai-messages-container",children:[0===l.length?(0,N_.jsxs)("div",{className:"empty-state",children:[(0,N_.jsx)("i",{className:"bi ".concat(m.icon),style:{color:m.color}}),(0,N_.jsxs)("h4",{children:["Start Using ",m.title]}),(0,N_.jsx)("p",{children:"Type your message below or upload files to get started"})]}):l.map((function(e,t){return(0,N_.jsx)("div",{className:"message ".concat(e.type),children:(0,N_.jsx)("div",{className:"message-content",children:e.text})},t)})),d&&(0,N_.jsx)("div",{className:"message ai",children:(0,N_.jsx)("div",{className:"message-content loading",children:(0,N_.jsxs)("div",{className:"typing-indicator",children:[(0,N_.jsx)("span",{}),(0,N_.jsx)("span",{}),(0,N_.jsx)("span",{})]})})})]}),(0,N_.jsx)("div",{className:"ai-input-section",children:(0,N_.jsxs)("div",{className:"input-wrapper",children:[(0,N_.jsx)("button",{className:"attach-btn",title:"Attach file",children:(0,N_.jsx)("i",{className:"bi bi-paperclip"})}),(0,N_.jsx)("input",{type:"text",placeholder:"Ask ".concat(m.title,"..."),value:o,onChange:function(e){return u(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&g()}}),(0,N_.jsx)("button",{className:"send-btn",onClick:g,disabled:!o.trim()||d,style:{background:m.color},children:(0,N_.jsx)("i",{className:"bi bi-send-fill"})})]})})]}),(0,N_.jsx)("div",{className:"ai-modal-footer",children:(0,N_.jsxs)("small",{children:[(0,N_.jsx)("i",{className:"bi bi-info-circle"})," This AI tool is powered by advanced machine learning models"]})})]})})};var L_=function(){var t,n,r,a,o,u,c=s((0,e.useState)(null),2),f=c[0],h=c[1],d=s((0,e.useState)([]),2),p=d[0],v=d[1],m=s((0,e.useState)(0),2),g=m[0],y=m[1],k=s((0,e.useState)(!0),2),b=k[0],w=k[1],_=s((0,e.useState)(!1),2),x=_[0],E=_[1],S=s((0,e.useState)(!1),2),T=S[0],I=S[1],C=s((0,e.useState)(null),2),N=C[0],A=C[1],R=s((0,e.useState)(!1),2),P=R[0],O=R[1],D=s((0,e.useState)(!1),2),L=D[0],M=D[1],j=s((0,e.useState)({firstName:"",lastName:"",email:""}),2),U=j[0],F=j[1],V=s((0,e.useState)(!1),2),z=V[0],B=V[1],q=(0,e.useRef)(null);(0,e.useEffect)((function(){H(),K();var e=function(e){q.current&&!q.current.contains(e.target)&&O(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]);var H=function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hw.onAuthStateChanged(function(){var e=i(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return n=vk(Kw,"Users",t.uid),e.next=4,fb(n);case 4:(r=e.sent).exists()?(i=r.data(),h(i),F({firstName:i.firstName||"",lastName:i.lastName||"",email:i.email||""}),"teacher"!==i.role&&(b_.error("Access Denied: Teachers only",{position:"top-center"}),window.location.href="/login")):console.log("User document not found"),e.next=10;break;case 8:console.log("User is not logged in"),window.location.href="/login";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=i(l().mark((function e(){var t,n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Hw.currentUser){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,n=$k(pk(Kw,"classes"),Zk("teacherId","==",t.uid)),e.next=7,db(n);case 7:r=e.sent,i=[],r.forEach((function(e){i.push(Je({id:e.id},e.data()))})),v(i),y(0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.error("Error fetching classes:",e.t0),b_.error("Failed to load classes",{position:"bottom-center"});case 18:return e.prev=18,w(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=i(l().mark((function e(t){var n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:if(n.type.startsWith("image/")){e.next=6;break}return b_.error("Please upload an image file"),e.abrupt("return");case 6:if(!(n.size>5242880)){e.next=9;break}return b_.error("Image size should be less than 5MB"),e.abrupt("return");case 9:return B(!0),e.prev=10,r=Hw.currentUser,o=Ww,s="profile-photos/".concat(r.uid),i=Pw(o=Ue(o),s),e.next=15,Fw(i,n);case 15:return e.next=17,Vw(i);case 17:return a=e.sent,e.next=20,vb(vk(Kw,"Users",r.uid),{photo:a});case 20:h(Je(Je({},f),{},{photo:a})),b_.success("Profile photo updated!"),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(10),console.error("Error uploading photo:",e.t0),b_.error("Failed to upload photo");case 28:return e.prev=28,B(!1),e.finish(28);case 31:case"end":return e.stop()}var o,s}),e,null,[[10,24,28,31]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=i(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=Hw.currentUser,e.next=5,vb(vk(Kw,"Users",n.uid),{firstName:U.firstName,lastName:U.lastName});case 5:h(Je(Je({},f),{},{firstName:U.firstName,lastName:U.lastName})),M(!1),b_.success("Profile updated successfully!"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error updating profile:",e.t0),b_.error("Failed to update profile");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wi(Hw);case 3:b_.success("Logged out successfully",{position:"top-center"}),window.location.href="/login",e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error logging out:",e.t0.message),b_.error("Failed to logout",{position:"bottom-center"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),X=function(e){A(e),I(!0)};return b?(0,N_.jsx)("div",{className:"loading-container",children:(0,N_.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,N_.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,N_.jsxs)("div",{className:"teacher-dashboard",children:[(0,N_.jsxs)("nav",{className:"dashboard-navbar",children:[(0,N_.jsx)("div",{className:"navbar-brand",children:(0,N_.jsx)("h2",{children:"\ud83c\udf93 Campus Hub - Teacher"})}),(0,N_.jsx)("div",{className:"navbar-user",children:f&&(0,N_.jsxs)(N_.Fragment,{children:[(0,N_.jsxs)("span",{className:"user-name",children:["Welcome, ",f.firstName," ",f.lastName]}),(0,N_.jsxs)("div",{className:"profile-dropdown-container",ref:q,children:[(0,N_.jsxs)("button",{className:"profile-btn",onClick:function(){return O(!P)},children:[f.photo?(0,N_.jsx)("img",{src:f.photo,alt:"Profile",className:"profile-avatar"}):(0,N_.jsxs)("div",{className:"profile-avatar-placeholder",children:[null===(t=f.firstName)||void 0===t?void 0:t.charAt(0),null===(n=f.lastName)||void 0===n?void 0:n.charAt(0)]}),(0,N_.jsx)("i",{className:"bi bi-chevron-down ms-1"})]}),P&&(0,N_.jsxs)("div",{className:"profile-dropdown-menu",children:[(0,N_.jsx)("div",{className:"dropdown-header",children:(0,N_.jsxs)("div",{className:"dropdown-user-info",children:[f.photo?(0,N_.jsx)("img",{src:f.photo,alt:"Profile",className:"dropdown-avatar"}):(0,N_.jsxs)("div",{className:"dropdown-avatar-placeholder",children:[null===(r=f.firstName)||void 0===r?void 0:r.charAt(0),null===(a=f.lastName)||void 0===a?void 0:a.charAt(0)]}),(0,N_.jsxs)("div",{children:[(0,N_.jsxs)("h4",{children:[f.firstName," ",f.lastName]}),(0,N_.jsx)("p",{children:f.email}),(0,N_.jsx)("span",{className:"role-badge",children:"Teacher"})]})]})}),(0,N_.jsx)("div",{className:"dropdown-divider"}),(0,N_.jsxs)("button",{className:"dropdown-item",onClick:function(){M(!0),O(!1)},children:[(0,N_.jsx)("i",{className:"bi bi-person-circle"}),"Edit Profile"]}),(0,N_.jsxs)("button",{className:"dropdown-item",children:[(0,N_.jsx)("i",{className:"bi bi-gear"}),"Settings"]}),(0,N_.jsxs)("button",{className:"dropdown-item",children:[(0,N_.jsx)("i",{className:"bi bi-question-circle"}),"Help & Support"]}),(0,N_.jsx)("div",{className:"dropdown-divider"}),(0,N_.jsxs)("button",{className:"dropdown-item danger",onClick:Q,children:[(0,N_.jsx)("i",{className:"bi bi-box-arrow-right"}),"Logout"]})]})]})]})})]}),(0,N_.jsxs)("div",{className:"dashboard-container",children:[(0,N_.jsxs)("div",{className:"dashboard-header",children:[(0,N_.jsx)("h3",{children:"Teacher Dashboard"}),(0,N_.jsxs)("div",{className:"header-actions",children:[(0,N_.jsxs)("button",{className:"btn ai-btn me-2",onClick:function(){return X("chatbot")},children:[(0,N_.jsx)("i",{className:"bi bi-robot"})," AI Assistant"]}),(0,N_.jsxs)("button",{className:"btn ai-btn me-2",onClick:function(){return E(!0)},children:[(0,N_.jsx)("i",{className:"bi bi-robot"})," Create New Class"]})]})]}),(0,N_.jsxs)("div",{className:"overview-cards",children:[(0,N_.jsxs)("div",{className:"overview-card",children:[(0,N_.jsx)("div",{className:"card-icon",children:(0,N_.jsx)("i",{className:"bi bi-book"})}),(0,N_.jsxs)("div",{className:"card-content",children:[(0,N_.jsx)("h4",{children:p.length}),(0,N_.jsx)("p",{children:"Total Classes"})]})]}),(0,N_.jsxs)("div",{className:"overview-card pending",children:[(0,N_.jsx)("div",{className:"card-icon",children:(0,N_.jsx)("i",{className:"bi bi-pencil-square"})}),(0,N_.jsxs)("div",{className:"card-content",children:[(0,N_.jsx)("h4",{children:g}),(0,N_.jsx)("p",{children:"Pending Grading"})]})]}),(0,N_.jsxs)("div",{className:"overview-card",children:[(0,N_.jsx)("div",{className:"card-icon",children:(0,N_.jsx)("i",{className:"bi bi-people"})}),(0,N_.jsxs)("div",{className:"card-content",children:[(0,N_.jsx)("h4",{children:p.reduce((function(e,t){var n;return e+((null===(n=t.students)||void 0===n?void 0:n.length)||0)}),0)}),(0,N_.jsx)("p",{children:"Total Students"})]})]}),(0,N_.jsxs)("div",{className:"overview-card ai-card",children:[(0,N_.jsx)("div",{className:"card-icon",children:(0,N_.jsx)("i",{className:"bi bi-stars"})}),(0,N_.jsxs)("div",{className:"card-content",children:[(0,N_.jsx)("h4",{children:"AI Powered"}),(0,N_.jsx)("p",{children:"Smart Features Active"})]})]})]}),(0,N_.jsxs)("div",{className:"ai-tools-section",children:[(0,N_.jsxs)("h4",{children:[(0,N_.jsx)("i",{className:"bi bi-magic"})," AI-Powered Tools"]}),(0,N_.jsxs)("div",{className:"ai-tools-grid",children:[(0,N_.jsxs)("div",{className:"ai-tool-card",onClick:function(){return X("grading")},children:[(0,N_.jsx)("div",{className:"tool-icon grading",children:(0,N_.jsx)("i",{className:"bi bi-clipboard-check"})}),(0,N_.jsx)("h5",{children:"AI Auto-Grading"}),(0,N_.jsx)("p",{children:"Automatic evaluation of assignments with smart marking suggestions"}),(0,N_.jsx)("span",{className:"tool-badge",children:"Advanced"})]}),(0,N_.jsxs)("div",{className:"ai-tool-card",onClick:function(){return X("tutor")},children:[(0,N_.jsx)("div",{className:"tool-icon tutor",children:(0,N_.jsx)("i",{className:"bi bi-chat-dots"})}),(0,N_.jsx)("h5",{children:"Course AI Tutor"}),(0,N_.jsx)("p",{children:"RAG-based AI assistant trained on your course materials"}),(0,N_.jsx)("span",{className:"tool-badge",children:"Popular"})]}),(0,N_.jsxs)("div",{className:"ai-tool-card",onClick:function(){return X("explainer")},children:[(0,N_.jsx)("div",{className:"tool-icon explainer",children:(0,N_.jsx)("i",{className:"bi bi-lightbulb"})}),(0,N_.jsx)("h5",{children:"AI Lecture Explainer"}),(0,N_.jsx)("p",{children:"Generate simplified summaries and explanations of lectures"}),(0,N_.jsx)("span",{className:"tool-badge",children:"New"})]}),(0,N_.jsxs)("div",{className:"ai-tool-card",onClick:function(){return X("analyzer")},children:[(0,N_.jsx)("div",{className:"tool-icon analyzer",children:(0,N_.jsx)("i",{className:"bi bi-graph-up-arrow"})}),(0,N_.jsx)("h5",{children:"Pass-Paper Analyzer"}),(0,N_.jsx)("p",{children:"Analyze exam patterns and generate study recommendations"}),(0,N_.jsx)("span",{className:"tool-badge",children:"Insight"})]}),(0,N_.jsxs)("div",{className:"ai-tool-card",onClick:function(){return X("summarizer")},children:[(0,N_.jsx)("div",{className:"tool-icon summarizer",children:(0,N_.jsx)("i",{className:"bi bi-mic"})}),(0,N_.jsx)("h5",{children:"Meeting Summarizer"}),(0,N_.jsx)("p",{children:"Transcribe and summarize lecture recordings automatically"}),(0,N_.jsx)("span",{className:"tool-badge",children:"Voice AI"})]}),(0,N_.jsxs)("div",{className:"ai-tool-card",onClick:function(){return X("chatbot")},children:[(0,N_.jsx)("div",{className:"tool-icon chatbot",children:(0,N_.jsx)("i",{className:"bi bi-robot"})}),(0,N_.jsx)("h5",{children:"AI Teaching Assistant"}),(0,N_.jsx)("p",{children:"24/7 AI assistant for course queries and help"}),(0,N_.jsx)("span",{className:"tool-badge",children:"24/7"})]})]})]}),(0,N_.jsxs)("div",{className:"classes-section",children:[(0,N_.jsx)("h4",{children:"My Classes"}),0===p.length?(0,N_.jsxs)("div",{className:"no-classes",children:[(0,N_.jsx)("i",{className:"bi bi-inbox",style:{fontSize:"48px",color:"#ccc"}}),(0,N_.jsx)("p",{children:"No classes yet. Create your first class to get started!"}),(0,N_.jsxs)("button",{className:"btn btn-primary",onClick:function(){return E(!0)},children:[(0,N_.jsx)("i",{className:"bi bi-plus-circle"})," Create Class"]})]}):(0,N_.jsx)("div",{className:"classes-grid",children:p.map((function(e){var t;return(0,N_.jsxs)("div",{className:"class-card",children:[(0,N_.jsx)("div",{className:"class-thumbnail",children:e.thumbnail?(0,N_.jsx)("img",{src:e.thumbnail,alt:e.name}):(0,N_.jsx)("div",{className:"default-thumbnail",children:e.name.charAt(0)})}),(0,N_.jsxs)("div",{className:"class-info",children:[(0,N_.jsx)("h5",{children:e.name}),(0,N_.jsx)("p",{className:"class-description",children:e.description}),(0,N_.jsxs)("p",{className:"class-meta",children:[(0,N_.jsxs)("span",{children:[(0,N_.jsx)("i",{className:"bi bi-people"}),(null===(t=e.students)||void 0===t?void 0:t.length)||0," students"]}),(0,N_.jsxs)("span",{children:[(0,N_.jsx)("i",{className:"bi bi-code-square"}),e.code]})]})]}),(0,N_.jsxs)("div",{className:"class-actions",children:[(0,N_.jsxs)("button",{className:"btn btn-sm btn-primary",children:[(0,N_.jsx)("i",{className:"bi bi-box-arrow-in-right"})," Enter Class"]}),(0,N_.jsx)("button",{className:"btn btn-sm btn-outline-secondary",children:(0,N_.jsx)("i",{className:"bi bi-three-dots-vertical"})})]})]},e.id)}))})]}),(0,N_.jsxs)("div",{className:"quick-actions",children:[(0,N_.jsx)("h4",{children:"Quick Actions"}),(0,N_.jsxs)("div",{className:"actions-grid",children:[(0,N_.jsxs)("button",{className:"action-btn",children:[(0,N_.jsx)("i",{className:"bi bi-file-earmark-plus"}),(0,N_.jsx)("span",{children:"Create Assignment"})]}),(0,N_.jsxs)("button",{className:"action-btn",children:[(0,N_.jsx)("i",{className:"bi bi-upload"}),(0,N_.jsx)("span",{children:"Upload Materials"})]}),(0,N_.jsxs)("button",{className:"action-btn",children:[(0,N_.jsx)("i",{className:"bi bi-check2-square"}),(0,N_.jsx)("span",{children:"Grade Submissions"})]}),(0,N_.jsxs)("button",{className:"action-btn",children:[(0,N_.jsx)("i",{className:"bi bi-graph-up"}),(0,N_.jsx)("span",{children:"View Analytics"})]}),(0,N_.jsxs)("button",{className:"action-btn",children:[(0,N_.jsx)("i",{className:"bi bi-megaphone"}),(0,N_.jsx)("span",{children:"Post Announcement"})]}),(0,N_.jsxs)("button",{className:"action-btn",children:[(0,N_.jsx)("i",{className:"bi bi-calendar-event"}),(0,N_.jsx)("span",{children:"Schedule Event"})]})]})]})]}),L&&(0,N_.jsx)("div",{className:"modal-overlay",onClick:function(){return M(!1)},children:(0,N_.jsxs)("div",{className:"edit-profile-modal",onClick:function(e){return e.stopPropagation()},children:[(0,N_.jsxs)("div",{className:"modal-header",children:[(0,N_.jsxs)("h3",{children:[(0,N_.jsx)("i",{className:"bi bi-person-circle"})," Edit Profile"]}),(0,N_.jsx)("button",{className:"close-btn",onClick:function(){return M(!1)},children:(0,N_.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,N_.jsxs)("form",{onSubmit:G,children:[(0,N_.jsxs)("div",{className:"modal-body",children:[(0,N_.jsxs)("div",{className:"profile-photo-section",children:[(0,N_.jsx)("div",{className:"current-photo",children:f.photo?(0,N_.jsx)("img",{src:f.photo,alt:"Profile"}):(0,N_.jsxs)("div",{className:"photo-placeholder",children:[null===(o=f.firstName)||void 0===o?void 0:o.charAt(0),null===(u=f.lastName)||void 0===u?void 0:u.charAt(0)]})}),(0,N_.jsxs)("div",{className:"photo-upload",children:[(0,N_.jsx)("label",{htmlFor:"photo-upload",className:"upload-label",children:z?(0,N_.jsxs)(N_.Fragment,{children:[(0,N_.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Uploading..."]}):(0,N_.jsxs)(N_.Fragment,{children:[(0,N_.jsx)("i",{className:"bi bi-camera"})," Change Photo"]})}),(0,N_.jsx)("input",{id:"photo-upload",type:"file",accept:"image/*",onChange:W,disabled:z,style:{display:"none"}}),(0,N_.jsx)("small",{className:"text-muted",children:"Max size: 5MB"})]})]}),(0,N_.jsxs)("div",{className:"form-group",children:[(0,N_.jsx)("label",{children:"First Name"}),(0,N_.jsx)("input",{type:"text",className:"form-control",value:U.firstName,onChange:function(e){return F(Je(Je({},U),{},{firstName:e.target.value}))},required:!0})]}),(0,N_.jsxs)("div",{className:"form-group",children:[(0,N_.jsx)("label",{children:"Last Name"}),(0,N_.jsx)("input",{type:"text",className:"form-control",value:U.lastName,onChange:function(e){return F(Je(Je({},U),{},{lastName:e.target.value}))}})]}),(0,N_.jsxs)("div",{className:"form-group",children:[(0,N_.jsx)("label",{children:"Email (Read-only)"}),(0,N_.jsx)("input",{type:"email",className:"form-control",value:U.email,disabled:!0}),(0,N_.jsx)("small",{className:"text-muted",children:"Email cannot be changed"})]})]}),(0,N_.jsxs)("div",{className:"modal-footer",children:[(0,N_.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return M(!1)},children:"Cancel"}),(0,N_.jsxs)("button",{type:"submit",className:"btn btn-custom",children:[(0,N_.jsx)("i",{className:"bi bi-check-circle"})," Save Changes"]})]})]})]})}),x&&(0,N_.jsx)(O_,{isOpen:x,onClose:function(){return E(!1)},onClassCreated:K}),T&&(0,N_.jsx)(D_,{isOpen:T,onClose:function(){return I(!1)},toolType:N,userDetails:f})]})};var M_=function(){var t=s((0,e.useState)(null),2),n=t[0],r=t[1],a=function(){var e=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hw.onAuthStateChanged(function(){var e=i(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=vk(Kw,"Users",t.uid),e.next=4,fb(n);case 4:(i=e.sent).exists()?(r(i.data()),console.log(i.data())):console.log("User is not logged in");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function o(){return(o=i(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hw.signOut();case 3:window.location.href="/login",console.log("User logged out successfully!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error logging out:",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return(0,e.useEffect)((function(){a()}),[]),(0,N_.jsx)("div",{children:n?(0,N_.jsxs)(N_.Fragment,{children:[(0,N_.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,N_.jsx)("img",{src:n.photo,alt:"Profile",width:"40%",style:{borderRadius:"50%"}})}),(0,N_.jsxs)("h3",{children:["Welcome ",n.firstName," \ud83d\ude4f\ud83d\ude4f"]}),(0,N_.jsxs)("div",{children:[(0,N_.jsxs)("p",{children:["Email: ",n.email]}),(0,N_.jsxs)("p",{children:["First Name: ",n.firstName]})]}),(0,N_.jsx)("button",{className:"btn btn-primary",onClick:function(){return o.apply(this,arguments)},children:"Logout"})]}):(0,N_.jsx)("p",{children:"Loading..."})})};var j_=function(){var t=s((0,e.useState)(null),2),n=t[0],r=t[1],a=s((0,e.useState)(null),2),o=a[0],u=a[1],c=s((0,e.useState)(!0),2),f=c[0],h=c[1];return(0,e.useEffect)((function(){var e=Hw.onAuthStateChanged(function(){var e=i(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(t),!t){e.next=14;break}return e.prev=2,e.next=5,fb(vk(Kw,"Users",t.uid));case 5:(n=e.sent).exists()&&(i=n.data(),u(i.role)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user role:",e.t0);case 12:e.next=15;break;case 14:u(null);case 15:h(!1);case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[]),f?(0,N_.jsx)("div",{className:"App",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,N_.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,N_.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,N_.jsx)(K,{children:(0,N_.jsx)("div",{className:"App",children:(0,N_.jsx)("div",{className:"auth-wrapper",children:(0,N_.jsxs)("div",{className:"auth-inner",children:[(0,N_.jsxs)(q,{children:[(0,N_.jsx)(z,{path:"/",element:n?"teacher"===o?(0,N_.jsx)(V,{to:"/teacher-dashboard"}):(0,N_.jsx)(V,{to:"/profile"}):(0,N_.jsx)(V,{to:"/login"})}),(0,N_.jsx)(z,{path:"/login",element:n?(0,N_.jsx)(V,{to:"/"}):(0,N_.jsx)(R_,{})}),(0,N_.jsx)(z,{path:"/register",element:n?(0,N_.jsx)(V,{to:"/"}):(0,N_.jsx)(P_,{})}),(0,N_.jsx)(z,{path:"/teacher-dashboard",element:n?"teacher"===o?(0,N_.jsx)(L_,{}):(0,N_.jsx)(V,{to:"/profile"}):(0,N_.jsx)(V,{to:"/login"})}),(0,N_.jsx)(z,{path:"/profile",element:n?(0,N_.jsx)(M_,{}):(0,N_.jsx)(V,{to:"/login"})}),(0,N_.jsx)(z,{path:"*",element:(0,N_.jsx)(V,{to:"/"})})]}),(0,N_.jsx)(C_,{})]})})})})},U_=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};t.createRoot(document.getElementById("root")).render((0,N_.jsx)(e.StrictMode,{children:(0,N_.jsx)(j_,{})})),U_()}()}();
//# sourceMappingURL=main.555d8aad.js.map